Version 1
From 0.000000 1.000000
Length 4096
Components 1
{
    0.0000000000000E+0
    2.7818000588204E-6
    5.5712862287959E-6
    8.3684797068371E-6
    1.1173401748090E-5
    1.3986073666094E-5
    1.6806516832943E-5
    1.9634752679446E-5
    2.2470802695285E-5
    2.5314688429173E-5
    2.8166431489022E-5
    3.1026053542099E-5
    3.3893576315187E-5
    3.6769021594752E-5
    3.9652411227101E-5
    4.2543767118549E-5
    4.5443111235579E-5
    4.8350465605006E-5
    5.1265852314146E-5
    5.4189293510975E-5
    5.7120811404300E-5
    6.0060428263917E-5
    6.3008166420787E-5
    6.5964048267193E-5
    6.8928096256914E-5
    7.1900332905389E-5
    7.4880780789886E-5
    7.7869462549671E-5
    8.0866400886175E-5
    8.3871618563166E-5
    8.6885138406915E-5
    8.9906983306369E-5
    9.2937176213323E-5
    9.5975740142587E-5
    9.9022698172160E-5
    1.0207807344340E-4
    1.0514188916121E-4
    1.0821416859418E-4
    1.1129493507479E-4
    1.1438421199958E-4
    1.1748202282931E-4
    1.2058839108913E-4
    1.2370334036880E-4
    1.2682689432280E-4
    1.2995907667056E-4
    1.3309991119662E-4
    1.3624942175079E-4
    1.3940763224835E-4
    1.4257456667020E-4
    1.4575024906310E-4
    1.4893470353977E-4
    1.5212795427912E-4
    1.5533002552641E-4
    1.5854094159344E-4
    1.6176072685875E-4
    1.6498940576775E-4
    1.6822700283294E-4
    1.7147354263409E-4
    1.7472904981841E-4
    1.7799354910075E-4
    1.8126706526377E-4
    1.8454962315812E-4
    1.8784124770264E-4
    1.9114196388455E-4
    1.9445179675961E-4
    1.9777077145232E-4
    2.0109891315613E-4
    2.0443624713358E-4
    2.0778279871652E-4
    2.1113859330630E-4
    2.1450365637395E-4
    2.1787801346036E-4
    2.2126169017649E-4
    2.2465471220354E-4
    2.2805710529316E-4
    2.3146889526764E-4
    2.3489010802007E-4
    2.3832076951457E-4
    2.4176090578649E-4
    2.4521054294254E-4
    2.4866970716107E-4
    2.5213842469220E-4
    2.5561672185803E-4
    2.5910462505287E-4
    2.6260216074337E-4
    2.6610935546878E-4
    2.6962623584113E-4
    2.7315282854540E-4
    2.7668916033974E-4
    2.8023525805568E-4
    2.8379114859830E-4
    2.8735685894644E-4
    2.9093241615294E-4
    2.9451784734477E-4
    2.9811317972328E-4
    3.0171844056439E-4
    3.0533365721880E-4
    3.0895885711217E-4
    3.1259406774535E-4
    3.1623931669456E-4
    3.1989463161161E-4
    3.2356004022412E-4
    3.2723557033568E-4
    3.3092124982611E-4
    3.3461710665161E-4
    3.3832316884503E-4
    3.4203946451602E-4
    3.4576602185128E-4
    3.4950286911474E-4
    3.5325003464780E-4
    3.5700754686950E-4
    3.6077543427678E-4
    3.6455372544463E-4
    3.6834244902636E-4
    3.7214163375378E-4
    3.7595130843744E-4
    3.7977150196678E-4
    3.8360224331044E-4
    3.8744356151639E-4
    3.9129548571218E-4
    3.9515804510517E-4
    3.9903126898271E-4
    4.0291518671240E-4
    4.0680982774226E-4
    4.1071522160099E-4
    4.1463139789816E-4
    4.1855838632445E-4
    4.2249621665184E-4
    4.2644491873387E-4
    4.3040452250583E-4
    4.3437505798501E-4
    4.3835655527087E-4
    4.4234904454532E-4
    4.4635255607293E-4
    4.5036712020112E-4
    4.5439276736042E-4
    4.5842952806469E-4
    4.6247743291131E-4
    4.6653651258148E-4
    4.7060679784036E-4
    4.7468831953736E-4
    4.7878110860635E-4
    4.8288519606588E-4
    4.8700061301941E-4
    4.9112739065555E-4
    4.9526556024829E-4
    4.9941515315721E-4
    5.0357620082776E-4
    5.0774873479141E-4
    5.1193278666599E-4
    5.1612838815582E-4
    5.2033557105201E-4
    5.2455436723269E-4
    5.2878480866320E-4
    5.3302692739637E-4
    5.3728075557275E-4
    5.4154632542084E-4
    5.4582366925731E-4
    5.5011281948728E-4
    5.5441380860452E-4
    5.5872666919171E-4
    5.6305143392067E-4
    5.6738813555262E-4
    5.7173680693840E-4
    5.7609748101872E-4
    5.8047019082440E-4
    5.8485496947662E-4
    5.8925185018717E-4
    5.9366086625867E-4
    5.9808205108484E-4
    6.0251543815074E-4
    6.0696106103301E-4
    6.1141895340011E-4
    6.1588914901260E-4
    6.2037168172336E-4
    6.2486658547785E-4
    6.2937389431435E-4
    6.3389364236421E-4
    6.3842586385214E-4
    6.4297059309640E-4
    6.4752786450911E-4
    6.5209771259646E-4
    6.5668017195898E-4
    6.6127527729180E-4
    6.6588306338492E-4
    6.7050356512341E-4
    6.7513681748774E-4
    6.7978285555398E-4
    6.8444171449408E-4
    6.8911342957615E-4
    6.9379803616466E-4
    6.9849556972077E-4
    7.0320606580254E-4
    7.0792956006522E-4
    7.1266608826149E-4
    7.1741568624175E-4
    7.2217838995435E-4
    7.2695423544589E-4
    7.3174325886145E-4
    7.3654549644489E-4
    7.4136098453907E-4
    7.4618975958619E-4
    7.5103185812796E-4
    7.5588731680597E-4
    7.6075617236187E-4
    7.6563846163772E-4
    7.7053422157619E-4
    7.7544348922087E-4
    7.8036630171653E-4
    7.8530269630942E-4
    7.9025271034748E-4
    7.9521638128070E-4
    8.0019374666130E-4
    8.0518484414409E-4
    8.1018971148669E-4
    8.1520838654985E-4
    8.2024090729766E-4
    8.2528731179793E-4
    8.3034763822236E-4
    8.3542192484691E-4
    8.4051021005203E-4
    8.4561253232293E-4
    8.5072893024991E-4
    8.5585944252863E-4
    8.6100410796035E-4
    8.6616296545226E-4
    8.7133605401776E-4
    8.7652341277673E-4
    8.8172508095580E-4
    8.8694109788870E-4
    8.9217150301647E-4
    8.9741633588782E-4
    9.0267563615937E-4
    9.0794944359595E-4
    9.1323779807090E-4
    9.1854073956637E-4
    9.2385830817359E-4
    9.2919054409318E-4
    9.3453748763543E-4
    9.3989917922062E-4
    9.4527565937928E-4
    9.5066696875251E-4
    9.5607314809229E-4
    9.6149423826173E-4
    9.6693028023541E-4
    9.7238131509969E-4
    9.7784738405295E-4
    9.8332852840596E-4
    9.8882478958213E-4
    9.9433620911784E-4
    9.9986282866275E-4
    1.0054046899801E-3
    1.0109618349469E-3
    1.0165343055545E-3
    1.0221221439086E-3
    1.0277253922299E-3
    1.0333440928539E-3
    1.0389782882317E-3
    1.0446280209301E-3
    1.0502933336320E-3
    1.0559742691364E-3
    1.0616708703593E-3
    1.0673831803335E-3
    1.0731112422089E-3
    1.0788550992532E-3
    1.0846147948521E-3
    1.0903903725093E-3
    1.0961818758472E-3
    1.1019893486070E-3
    1.1078128346491E-3
    1.1136523779533E-3
    1.1195080226194E-3
    1.1253798128673E-3
    1.1312677930372E-3
    1.1371720075902E-3
    1.1430925011087E-3
    1.1490293182961E-3
    1.1549825039779E-3
    1.1609521031017E-3
    1.1669381607372E-3
    1.1729407220772E-3
    1.1789598324373E-3
    1.1849955372567E-3
    1.1910478820982E-3
    1.1971169126487E-3
    1.2032026747194E-3
    1.2093052142464E-3
    1.2154245772908E-3
    1.2215608100389E-3
    1.2277139588031E-3
    1.2338840700214E-3
    1.2400711902587E-3
    1.2462753662063E-3
    1.2524966446826E-3
    1.2587350726336E-3
    1.2649906971328E-3
    1.2712635653821E-3
    1.2775537247116E-3
    1.2838612225803E-3
    1.2901861065763E-3
    1.2965284244172E-3
    1.3028882239504E-3
    1.3092655531534E-3
    1.3156604601344E-3
    1.3220729931323E-3
    1.3285032005172E-3
    1.3349511307909E-3
    1.3414168325871E-3
    1.3479003546715E-3
    1.3544017459429E-3
    1.3609210554326E-3
    1.3674583323055E-3
    1.3740136258601E-3
    1.3805869855290E-3
    1.3871784608792E-3
    1.3937881016124E-3
    1.4004159575654E-3
    1.4070620787105E-3
    1.4137265151560E-3
    1.4204093171461E-3
    1.4271105350617E-3
    1.4338302194209E-3
    1.4405684208786E-3
    1.4473251902277E-3
    1.4541005783991E-3
    1.4608946364620E-3
    1.4677074156243E-3
    1.4745389672332E-3
    1.4813893427754E-3
    1.4882585938774E-3
    1.4951467723059E-3
    1.5020539299683E-3
    1.5089801189130E-3
    1.5159253913297E-3
    1.5228897995500E-3
    1.5298733960474E-3
    1.5368762334382E-3
    1.5438983644813E-3
    1.5509398420789E-3
    1.5580007192772E-3
    1.5650810492659E-3
    1.5721808853794E-3
    1.5793002810970E-3
    1.5864392900429E-3
    1.5935979659871E-3
    1.6007763628453E-3
    1.6079745346799E-3
    1.6151925356997E-3
    1.6224304202608E-3
    1.6296882428668E-3
    1.6369660581690E-3
    1.6442639209674E-3
    1.6515818862102E-3
    1.6589200089951E-3
    1.6662783445691E-3
    1.6736569483290E-3
    1.6810558758221E-3
    1.6884751827461E-3
    1.6959149249501E-3
    1.7033751584344E-3
    1.7108559393513E-3
    1.7183573240053E-3
    1.7258793688537E-3
    1.7334221305068E-3
    1.7409856657286E-3
    1.7485700314366E-3
    1.7561752847029E-3
    1.7638014827545E-3
    1.7714486829730E-3
    1.7791169428960E-3
    1.7868063202170E-3
    1.7945168727856E-3
    1.8022486586084E-3
    1.8100017358492E-3
    1.8177761628294E-3
    1.8255719980283E-3
    1.8333893000839E-3
    1.8412281277929E-3
    1.8490885401112E-3
    1.8569705961547E-3
    1.8648743551992E-3
    1.8727998766811E-3
    1.8807472201979E-3
    1.8887164455084E-3
    1.8967076125333E-3
    1.9047207813555E-3
    1.9127560122207E-3
    1.9208133655377E-3
    1.9288929018787E-3
    1.9369946819801E-3
    1.9451187667427E-3
    1.9532652172321E-3
    1.9614340946791E-3
    1.9696254604803E-3
    1.9778393761987E-3
    1.9860759035637E-3
    1.9943351044716E-3
    2.0026170409865E-3
    2.0109217753402E-3
    2.0192493699330E-3
    2.0275998873341E-3
    2.0359733902817E-3
    2.0443699416840E-3
    2.0527896046191E-3
    2.0612324423361E-3
    2.0696985182546E-3
    2.0781878959663E-3
    2.0867006392345E-3
    2.0952368119949E-3
    2.1037964783564E-3
    2.1123797026009E-3
    2.1209865491842E-3
    2.1296170827364E-3
    2.1382713680622E-3
    2.1469494701415E-3
    2.1556514541300E-3
    2.1643773853593E-3
    2.1731273293375E-3
    2.1819013517498E-3
    2.1906995184590E-3
    2.1995218955058E-3
    2.2083685491091E-3
    2.2172395456670E-3
    2.2261349517568E-3
    2.2350548341357E-3
    2.2439992597410E-3
    2.2529682956911E-3
    2.2619620092855E-3
    2.2709804680054E-3
    2.2800237395143E-3
    2.2890918916582E-3
    2.2981849924666E-3
    2.3073031101524E-3
    2.3164463131127E-3
    2.3256146699291E-3
    2.3348082493687E-3
    2.3440271203836E-3
    2.3532713521125E-3
    2.3625410138805E-3
    2.3718361751995E-3
    2.3811569057694E-3
    2.3905032754778E-3
    2.3998753544009E-3
    2.4092732128040E-3
    2.4186969211419E-3
    2.4281465500595E-3
    2.4376221703920E-3
    2.4471238531659E-3
    2.4566516695989E-3
    2.4662056911011E-3
    2.4757859892748E-3
    2.4853926359155E-3
    2.4950257030121E-3
    2.5046852627478E-3
    2.5143713875001E-3
    2.5240841498417E-3
    2.5338236225407E-3
    2.5435898785616E-3
    2.5533829910652E-3
    2.5632030334095E-3
    2.5730500791502E-3
    2.5829242020411E-3
    2.5928254760346E-3
    2.6027539752825E-3
    2.6127097741360E-3
    2.6226929471467E-3
    2.6327035690670E-3
    2.6427417148504E-3
    2.6528074596524E-3
    2.6629008788307E-3
    2.6730220479459E-3
    2.6831710427620E-3
    2.6933479392468E-3
    2.7035528135728E-3
    2.7137857421172E-3
    2.7240468014630E-3
    2.7343360683990E-3
    2.7446536199208E-3
    2.7549995332309E-3
    2.7653738857397E-3
    2.7757767550658E-3
    2.7862082190364E-3
    2.7966683556881E-3
    2.8071572432674E-3
    2.8176749602311E-3
    2.8282215852469E-3
    2.8387971971943E-3
    2.8494018751644E-3
    2.8600356984612E-3
    2.8706987466017E-3
    2.8813910993168E-3
    2.8921128365515E-3
    2.9028640384657E-3
    2.9136447854345E-3
    2.9244551580491E-3
    2.9352952371172E-3
    2.9461651036636E-3
    2.9570648389307E-3
    2.9679945243789E-3
    2.9789542416876E-3
    2.9899440727555E-3
    3.0009640997011E-3
    3.0120144048634E-3
    3.0230950708025E-3
    3.0342061803002E-3
    3.0453478163602E-3
    3.0565200622092E-3
    3.0677230012972E-3
    3.0789567172982E-3
    3.0902212941105E-3
    3.1015168158577E-3
    3.1128433668891E-3
    3.1242010317800E-3
    3.1355898953328E-3
    3.1470100425773E-3
    3.1584615587711E-3
    3.1699445294007E-3
    3.1814590401817E-3
    3.1930051770594E-3
    3.2045830262098E-3
    3.2161926740394E-3
    3.2278342071868E-3
    3.2395077125225E-3
    3.2512132771498E-3
    3.2629509884055E-3
    3.2747209338603E-3
    3.2865232013196E-3
    3.2983578788240E-3
    3.3102250546497E-3
    3.3221248173098E-3
    3.3340572555538E-3
    3.3460224583694E-3
    3.3580205149823E-3
    3.3700515148572E-3
    3.3821155476980E-3
    3.3942127034492E-3
    3.4063430722956E-3
    3.4185067446636E-3
    3.4307038112215E-3
    3.4429343628802E-3
    3.4551984907938E-3
    3.4674962863603E-3
    3.4798278412222E-3
    3.4921932472670E-3
    3.5045925966281E-3
    3.5170259816851E-3
    3.5294934950648E-3
    3.5419952296416E-3
    3.5545312785380E-3
    3.5671017351257E-3
    3.5797066930257E-3
    3.5923462461094E-3
    3.6050204884990E-3
    3.6177295145681E-3
    3.6304734189427E-3
    3.6432522965012E-3
    3.6560662423757E-3
    3.6689153519524E-3
    3.6817997208722E-3
    3.6947194450313E-3
    3.7076746205821E-3
    3.7206653439336E-3
    3.7336917117522E-3
    3.7467538209623E-3
    3.7598517687471E-3
    3.7729856525491E-3
    3.7861555700707E-3
    3.7993616192752E-3
    3.8126038983870E-3
    3.8258825058928E-3
    3.8391975405418E-3
    3.8525491013466E-3
    3.8659372875840E-3
    3.8793621987952E-3
    3.8928239347870E-3
    3.9063225956324E-3
    3.9198582816710E-3
    3.9334310935097E-3
    3.9470411320237E-3
    3.9606884983570E-3
    3.9743732939231E-3
    3.9880956204056E-3
    4.0018555797591E-3
    4.0156532742096E-3
    4.0294888062554E-3
    4.0433622786679E-3
    4.0572737944920E-3
    4.0712234570469E-3
    4.0852113699270E-3
    4.0992376370024E-3
    4.1133023624196E-3
    4.1274056506023E-3
    4.1415476062520E-3
    4.1557283343488E-3
    4.1699479401522E-3
    4.1842065292015E-3
    4.1985042073168E-3
    4.2128410805996E-3
    4.2272172554336E-3
    4.2416328384851E-3
    4.2560879367043E-3
    4.2705826573256E-3
    4.2851171078682E-3
    4.2996913961373E-3
    4.3143056302244E-3
    4.3289599185083E-3
    4.3436543696556E-3
    4.3583890926218E-3
    4.3731641966513E-3
    4.3879797912792E-3
    4.4028359863311E-3
    4.4177328919242E-3
    4.4326706184681E-3
    4.4476492766656E-3
    4.4626689775130E-3
    4.4777298323015E-3
    4.4928319526174E-3
    4.5079754503430E-3
    4.5231604376576E-3
    4.5383870270379E-3
    4.5536553312591E-3
    4.5689654633951E-3
    4.5843175368199E-3
    4.5997116652081E-3
    4.6151479625354E-3
    4.6306265430798E-3
    4.6461475214221E-3
    4.6617110124467E-3
    4.6773171313424E-3
    4.6929659936031E-3
    4.7086577150287E-3
    4.7243924117258E-3
    4.7401702001084E-3
    4.7559911968989E-3
    4.7718555191285E-3
    4.7877632841384E-3
    4.8037146095803E-3
    4.8197096134171E-3
    4.8357484139242E-3
    4.8518311296896E-3
    4.8679578796152E-3
    4.8841287829175E-3
    4.9003439591279E-3
    4.9166035280944E-3
    4.9329076099816E-3
    4.9492563252717E-3
    4.9656497947656E-3
    4.9820881395833E-3
    4.9985714811651E-3
    5.0150999412720E-3
    5.0316736419867E-3
    5.0482927057144E-3
    5.0649572551837E-3
    5.0816674134472E-3
    5.0984233038825E-3
    5.1152250501929E-3
    5.1320727764083E-3
    5.1489666068860E-3
    5.1659066663112E-3
    5.1828930796985E-3
    5.1999259723922E-3
    5.2170054700672E-3
    5.2341316987299E-3
    5.2513047847191E-3
    5.2685248547066E-3
    5.2857920356982E-3
    5.3031064550347E-3
    5.3204682403924E-3
    5.3378775197839E-3
    5.3553344215596E-3
    5.3728390744075E-3
    5.3903916073550E-3
    5.4079921497693E-3
    5.4256408313580E-3
    5.4433377821707E-3
    5.4610831325989E-3
    5.4788770133778E-3
    5.4967195555865E-3
    5.5146108906489E-3
    5.5325511503349E-3
    5.5505404667611E-3
    5.5685789723916E-3
    5.5866668000387E-3
    5.6048040828643E-3
    5.6229909543801E-3
    5.6412275484489E-3
    5.6595139992856E-3
    5.6778504414575E-3
    5.6962370098856E-3
    5.7146738398456E-3
    5.7331610669683E-3
    5.7516988272408E-3
    5.7702872570075E-3
    5.7889264929705E-3
    5.8076166721912E-3
    5.8263579320904E-3
    5.8451504104497E-3
    5.8639942454124E-3
    5.8828895754841E-3
    5.9018365395338E-3
    5.9208352767947E-3
    5.9398859268653E-3
    5.9589886297099E-3
    5.9781435256599E-3
    5.9973507554145E-3
    6.0166104600418E-3
    6.0359227809794E-3
    6.0552878600355E-3
    6.0747058393899E-3
    6.0941768615946E-3
    6.1137010695751E-3
    6.1332786066310E-3
    6.1529096164372E-3
    6.1725942430446E-3
    6.1923326308811E-3
    6.2121249247524E-3
    6.2319712698433E-3
    6.2518718117183E-3
    6.2718266963223E-3
    6.2918360699824E-3
    6.3119000794079E-3
    6.3320188716916E-3
    6.3521925943110E-3
    6.3724213951288E-3
    6.3927054223940E-3
    6.4130448247432E-3
    6.4334397512007E-3
    6.4538903511806E-3
    6.4743967744865E-3
    6.4949591713137E-3
    6.5155776922490E-3
    6.5362524882726E-3
    6.5569837107583E-3
    6.5777715114750E-3
    6.5986160425876E-3
    6.6195174566575E-3
    6.6404759066443E-3
    6.6614915459059E-3
    6.6825645282005E-3
    6.7036950076864E-3
    6.7248831389242E-3
    6.7461290768767E-3
    6.7674329769104E-3
    6.7887949947968E-3
    6.8102152867125E-3
    6.8316940092410E-3
    6.8532313193733E-3
    6.8748273745089E-3
    6.8964823324569E-3
    6.9181963514370E-3
    6.9399695900802E-3
    6.9618022074304E-3
    6.9836943629447E-3
    7.0056462164949E-3
    7.0276579283682E-3
    7.0497296592686E-3
    7.0718615703173E-3
    7.0940538230543E-3
    7.1163065794390E-3
    7.1386200018514E-3
    7.1609942530932E-3
    7.1834294963885E-3
    7.2059258953853E-3
    7.2284836141559E-3
    7.2511028171984E-3
    7.2737836694377E-3
    7.2965263362263E-3
    7.3193309833453E-3
    7.3421977770059E-3
    7.3651268838497E-3
    7.3881184709505E-3
    7.4111727058146E-3
    7.4342897563825E-3
    7.4574697910296E-3
    7.4807129785671E-3
    7.5040194882433E-3
    7.5273894897448E-3
    7.5508231531969E-3
    7.5743206491656E-3
    7.5978821486576E-3
    7.6215078231222E-3
    7.6451978444519E-3
    7.6689523849837E-3
    7.6927716175000E-3
    7.7166557152296E-3
    7.7406048518491E-3
    7.7646192014835E-3
    7.7886989387078E-3
    7.8128442385474E-3
    7.8370552764799E-3
    7.8613322284357E-3
    7.8856752707992E-3
    7.9100845804098E-3
    7.9345603345632E-3
    7.9591027110123E-3
    7.9837118879684E-3
    8.0083880441020E-3
    8.0331313585443E-3
    8.0579420108880E-3
    8.0828201811886E-3
    8.1077660499653E-3
    8.1327797982021E-3
    8.1578616073491E-3
    8.1830116593235E-3
    8.2082301365106E-3
    8.2335172217650E-3
    8.2588730984116E-3
    8.2842979502471E-3
    8.3097919615405E-3
    8.3353553170345E-3
    8.3609882019471E-3
    8.3866908019716E-3
    8.4124633032790E-3
    8.4383058925180E-3
    8.4642187568169E-3
    8.4902020837843E-3
    8.5162560615106E-3
    8.5423808785687E-3
    8.5685767240153E-3
    8.5948437873923E-3
    8.6211822587273E-3
    8.6475923285356E-3
    8.6740741878206E-3
    8.7006280280753E-3
    8.7272540412834E-3
    8.7539524199203E-3
    8.7807233569544E-3
    8.8075670458482E-3
    8.8344836805596E-3
    8.8614734555428E-3
    8.8885365657495E-3
    8.9156732066301E-3
    8.9428835741352E-3
    8.9701678647160E-3
    8.9975262753263E-3
    9.0249590034231E-3
    9.0524662469679E-3
    9.0800482044280E-3
    9.1077050747776E-3
    9.1354370574989E-3
    9.1632443525834E-3
    9.1911271605329E-3
    9.2190856823610E-3
    9.2471201195940E-3
    9.2752306742720E-3
    9.3034175489504E-3
    9.3316809467009E-3
    9.3600210711129E-3
    9.3884381262942E-3
    9.4169323168728E-3
    9.4455038479976E-3
    9.4741529253401E-3
    9.5028797550949E-3
    9.5316845439816E-3
    9.5605674992458E-3
    9.5895288286599E-3
    9.6185687405249E-3
    9.6476874436713E-3
    9.6768851474603E-3
    9.7061620617851E-3
    9.7355183970721E-3
    9.7649543642821E-3
    9.7944701749115E-3
    9.8240660409936E-3
    9.8537421750998E-3
    9.8834987903407E-3
    9.9133361003675E-3
    9.9432543193732E-3
    9.9732536620938E-3
    1.0003334343810E-2
    1.0033496580346E-2
    1.0063740588075E-2
    1.0094066583918E-2
    1.0124474785344E-2
    1.0154965410373E-2
    1.0185538677576E-2
    1.0216194806078E-2
    1.0246934015558E-2
    1.0277756526250E-2
    1.0308662558945E-2
    1.0339652334992E-2
    1.0370726076298E-2
    1.0401884005333E-2
    1.0433126345126E-2
    1.0464453319271E-2
    1.0495865151925E-2
    1.0527362067812E-2
    1.0558944292220E-2
    1.0590612051009E-2
    1.0622365570605E-2
    1.0654205078006E-2
    1.0686130800782E-2
    1.0718142967075E-2
    1.0750241805604E-2
    1.0782427545662E-2
    1.0814700417118E-2
    1.0847060650422E-2
    1.0879508476601E-2
    1.0912044127264E-2
    1.0944667834604E-2
    1.0977379831394E-2
    1.1010180350994E-2
    1.1043069627351E-2
    1.1076047894996E-2
    1.1109115389052E-2
    1.1142272345230E-2
    1.1175518999834E-2
    1.1208855589760E-2
    1.1242282352497E-2
    1.1275799526130E-2
    1.1309407349340E-2
    1.1343106061407E-2
    1.1376895902210E-2
    1.1410777112227E-2
    1.1444749932540E-2
    1.1478814604832E-2
    1.1512971371393E-2
    1.1547220475117E-2
    1.1581562159505E-2
    1.1615996668667E-2
    1.1650524247324E-2
    1.1685145140806E-2
    1.1719859595058E-2
    1.1754667856636E-2
    1.1789570172713E-2
    1.1824566791078E-2
    1.1859657960138E-2
    1.1894843928920E-2
    1.1930124947070E-2
    1.1965501264856E-2
    1.2000973133172E-2
    1.2036540803532E-2
    1.2072204528081E-2
    1.2107964559587E-2
    1.2143821151450E-2
    1.2179774557698E-2
    1.2215825032991E-2
    1.2251972832621E-2
    1.2288218212517E-2
    1.2324561429239E-2
    1.2361002739989E-2
    1.2397542402603E-2
    1.2434180675559E-2
    1.2470917817974E-2
    1.2507754089611E-2
    1.2544689750873E-2
    1.2581725062809E-2
    1.2618860287117E-2
    1.2656095686140E-2
    1.2693431522871E-2
    1.2730868060955E-2
    1.2768405564688E-2
    1.2806044299019E-2
    1.2843784529554E-2
    1.2881626522551E-2
    1.2919570544931E-2
    1.2957616864271E-2
    1.2995765748809E-2
    1.3034017467443E-2
    1.3072372289739E-2
    1.3110830485922E-2
    1.3149392326887E-2
    1.3188058084196E-2
    1.3226828030079E-2
    1.3265702437435E-2
    1.3304681579837E-2
    1.3343765731531E-2
    1.3382955167437E-2
    1.3422250163150E-2
    1.3461650994943E-2
    1.3501157939769E-2
    1.3540771275259E-2
    1.3580491279729E-2
    1.3620318232173E-2
    1.3660252412276E-2
    1.3700294100402E-2
    1.3740443577609E-2
    1.3780701125638E-2
    1.3821067026924E-2
    1.3861541564593E-2
    1.3902125022462E-2
    1.3942817685046E-2
    1.3983619837552E-2
    1.4024531765889E-2
    1.4065553756660E-2
    1.4106686097173E-2
    1.4147929075433E-2
    1.4189282980153E-2
    1.4230748100747E-2
    1.4272324727337E-2
    1.4314013150751E-2
    1.4355813662528E-2
    1.4397726554916E-2
    1.4439752120875E-2
    1.4481890654080E-2
    1.4524142448918E-2
    1.4566507800494E-2
    1.4608987004631E-2
    1.4651580357871E-2
    1.4694288157476E-2
    1.4737110701431E-2
    1.4780048288444E-2
    1.4823101217948E-2
    1.4866269790103E-2
    1.4909554305797E-2
    1.4952955066648E-2
    1.4996472375002E-2
    1.5040106533942E-2
    1.5083857847282E-2
    1.5127726619571E-2
    1.5171713156097E-2
    1.5215817762884E-2
    1.5260040746699E-2
    1.5304382415047E-2
    1.5348843076176E-2
    1.5393423039082E-2
    1.5438122613502E-2
    1.5482942109924E-2
    1.5527881839581E-2
    1.5572942114461E-2
    1.5618123247299E-2
    1.5663425551585E-2
    1.5708849341566E-2
    1.5754394932241E-2
    1.5800062639371E-2
    1.5845852779472E-2
    1.5891765669823E-2
    1.5937801628465E-2
    1.5983960974203E-2
    1.6030244026606E-2
    1.6076651106011E-2
    1.6123182533522E-2
    1.6169838631013E-2
    1.6216619721129E-2
    1.6263526127289E-2
    1.6310558173685E-2
    1.6357716185284E-2
    1.6405000487832E-2
    1.6452411407852E-2
    1.6499949272649E-2
    1.6547614410307E-2
    1.6595407149697E-2
    1.6643327820472E-2
    1.6691376753071E-2
    1.6739554278723E-2
    1.6787860729444E-2
    1.6836296438042E-2
    1.6884861738118E-2
    1.6933556964066E-2
    1.6982382451074E-2
    1.7031338535129E-2
    1.7080425553016E-2
    1.7129643842318E-2
    1.7178993741423E-2
    1.7228475589518E-2
    1.7278089726598E-2
    1.7327836493461E-2
    1.7377716231715E-2
    1.7427729283774E-2
    1.7477875992867E-2
    1.7528156703030E-2
    1.7578571759118E-2
    1.7629121506795E-2
    1.7679806292548E-2
    1.7730626463677E-2
    1.7781582368305E-2
    1.7832674355375E-2
    1.7883902774653E-2
    1.7935267976728E-2
    1.7986770313017E-2
    1.8038410135764E-2
    1.8090187798041E-2
    1.8142103653749E-2
    1.8194158057625E-2
    1.8246351365236E-2
    1.8298683932986E-2
    1.8351156118114E-2
    1.8403768278697E-2
    1.8456520773654E-2
    1.8509413962743E-2
    1.8562448206566E-2
    1.8615623866567E-2
    1.8668941305037E-2
    1.8722400885117E-2
    1.8776002970792E-2
    1.8829747926901E-2
    1.8883636119132E-2
    1.8937667914030E-2
    1.8991843678992E-2
    1.9046163782272E-2
    1.9100628592982E-2
    1.9155238481096E-2
    1.9209993817445E-2
    1.9264894973727E-2
    1.9319942322499E-2
    1.9375136237189E-2
    1.9430477092089E-2
    1.9485965262360E-2
    1.9541601124035E-2
    1.9597385054016E-2
    1.9653317430082E-2
    1.9709398630885E-2
    1.9765629035951E-2
    1.9822009025689E-2
    1.9878538981384E-2
    1.9935219285203E-2
    1.9992050320195E-2
    2.0049032470294E-2
    2.0106166120319E-2
    2.0163451655977E-2
    2.0220889463863E-2
    2.0278479931462E-2
    2.0336223447151E-2
    2.0394120400201E-2
    2.0452171180777E-2
    2.0510376179941E-2
    2.0568735789652E-2
    2.0627250402768E-2
    2.0685920413051E-2
    2.0744746215161E-2
    2.0803728204666E-2
    2.0862866778037E-2
    2.0922162332653E-2
    2.0981615266801E-2
    2.1041225979680E-2
    2.1100994871398E-2
    2.1160922342977E-2
    2.1221008796355E-2
    2.1281254634384E-2
    2.1341660260836E-2
    2.1402226080400E-2
    2.1462952498688E-2
    2.1523839922232E-2
    2.1584888758489E-2
    2.1646099415842E-2
    2.1707472303600E-2
    2.1769007832000E-2
    2.1830706412209E-2
    2.1892568456325E-2
    2.1954594377381E-2
    2.2016784589342E-2
    2.2079139507109E-2
    2.2141659546521E-2
    2.2204345124358E-2
    2.2267196658336E-2
    2.2330214567117E-2
    2.2393399270303E-2
    2.2456751188445E-2
    2.2520270743036E-2
    2.2583958356519E-2
    2.2647814452288E-2
    2.2711839454685E-2
    2.2776033789006E-2
    2.2840397881501E-2
    2.2904932159375E-2
    2.2969637050789E-2
    2.3034512984865E-2
    2.3099560391681E-2
    2.3164779702280E-2
    2.3230171348665E-2
    2.3295735763806E-2
    2.3361473381637E-2
    2.3427384637060E-2
    2.3493469965944E-2
    2.3559729805132E-2
    2.3626164592434E-2
    2.3692774766638E-2
    2.3759560767502E-2
    2.3826523035764E-2
    2.3893662013136E-2
    2.3960978142313E-2
    2.4028471866968E-2
    2.4096143631756E-2
    2.4163993882315E-2
    2.4232023065271E-2
    2.4300231628232E-2
    2.4368620019796E-2
    2.4437188689552E-2
    2.4505938088076E-2
    2.4574868666939E-2
    2.4643980878704E-2
    2.4713275176929E-2
    2.4782752016170E-2
    2.4852411851979E-2
    2.4922255140909E-2
    2.4992282340513E-2
    2.5062493909345E-2
    2.5132890306965E-2
    2.5203471993936E-2
    2.5274239431829E-2
    2.5345193083221E-2
    2.5416333411700E-2
    2.5487660881864E-2
    2.5559175959324E-2
    2.5630879110702E-2
    2.5702770803638E-2
    2.5774851506786E-2
    2.5847121689820E-2
    2.5919581823431E-2
    2.5992232379331E-2
    2.6065073830254E-2
    2.6138106649959E-2
    2.6211331313226E-2
    2.6284748295865E-2
    2.6358358074710E-2
    2.6432161127627E-2
    2.6506157933510E-2
    2.6580348972284E-2
    2.6654734724909E-2
    2.6729315673379E-2
    2.6804092300721E-2
    2.6879065091002E-2
    2.6954234529326E-2
    2.7029601101837E-2
    2.7105165295720E-2
    2.7180927599201E-2
    2.7256888501552E-2
    2.7333048493088E-2
    2.7409408065172E-2
    2.7485967710214E-2
    2.7562727921671E-2
    2.7639689194055E-2
    2.7716852022924E-2
    2.7794216904893E-2
    2.7871784337631E-2
    2.7949554819859E-2
    2.8027528851359E-2
    2.8105706932969E-2
    2.8184089566586E-2
    2.8262677255170E-2
    2.8341470502740E-2
    2.8420469814381E-2
    2.8499675696239E-2
    2.8579088655531E-2
    2.8658709200535E-2
    2.8738537840602E-2
    2.8818575086151E-2
    2.8898821448670E-2
    2.8979277440723E-2
    2.9059943575943E-2
    2.9140820369041E-2
    2.9221908335801E-2
    2.9303207993086E-2
    2.9384719858836E-2
    2.9466444452070E-2
    2.9548382292890E-2
    2.9630533902477E-2
    2.9712899803097E-2
    2.9795480518100E-2
    2.9878276571919E-2
    2.9961288490076E-2
    3.0044516799181E-2
    3.0127962026931E-2
    3.0211624702116E-2
    3.0295505354614E-2
    3.0379604515396E-2
    3.0463922716530E-2
    3.0548460491175E-2
    3.0633218373586E-2
    3.0718196899118E-2
    3.0803396604220E-2
    3.0888818026444E-2
    3.0974461704441E-2
    3.1060328177962E-2
    3.1146417987862E-2
    3.1232731676100E-2
    3.1319269785740E-2
    3.1406032860949E-2
    3.1493021447005E-2
    3.1580236090292E-2
    3.1667677338302E-2
    3.1755345739639E-2
    3.1843241844017E-2
    3.1931366202263E-2
    3.2019719366317E-2
    3.2108301889234E-2
    3.2197114325183E-2
    3.2286157229450E-2
    3.2375431158439E-2
    3.2464936669672E-2
    3.2554674321789E-2
    3.2644644674553E-2
    3.2734848288847E-2
    3.2825285726675E-2
    3.2915957551168E-2
    3.3006864326578E-2
    3.3098006618282E-2
    3.3189384992787E-2
    3.3281000017723E-2
    3.3372852261851E-2
    3.3464942295059E-2
    3.3557270688366E-2
    3.3649838013923E-2
    3.3742644845009E-2
    3.3835691756041E-2
    3.3928979322565E-2
    3.4022508121263E-2
    3.4116278729953E-2
    3.4210291727590E-2
    3.4304547694263E-2
    3.4399047211202E-2
    3.4493790860773E-2
    3.4588779226485E-2
    3.4684012892984E-2
    3.4779492446060E-2
    3.4875218472642E-2
    3.4971191560806E-2
    3.5067412299768E-2
    3.5163881279890E-2
    3.5260599092678E-2
    3.5357566330787E-2
    3.5454783588015E-2
    3.5552251459310E-2
    3.5649970540767E-2
    3.5747941429631E-2
    3.5846164724296E-2
    3.5944641024306E-2
    3.6043370930357E-2
    3.6142355044297E-2
    3.6241593969124E-2
    3.6341088308993E-2
    3.6440838669211E-2
    3.6540845656238E-2
    3.6641109877691E-2
    3.6741631942343E-2
    3.6842412460123E-2
    3.6943452042116E-2
    3.7044751300566E-2
    3.7146310848874E-2
    3.7248131301602E-2
    3.7350213274469E-2
    3.7452557384354E-2
    3.7555164249299E-2
    3.7658034488505E-2
    3.7761168722336E-2
    3.7864567572316E-2
    3.7968231661134E-2
    3.8072161612640E-2
    3.8176358051851E-2
    3.8280821604945E-2
    3.8385552899265E-2
    3.8490552563320E-2
    3.8595821226786E-2
    3.8701359520502E-2
    3.8807168076474E-2
    3.8913247527878E-2
    3.9019598509053E-2
    3.9126221655508E-2
    3.9233117603919E-2
    3.9340286992133E-2
    3.9447730459161E-2
    3.9555448645188E-2
    3.9663442191566E-2
    3.9771711740816E-2
    3.9880257936632E-2
    3.9989081423875E-2
    4.0098182848579E-2
    4.0207562857948E-2
    4.0317222100358E-2
    4.0427161225356E-2
    4.0537380883660E-2
    4.0647881727162E-2
    4.0758664408924E-2
    4.0869729583181E-2
    4.0981077905342E-2
    4.1092710031987E-2
    4.1204626620870E-2
    4.1316828330916E-2
    4.1429315822227E-2
    4.1542089756074E-2
    4.1655150794905E-2
    4.1768499602341E-2
    4.1882136843174E-2
    4.1996063183372E-2
    4.2110279290076E-2
    4.2224785831602E-2
    4.2339583477438E-2
    4.2454672898247E-2
    4.2570054765867E-2
    4.2685729753306E-2
    4.2801698534750E-2
    4.2917961785557E-2
    4.3034520182258E-2
    4.3151374402560E-2
    4.3268525125341E-2
    4.3385973030653E-2
    4.3503718799724E-2
    4.3621763114951E-2
    4.3740106659908E-2
    4.3858750119340E-2
    4.3977694179165E-2
    4.4096939526473E-2
    4.4216486849529E-2
    4.4336336837766E-2
    4.4456490181793E-2
    4.4576947573389E-2
    4.4697709705503E-2
    4.4818777272258E-2
    4.4940150968946E-2
    4.5061831492031E-2
    4.5183819539145E-2
    4.5306115809092E-2
    4.5428721001845E-2
    4.5551635818545E-2
    4.5674860961504E-2
    4.5798397134201E-2
    4.5922245041282E-2
    4.6046405388563E-2
    4.6170878883024E-2
    4.6295666232816E-2
    4.6420768147251E-2
    4.6546185336809E-2
    4.6671918513137E-2
    4.6797968389043E-2
    4.6924335678501E-2
    4.7051021096647E-2
    4.7178025359783E-2
    4.7305349185370E-2
    4.7432993292030E-2
    4.7560958399550E-2
    4.7689245228873E-2
    4.7817854502103E-2
    4.7946786942505E-2
    4.8076043274499E-2
    4.8205624223664E-2
    4.8335530516735E-2
    4.8465762881604E-2
    4.8596322047318E-2
    4.8727208744077E-2
    4.8858423703234E-2
    4.8989967657298E-2
    4.9121841339927E-2
    4.9254045485930E-2
    4.9386580831266E-2
    4.9519448113044E-2
    4.9652648069521E-2
    4.9786181440100E-2
    4.9920048965331E-2
    5.0054251386909E-2
    5.0188789447674E-2
    5.0323663891607E-2
    5.0458875463832E-2
    5.0594424910616E-2
    5.0730312979362E-2
    5.0866540418615E-2
    5.1003107978055E-2
    5.1140016408501E-2
    5.1277266461906E-2
    5.1414858891356E-2
    5.1552794451071E-2
    5.1691073896403E-2
    5.1829697983832E-2
    5.1968667470971E-2
    5.2107983116556E-2
    5.2247645680452E-2
    5.2387655923650E-2
    5.2528014608262E-2
    5.2668722497523E-2
    5.2809780355790E-2
    5.2951188948539E-2
    5.3092949042362E-2
    5.3235061404971E-2
    5.3377526805189E-2
    5.3520346012954E-2
    5.3663519799318E-2
    5.3807048936439E-2
    5.3950934197587E-2
    5.4095176357139E-2
    5.4239776190574E-2
    5.4384734474478E-2
    5.4530051986539E-2
    5.4675729505543E-2
    5.4821767811377E-2
    5.4968167685023E-2
    5.5114929908559E-2
    5.5262055265157E-2
    5.5409544539078E-2
    5.5557398515674E-2
    5.5705617981386E-2
    5.5854203723738E-2
    5.6003156531340E-2
    5.6152477193883E-2
    5.6302166502138E-2
    5.6452225247953E-2
    5.6602654224254E-2
    5.6753454225038E-2
    5.6904626045377E-2
    5.7056170481410E-2
    5.7208088330344E-2
    5.7360380390453E-2
    5.7513047461072E-2
    5.7666090342598E-2
    5.7819509836487E-2
    5.7973306745250E-2
    5.8127481872455E-2
    5.8282036022719E-2
    5.8436970001711E-2
    5.8592284616144E-2
    5.8747980673780E-2
    5.8904058983419E-2
    5.9060520354904E-2
    5.9217365599116E-2
    5.9374595527967E-2
    5.9532210954406E-2
    5.9690212692409E-2
    5.9848601556981E-2
    6.0007378364150E-2
    6.0166543930968E-2
    6.0326099075505E-2
    6.0486044616849E-2
    6.0646381375101E-2
    6.0807110171374E-2
    6.0968231827788E-2
    6.1129747167471E-2
    6.1291657014553E-2
    6.1453962194163E-2
    6.1616663532428E-2
    6.1779761856471E-2
    6.1943257994402E-2
    6.2107152775323E-2
    6.2271447029321E-2
    6.2436141587463E-2
    6.2601237281797E-2
    6.2766734945348E-2
    6.2932635412111E-2
    6.3098939517055E-2
    6.3265648096111E-2
    6.3432761986177E-2
    6.3600282025110E-2
    6.3768209051724E-2
    6.3936543905786E-2
    6.4105287428016E-2
    6.4274440460077E-2
    6.4444003844578E-2
    6.4613978425068E-2
    6.4784365046033E-2
    6.4955164552891E-2
    6.5126377791990E-2
    6.5298005610605E-2
    6.5470048856932E-2
    6.5642508380088E-2
    6.5815385030104E-2
    6.5988679657923E-2
    6.6162393115395E-2
    6.6336526255275E-2
    6.6511079931220E-2
    6.6686054997779E-2
    6.6861452310399E-2
    6.7037272725413E-2
    6.7213517100039E-2
    6.7390186292377E-2
    6.7567281161403E-2
    6.7744802566968E-2
    6.7922751369789E-2
    6.8101128431450E-2
    6.8279934614396E-2
    6.8459170781928E-2
    6.8638837798199E-2
    6.8818936528213E-2
    6.8999467837814E-2
    6.9180432593688E-2
    6.9361831663358E-2
    6.9543665915175E-2
    6.9725936218320E-2
    6.9908643442793E-2
    7.0091788459414E-2
    7.0275372139817E-2
    7.0459395356443E-2
    7.0643858982539E-2
    7.0828763892150E-2
    7.1014110960118E-2
    7.1199901062075E-2
    7.1386135074438E-2
    7.1572813874405E-2
    7.1759938339952E-2
    7.1947509349825E-2
    7.2135527783536E-2
    7.2323994521360E-2
    7.2512910444328E-2
    7.2702276434225E-2
    7.2892093373580E-2
    7.3082362145665E-2
    7.3273083634489E-2
    7.3464258724794E-2
    7.3655888302045E-2
    7.3847973252433E-2
    7.4040514462860E-2
    7.4233512820944E-2
    7.4426969215006E-2
    7.4620884534067E-2
    7.4815259667843E-2
    7.5010095506741E-2
    7.5205392941852E-2
    7.5401152864943E-2
    7.5597376168458E-2
    7.5794063745505E-2
    7.5991216489856E-2
    7.6188835295939E-2
    7.6386921058832E-2
    7.6585474674259E-2
    7.6784497038582E-2
    7.6983989048797E-2
    7.7183951602527E-2
    7.7384385598018E-2
    7.7585291934130E-2
    7.7786671510335E-2
    7.7988525226706E-2
    7.8190853983915E-2
    7.8393658683228E-2
    7.8596940226493E-2
    7.8800699516140E-2
    7.9004937455170E-2
    7.9209654947153E-2
    7.9414852896219E-2
    7.9620532207053E-2
    7.9826693784886E-2
    8.0033338535493E-2
    8.0240467365183E-2
    8.0448081180795E-2
    8.0656180889688E-2
    8.0864767399738E-2
    8.1073841619330E-2
    8.1283404457351E-2
    8.1493456823184E-2
    8.1703999626701E-2
    8.1915033778256E-2
    8.2126560188678E-2
    8.2338579769265E-2
    8.2551093431775E-2
    8.2764102088424E-2
    8.2977606651872E-2
    8.3191608035221E-2
    8.3406107152007E-2
    8.3621104916192E-2
    8.3836602242156E-2
    8.4052600044693E-2
    8.4269099239001E-2
    8.4486100740675E-2
    8.4703605465700E-2
    8.4921614330444E-2
    8.5140128251650E-2
    8.5359148146429E-2
    8.5578674932253E-2
    8.5798709526945E-2
    8.6019252848675E-2
    8.6240305815950E-2
    8.6461869347604E-2
    8.6683944362797E-2
    8.6906531781001E-2
    8.7129632521995E-2
    8.7353247505856E-2
    8.7577377652951E-2
    8.7802023883932E-2
    8.8027187119723E-2
    8.8252868281516E-2
    8.8479068290760E-2
    8.8705788069156E-2
    8.8933028538646E-2
    8.9160790621405E-2
    8.9389075239835E-2
    8.9617883316555E-2
    8.9847215774392E-2
    9.0077073536373E-2
    9.0307457525719E-2
    9.0538368665831E-2
    9.0769807880288E-2
    9.1001776092833E-2
    9.1234274227367E-2
    9.1467303207941E-2
    9.1700863958743E-2
    9.1934957404095E-2
    9.2169584468441E-2
    9.2404746076337E-2
    9.2640443152444E-2
    9.2876676621519E-2
    9.3113447408405E-2
    9.3350756438022E-2
    9.3588604635359E-2
    9.3826992925462E-2
    9.4065922233430E-2
    9.4305393484400E-2
    9.4545407603540E-2
    9.4785965516041E-2
    9.5027068147105E-2
    9.5268716421937E-2
    9.5510911265737E-2
    9.5753653603686E-2
    9.5996944360941E-2
    9.6240784462622E-2
    9.6485174833805E-2
    9.6730116399509E-2
    9.6975610084690E-2
    9.7221656814228E-2
    9.7468257512918E-2
    9.7715413105461E-2
    9.7963124516452E-2
    9.8211392670373E-2
    9.8460218491580E-2
    9.8709602904292E-2
    9.8959546832586E-2
    9.9210051200380E-2
    9.9461116931429E-2
    9.9712744949310E-2
    9.9964936177412E-2
    1.0021769153893E-1
    1.0047101195685E-1
    1.0072489835393E-1
    1.0097935165272E-1
    1.0123437277551E-1
    1.0148996264436E-1
    1.0174612218104E-1
    1.0200285230707E-1
    1.0226015394368E-1
    1.0251802801181E-1
    1.0277647543209E-1
    1.0303549712485E-1
    1.0329509401006E-1
    1.0355526700738E-1
    1.0381601703611E-1
    1.0407734501520E-1
    1.0433925186321E-1
    1.0460173849834E-1
    1.0486480583836E-1
    1.0512845480068E-1
    1.0539268630225E-1
    1.0565750125962E-1
    1.0592290058888E-1
    1.0618888520569E-1
    1.0645545602522E-1
    1.0672261396218E-1
    1.0699035993079E-1
    1.0725869484477E-1
    1.0752761961733E-1
    1.0779713516115E-1
    1.0806724238838E-1
    1.0833794221063E-1
    1.0860923553894E-1
    1.0888112328377E-1
    1.0915360635501E-1
    1.0942668566196E-1
    1.0970036211330E-1
    1.0997463661709E-1
    1.1024951008075E-1
    1.1052498341108E-1
    1.1080105751418E-1
    1.1107773329552E-1
    1.1135501165987E-1
    1.1163289351129E-1
    1.1191137975315E-1
    1.1219047128810E-1
    1.1247016901804E-1
    1.1275047384413E-1
    1.1303138666677E-1
    1.1331290838559E-1
    1.1359503989942E-1
    1.1387778210631E-1
    1.1416113590348E-1
    1.1444510218733E-1
    1.1472968185343E-1
    1.1501487579648E-1
    1.1530068491032E-1
    1.1558711008792E-1
    1.1587415222134E-1
    1.1616181220176E-1
    1.1645009091942E-1
    1.1673898926362E-1
    1.1702850812272E-1
    1.1731864838414E-1
    1.1760941093429E-1
    1.1790079665862E-1
    1.1819280644155E-1
    1.1848544116651E-1
    1.1877870171589E-1
    1.1907258897102E-1
    1.1936710381220E-1
    1.1966224711863E-1
    1.1995801976844E-1
    1.2025442263865E-1
    1.2055145660517E-1
    1.2084912254278E-1
    1.2114742132511E-1
    1.2144635382463E-1
    1.2174592091265E-1
    1.2204612345927E-1
    1.2234696233341E-1
    1.2264843840276E-1
    1.2295055253378E-1
    1.2325330559169E-1
    1.2355669844043E-1
    1.2386073194268E-1
    1.2416540695983E-1
    1.2447072435195E-1
    1.2477668497779E-1
    1.2508328969479E-1
    1.2539053935900E-1
    1.2569843482513E-1
    1.2600697694650E-1
    1.2631616657502E-1
    1.2662600456121E-1
    1.2693649175414E-1
    1.2724762900145E-1
    1.2755941714932E-1
    1.2787185704246E-1
    1.2818494952407E-1
    1.2849869543586E-1
    1.2881309561801E-1
    1.2912815090919E-1
    1.2944386214646E-1
    1.2976023016538E-1
    1.3007725579987E-1
    1.3039493988227E-1
    1.3071328324331E-1
    1.3103228671207E-1
    1.3135195111601E-1
    1.3167227728089E-1
    1.3199326603081E-1
    1.3231491818816E-1
    1.3263723457363E-1
    1.3296021600618E-1
    1.3328386330300E-1
    1.3360817727954E-1
    1.3393315874947E-1
    1.3425880852465E-1
    1.3458512741514E-1
    1.3491211622916E-1
    1.3523977577310E-1
    1.3556810685146E-1
    1.3589711026690E-1
    1.3622678682014E-1
    1.3655713731001E-1
    1.3688816253343E-1
    1.3721986328532E-1
    1.3755224035869E-1
    1.3788529454454E-1
    1.3821902663187E-1
    1.3855343740768E-1
    1.3888852765692E-1
    1.3922429816251E-1
    1.3956074970529E-1
    1.3989788306401E-1
    1.4023569901533E-1
    1.4057419833379E-1
    1.4091338179179E-1
    1.4125325015956E-1
    1.4159380420520E-1
    1.4193504469457E-1
    1.4227697239135E-1
    1.4261958805700E-1
    1.4296289245073E-1
    1.4330688632948E-1
    1.4365157044793E-1
    1.4399694555845E-1
    1.4434301241109E-1
    1.4468977175359E-1
    1.4503722433133E-1
    1.4538537088731E-1
    1.4573421216215E-1
    1.4608374889409E-1
    1.4643398181891E-1
    1.4678491166997E-1
    1.4713653917816E-1
    1.4748886507191E-1
    1.4784189007714E-1
    1.4819561491727E-1
    1.4855004031315E-1
    1.4890516698314E-1
    1.4926099564297E-1
    1.4961752700582E-1
    1.4997476178225E-1
    1.5033270068020E-1
    1.5069134440496E-1
    1.5105069365916E-1
    1.5141074914276E-1
    1.5177151155298E-1
    1.5213298158438E-1
    1.5249515992874E-1
    1.5285804727509E-1
    1.5322164430969E-1
    1.5358595171601E-1
    1.5395097017470E-1
    1.5431670036358E-1
    1.5468314295760E-1
    1.5505029862888E-1
    1.5541816804660E-1
    1.5578675187707E-1
    1.5615605078366E-1
    1.5652606542677E-1
    1.5689679646387E-1
    1.5726824454942E-1
    1.5764041033487E-1
    1.5801329446866E-1
    1.5838689759619E-1
    1.5876122035977E-1
    1.5913626339864E-1
    1.5951202734895E-1
    1.5988851284371E-1
    1.6026572051278E-1
    1.6064365098289E-1
    1.6102230487755E-1
    1.6140168281710E-1
    1.6178178541865E-1
    1.6216261329605E-1
    1.6254416705991E-1
    1.6292644731755E-1
    1.6330945467300E-1
    1.6369318972696E-1
    1.6407765307680E-1
    1.6446284531650E-1
    1.6484876703671E-1
    1.6523541882463E-1
    1.6562280126408E-1
    1.6601091493541E-1
    1.6639976041552E-1
    1.6678933827784E-1
    1.6717964909228E-1
    1.6757069342526E-1
    1.6796247183961E-1
    1.6835498489466E-1
    1.6874823314610E-1
    1.6914221714607E-1
    1.6953693744304E-1
    1.6993239458188E-1
    1.7032858910378E-1
    1.7072552154623E-1
    1.7112319244305E-1
    1.7152160232432E-1
    1.7192075171637E-1
    1.7232064114177E-1
    1.7272127111932E-1
    1.7312264216400E-1
    1.7352475478696E-1
    1.7392760949552E-1
    1.7433120679312E-1
    1.7473554717931E-1
    1.7514063114975E-1
    1.7554645919617E-1
    1.7595303180632E-1
    1.7636034946402E-1
    1.7676841264908E-1
    1.7717722183731E-1
    1.7758677750046E-1
    1.7799708010627E-1
    1.7840813011838E-1
    1.7881992799634E-1
    1.7923247419559E-1
    1.7964576916744E-1
    1.8005981335904E-1
    1.8047460721336E-1
    1.8089015116917E-1
    1.8130644566103E-1
    1.8172349111927E-1
    1.8214128796994E-1
    1.8255983663482E-1
    1.8297913753140E-1
    1.8339919107283E-1
    1.8381999766793E-1
    1.8424155772115E-1
    1.8466387163256E-1
    1.8508693979782E-1
    1.8551076260817E-1
    1.8593534045040E-1
    1.8636067370684E-1
    1.8678676275532E-1
    1.8721360796917E-1
    1.8764120971718E-1
    1.8806956836361E-1
    1.8849868426812E-1
    1.8892855778580E-1
    1.8935918926712E-1
    1.8979057905791E-1
    1.9022272749935E-1
    1.9065563492794E-1
    1.9108930167550E-1
    1.9152372806911E-1
    1.9195891443113E-1
    1.9239486107913E-1
    1.9283156832595E-1
    1.9326903647958E-1
    1.9370726584322E-1
    1.9414625671522E-1
    1.9458600938906E-1
    1.9502652415333E-1
    1.9546780129173E-1
    1.9590984108304E-1
    1.9635264380107E-1
    1.9679620971468E-1
    1.9724053908773E-1
    1.9768563217909E-1
    1.9813148924259E-1
    1.9857811052700E-1
    1.9902549627602E-1
    1.9947364672829E-1
    1.9992256211729E-1
    2.0037224267141E-1
    2.0082268861385E-1
    2.0127390016267E-1
    2.0172587753071E-1
    2.0217862092561E-1
    2.0263213054975E-1
    2.0308640660029E-1
    2.0354144926908E-1
    2.0399725874269E-1
    2.0445383520237E-1
    2.0491117882403E-1
    2.0536928977821E-1
    2.0582816823008E-1
    2.0628781433942E-1
    2.0674822826058E-1
    2.0720941014245E-1
    2.0767136012850E-1
    2.0813407835669E-1
    2.0859756495948E-1
    2.0906182006381E-1
    2.0952684379109E-1
    2.0999263625715E-1
    2.1045919757224E-1
    2.1092652784103E-1
    2.1139462716254E-1
    2.1186349563015E-1
    2.1233313333159E-1
    2.1280354034891E-1
    2.1327471675843E-1
    2.1374666263077E-1
    2.1421937803081E-1
    2.1469286301765E-1
    2.1516711764462E-1
    2.1564214195924E-1
    2.1611793600322E-1
    2.1659449981241E-1
    2.1707183341681E-1
    2.1754993684053E-1
    2.1802881010180E-1
    2.1850845321291E-1
    2.1898886618021E-1
    2.1947004900410E-1
    2.1995200167899E-1
    2.2043472419330E-1
    2.2091821652944E-1
    2.2140247866376E-1
    2.2188751056657E-1
    2.2237331220211E-1
    2.2285988352850E-1
    2.2334722449777E-1
    2.2383533505582E-1
    2.2432421514237E-1
    2.2481386469100E-1
    2.2530428362908E-1
    2.2579547187779E-1
    2.2628742935205E-1
    2.2678015596056E-1
    2.2727365160577E-1
    2.2776791618380E-1
    2.2826294958450E-1
    2.2875875169140E-1
    2.2925532238168E-1
    2.2975266152616E-1
    2.3025076898930E-1
    2.3074964462915E-1
    2.3124928829735E-1
    2.3174969983912E-1
    2.3225087909321E-1
    2.3275282589193E-1
    2.3325554006109E-1
    2.3375902141998E-1
    2.3426326978141E-1
    2.3476828495162E-1
    2.3527406673031E-1
    2.3578061491059E-1
    2.3628792927899E-1
    2.3679600961543E-1
    2.3730485569320E-1
    2.3781446727896E-1
    2.3832484413269E-1
    2.3883598600769E-1
    2.3934789265059E-1
    2.3986056380129E-1
    2.4037399919295E-1
    2.4088819855201E-1
    2.4140316159812E-1
    2.4191888804416E-1
    2.4243537759623E-1
    2.4295262995360E-1
    2.4347064480870E-1
    2.4398942184713E-1
    2.4450896074763E-1
    2.4502926118204E-1
    2.4555032281534E-1
    2.4607214530556E-1
    2.4659472830382E-1
    2.4711807145431E-1
    2.4764217439423E-1
    2.4816703675383E-1
    2.4869265815637E-1
    2.4921903821808E-1
    2.4974617654820E-1
    2.5027407274890E-1
    2.5080272641533E-1
    2.5133213713554E-1
    2.5186230449052E-1
    2.5239322805415E-1
    2.5292490739321E-1
    2.5345734206735E-1
    2.5399053162905E-1
    2.5452447562368E-1
    2.5505917358939E-1
    2.5559462505718E-1
    2.5613082955084E-1
    2.5666778658693E-1
    2.5720549567479E-1
    2.5774395631653E-1
    2.5828316800699E-1
    2.5882313023373E-1
    2.5936384247705E-1
    2.5990530420993E-1
    2.6044751489805E-1
    2.6099047399976E-1
    2.6153418096607E-1
    2.6207863524064E-1
    2.6262383625978E-1
    2.6316978345238E-1
    2.6371647623999E-1
    2.6426391403673E-1
    2.6481209624930E-1
    2.6536102227698E-1
    2.6591069151161E-1
    2.6646110333758E-1
    2.6701225713179E-1
    2.6756415226370E-1
    2.6811678809524E-1
    2.6867016398088E-1
    2.6922427926754E-1
    2.6977913329465E-1
    2.7033472539406E-1
    2.7089105489011E-1
    2.7144812109956E-1
    2.7200592333162E-1
    2.7256446088789E-1
    2.7312373306241E-1
    2.7368373914159E-1
    2.7424447840425E-1
    2.7480595012156E-1
    2.7536815355708E-1
    2.7593108796672E-1
    2.7649475259871E-1
    2.7705914669366E-1
    2.7762426948447E-1
    2.7819012019638E-1
    2.7875669804691E-1
    2.7932400224589E-1
    2.7989203199546E-1
    2.8046078649000E-1
    2.8103026491618E-1
    2.8160046645293E-1
    2.8217139027143E-1
    2.8274303553511E-1
    2.8331540139961E-1
    2.8388848701282E-1
    2.8446229151485E-1
    2.8503681403800E-1
    2.8561205370680E-1
    2.8618800963794E-1
    2.8676468094032E-1
    2.8734206671502E-1
    2.8792016605529E-1
    2.8849897804652E-1
    2.8907850176630E-1
    2.8965873628433E-1
    2.9023968066249E-1
    2.9082133395477E-1
    2.9140369520731E-1
    2.9198676345835E-1
    2.9257053773828E-1
    2.9315501706957E-1
    2.9374020046683E-1
    2.9432608693674E-1
    2.9491267547809E-1
    2.9549996508177E-1
    2.9608795473073E-1
    2.9667664340003E-1
    2.9726603005676E-1
    2.9785611366014E-1
    2.9844689316139E-1
    2.9903836750385E-1
    2.9963053562288E-1
    3.0022339644589E-1
    3.0081694889237E-1
    3.0141119187382E-1
    3.0200612429381E-1
    3.0260174504792E-1
    3.0319805302378E-1
    3.0379504710105E-1
    3.0439272615141E-1
    3.0499108903859E-1
    3.0559013461830E-1
    3.0618986173831E-1
    3.0679026923838E-1
    3.0739135595030E-1
    3.0799312069787E-1
    3.0859556229690E-1
    3.0919867955521E-1
    3.0980247127263E-1
    3.1040693624099E-1
    3.1101207324414E-1
    3.1161788105793E-1
    3.1222435845020E-1
    3.1283150418082E-1
    3.1343931700162E-1
    3.1404779565649E-1
    3.1465693888128E-1
    3.1526674540385E-1
    3.1587721394407E-1
    3.1648834321381E-1
    3.1710013191696E-1
    3.1771257874938E-1
    3.1832568239896E-1
    3.1893944154561E-1
    3.1955385486120E-1
    3.2016892100966E-1
    3.2078463864691E-1
    3.2140100642087E-1
    3.2201802297151E-1
    3.2263568693077E-1
    3.2325399692265E-1
    3.2387295156315E-1
    3.2449254946032E-1
    3.2511278921419E-1
    3.2573366941688E-1
    3.2635518865249E-1
    3.2697734549720E-1
    3.2760013851921E-1
    3.2822356627877E-1
    3.2884762732817E-1
    3.2947232021176E-1
    3.3009764346597E-1
    3.3072359561925E-1
    3.3135017519215E-1
    3.3197738069728E-1
    3.3260521063933E-1
    3.3323366351507E-1
    3.3386273781336E-1
    3.3449243201516E-1
    3.3512274459351E-1
    3.3575367401358E-1
    3.3638521873264E-1
    3.3701737720008E-1
    3.3765014785742E-1
    3.3828352913831E-1
    3.3891751946853E-1
    3.3955211726602E-1
    3.4018732094087E-1
    3.4082312889533E-1
    3.4145953952383E-1
    3.4209655121295E-1
    3.4273416234149E-1
    3.4337237128041E-1
    3.4401117639292E-1
    3.4465057603438E-1
    3.4529056855243E-1
    3.4593115228690E-1
    3.4657232556988E-1
    3.4721408672570E-1
    3.4785643407095E-1
    3.4849936591448E-1
    3.4914288055744E-1
    3.4978697629325E-1
    3.5043165140765E-1
    3.5107690417866E-1
    3.5172273287665E-1
    3.5236913576430E-1
    3.5301611109666E-1
    3.5366365712111E-1
    3.5431177207742E-1
    3.5496045419771E-1
    3.5560970170652E-1
    3.5625951282079E-1
    3.5690988574985E-1
    3.5756081869549E-1
    3.5821230985192E-1
    3.5886435740583E-1
    3.5951695953635E-1
    3.6017011441511E-1
    3.6082382020623E-1
    3.6147807506634E-1
    3.6213287714459E-1
    3.6278822458268E-1
    3.6344411551484E-1
    3.6410054806790E-1
    3.6475752036124E-1
    3.6541503050686E-1
    3.6607307660936E-1
    3.6673165676597E-1
    3.6739076906657E-1
    3.6805041159369E-1
    3.6871058242254E-1
    3.6937127962103E-1
    3.7003250124977E-1
    3.7069424536210E-1
    3.7135651000410E-1
    3.7201929321460E-1
    3.7268259302522E-1
    3.7334640746038E-1
    3.7401073453729E-1
    3.7467557226602E-1
    3.7534091864945E-1
    3.7600677168335E-1
    3.7667312935638E-1
    3.7733998965009E-1
    3.7800735053895E-1
    3.7867520999039E-1
    3.7934356596478E-1
    3.8001241641549E-1
    3.8068175928886E-1
    3.8135159252428E-1
    3.8202191405418E-1
    3.8269272180401E-1
    3.8336401369235E-1
    3.8403578763086E-1
    3.8470804152431E-1
    3.8538077327063E-1
    3.8605398076091E-1
    3.8672766187942E-1
    3.8740181450365E-1
    3.8807643650431E-1
    3.8875152574535E-1
    3.8942708008403E-1
    3.9010309737085E-1
    3.9077957544969E-1
    3.9145651215772E-1
    3.9213390532550E-1
    3.9281175277698E-1
    3.9349005232951E-1
    3.9416880179387E-1
    3.9484799897431E-1
    3.9552764166856E-1
    3.9620772766785E-1
    3.9688825475694E-1
    3.9756922071416E-1
    3.9825062331139E-1
    3.9893246031415E-1
    3.9961472948156E-1
    4.0029742856641E-1
    4.0098055531517E-1
    4.0166410746801E-1
    4.0234808275883E-1
    4.0303247891529E-1
    4.0371729365885E-1
    4.0440252470475E-1
    4.0508816976208E-1
    4.0577422653381E-1
    4.0646069271678E-1
    4.0714756600175E-1
    4.0783484407344E-1
    4.0852252461051E-1
    4.0921060528565E-1
    4.0989908376557E-1
    4.1058795771104E-1
    4.1127722477689E-1
    4.1196688261209E-1
    4.1265692885974E-1
    4.1334736115711E-1
    4.1403817713567E-1
    4.1472937442110E-1
    4.1542095063337E-1
    4.1611290338672E-1
    4.1680523028969E-1
    4.1749792894518E-1
    4.1819099695047E-1
    4.1888443189724E-1
    4.1957823137161E-1
    4.2027239295415E-1
    4.2096691421995E-1
    4.2166179273861E-1
    4.2235702607430E-1
    4.2305261178576E-1
    4.2374854742639E-1
    4.2444483054419E-1
    4.2514145868189E-1
    4.2583842937691E-1
    4.2653574016143E-1
    4.2723338856241E-1
    4.2793137210160E-1
    4.2862968829563E-1
    4.2932833465597E-1
    4.3002730868904E-1
    4.3072660789616E-1
    4.3142622977366E-1
    4.3212617181287E-1
    4.3282643150016E-1
    4.3352700631696E-1
    4.3422789373983E-1
    4.3492909124048E-1
    4.3563059628578E-1
    4.3633240633781E-1
    4.3703451885391E-1
    4.3773693128670E-1
    4.3843964108409E-1
    4.3914264568938E-1
    4.3984594254123E-1
    4.4054952907371E-1
    4.4125340271637E-1
    4.4195756089423E-1
    4.4266200102785E-1
    4.4336672053335E-1
    4.4407171682244E-1
    4.4477698730246E-1
    4.4548252937642E-1
    4.4618834044306E-1
    4.4689441789682E-1
    4.4760075912795E-1
    4.4830736152251E-1
    4.4901422246239E-1
    4.4972133932539E-1
    4.5042870948523E-1
    4.5113633031159E-1
    4.5184419917015E-1
    4.5255231342263E-1
    4.5326067042681E-1
    4.5396926753661E-1
    4.5467810210206E-1
    4.5538717146942E-1
    4.5609647298115E-1
    4.5680600397598E-1
    4.5751576178894E-1
    4.5822574375140E-1
    4.5893594719111E-1
    4.5964636943224E-1
    4.6035700779542E-1
    4.6106785959776E-1
    4.6177892215291E-1
    4.6249019277111E-1
    4.6320166875918E-1
    4.6391334742063E-1
    4.6462522605562E-1
    4.6533730196107E-1
    4.6604957243066E-1
    4.6676203475488E-1
    4.6747468622106E-1
    4.6818752411344E-1
    4.6890054571318E-1
    4.6961374829839E-1
    4.7032712914422E-1
    4.7104068552286E-1
    4.7175441470358E-1
    4.7246831395279E-1
    4.7318238053407E-1
    4.7389661170822E-1
    4.7461100473327E-1
    4.7532555686457E-1
    4.7604026535479E-1
    4.7675512745398E-1
    4.7747014040961E-1
    4.7818530146661E-1
    4.7890060786739E-1
    4.7961605685193E-1
    4.8033164565778E-1
    4.8104737152011E-1
    4.8176323167176E-1
    4.8247922334327E-1
    4.8319534376295E-1
    4.8391159015688E-1
    4.8462795974897E-1
    4.8534444976104E-1
    4.8606105741278E-1
    4.8677777992188E-1
    4.8749461450400E-1
    4.8821155837287E-1
    4.8892860874029E-1
    4.8964576281620E-1
    4.9036301780870E-1
    4.9108037092411E-1
    4.9179781936701E-1
    4.9251536034027E-1
    4.9323299104510E-1
    4.9395070868112E-1
    4.9466851044635E-1
    4.9538639353729E-1
    4.9610435514895E-1
    4.9682239247491E-1
    4.9754050270733E-1
    4.9825868303703E-1
    4.9897693065350E-1
    4.9969524274498E-1
    5.0041278608226E-1
    5.0112977628929E-1
    5.0184682241632E-1
    5.0256392165257E-1
    5.0328107118622E-1
    5.0399826820445E-1
    5.0471550989346E-1
    5.0543279343852E-1
    5.0615011602404E-1
    5.0686747483360E-1
    5.0758486704996E-1
    5.0830228985516E-1
    5.0901974043052E-1
    5.0973721595671E-1
    5.1045471361376E-1
    5.1117223058116E-1
    5.1188976403784E-1
    5.1260731116226E-1
    5.1332486913244E-1
    5.1404243512598E-1
    5.1476000632016E-1
    5.1547757989191E-1
    5.1619515301792E-1
    5.1691272287464E-1
    5.1763028663836E-1
    5.1834784148521E-1
    5.1906538459124E-1
    5.1978291313245E-1
    5.2050042428483E-1
    5.2121791522443E-1
    5.2193538312735E-1
    5.2265282516983E-1
    5.2337023852830E-1
    5.2408762037938E-1
    5.2480496789996E-1
    5.2552227826721E-1
    5.2623954865869E-1
    5.2695677625230E-1
    5.2767395822640E-1
    5.2839109175983E-1
    5.2910817403194E-1
    5.2982520222265E-1
    5.3054217351248E-1
    5.3125908508261E-1
    5.3197593411492E-1
    5.3269271779201E-1
    5.3340943329727E-1
    5.3412607781494E-1
    5.3484264853010E-1
    5.3555914262875E-1
    5.3627555729786E-1
    5.3699188972539E-1
    5.3770813710034E-1
    5.3842429661281E-1
    5.3914036545401E-1
    5.3985634081636E-1
    5.4057221989346E-1
    5.4128799988019E-1
    5.4200367797273E-1
    5.4271925136861E-1
    5.4343471726675E-1
    5.4415007286750E-1
    5.4486531537268E-1
    5.4558044198564E-1
    5.4629544991130E-1
    5.4701033635617E-1
    5.4772509852841E-1
    5.4843973363789E-1
    5.4915423889619E-1
    5.4986861151667E-1
    5.5058284871453E-1
    5.5129694770681E-1
    5.5201090571247E-1
    5.5272471995241E-1
    5.5343838764951E-1
    5.5415190602870E-1
    5.5486527231698E-1
    5.5557848374345E-1
    5.5629153753939E-1
    5.5700443093828E-1
    5.5771716117582E-1
    5.5842972549002E-1
    5.5914212112121E-1
    5.5985434531207E-1
    5.6056639530772E-1
    5.6127826835571E-1
    5.6198996170610E-1
    5.6270147261147E-1
    5.6341279832698E-1
    5.6412393611042E-1
    5.6483488322222E-1
    5.6554563692553E-1
    5.6625619448622E-1
    5.6696655317296E-1
    5.6767671025724E-1
    5.6838666301341E-1
    5.6909640871873E-1
    5.6980594465339E-1
    5.7051526810058E-1
    5.7122437634653E-1
    5.7193326668051E-1
    5.7264193639490E-1
    5.7335038278526E-1
    5.7405860315030E-1
    5.7476659479196E-1
    5.7547435501548E-1
    5.7618188112938E-1
    5.7688917044552E-1
    5.7759622027917E-1
    5.7830302794901E-1
    5.7900959077719E-1
    5.7971590608936E-1
    5.8042197121473E-1
    5.8112778348607E-1
    5.8183334023978E-1
    5.8253863881592E-1
    5.8324367655826E-1
    5.8394845081428E-1
    5.8465295893527E-1
    5.8535719827632E-1
    5.8606116619635E-1
    5.8676486005820E-1
    5.8746827722862E-1
    5.8817141507835E-1
    5.8887427098211E-1
    5.8957684231867E-1
    5.9027912647087E-1
    5.9098112082569E-1
    5.9168282277424E-1
    5.9238422971182E-1
    5.9308533903798E-1
    5.9378614815652E-1
    5.9448665447552E-1
    5.9518685540744E-1
    5.9588674836909E-1
    5.9658633078168E-1
    5.9728560007088E-1
    5.9798455366685E-1
    5.9868318900425E-1
    5.9938150352231E-1
    6.0007949466483E-1
    6.0077715988026E-1
    6.0147449662169E-1
    6.0217150234690E-1
    6.0286817451843E-1
    6.0356451060355E-1
    6.0426050807436E-1
    6.0495616440777E-1
    6.0565147708557E-1
    6.0634644359446E-1
    6.0704106142606E-1
    6.0773532807697E-1
    6.0842924104880E-1
    6.0912279784819E-1
    6.0981599598685E-1
    6.1050883298161E-1
    6.1120130635442E-1
    6.1189341363241E-1
    6.1258515234791E-1
    6.1327652003849E-1
    6.1396751424701E-1
    6.1465813252159E-1
    6.1534837241571E-1
    6.1603823148821E-1
    6.1672770730335E-1
    6.1741679743077E-1
    6.1810549944562E-1
    6.1879381092852E-1
    6.1948172946562E-1
    6.2016925264862E-1
    6.2085637807481E-1
    6.2154310334709E-1
    6.2222942607402E-1
    6.2291534386983E-1
    6.2360085435445E-1
    6.2428595515357E-1
    6.2497064389861E-1
    6.2565491822684E-1
    6.2633877578130E-1
    6.2702221421094E-1
    6.2770523117055E-1
    6.2838782432086E-1
    6.2906999132854E-1
    6.2975172986624E-1
    6.3043303761258E-1
    6.3111391225223E-1
    6.3179435147594E-1
    6.3247435298049E-1
    6.3315391446882E-1
    6.3383303365000E-1
    6.3451170823924E-1
    6.3518993595798E-1
    6.3586771453386E-1
    6.3654504170079E-1
    6.3722191519892E-1
    6.3789833277474E-1
    6.3857429218104E-1
    6.3924979117698E-1
    6.3992482752809E-1
    6.4059939900632E-1
    6.4127350339004E-1
    6.4194713846407E-1
    6.4262030201973E-1
    6.4329299185484E-1
    6.4396520577374E-1
    6.4463694158735E-1
    6.4530819711314E-1
    6.4597897017522E-1
    6.4664925860429E-1
    6.4731906023774E-1
    6.4798837291962E-1
    6.4865719450066E-1
    6.4932552283836E-1
    6.4999335579692E-1
    6.5066069124734E-1
    6.5132752706740E-1
    6.5199386114169E-1
    6.5265969136165E-1
    6.5332501562556E-1
    6.5398983183860E-1
    6.5465413791284E-1
    6.5531793176728E-1
    6.5598121132786E-1
    6.5664397452750E-1
    6.5730621930609E-1
    6.5796794361053E-1
    6.5862914539477E-1
    6.5928982261978E-1
    6.5994997325363E-1
    6.6060959527144E-1
    6.6126868665548E-1
    6.6192724539512E-1
    6.6258526948688E-1
    6.6324275693448E-1
    6.6389970574878E-1
    6.6455611394787E-1
    6.6521197955706E-1
    6.6586730060891E-1
    6.6652207514322E-1
    6.6717630120708E-1
    6.6782997685488E-1
    6.6848310014832E-1
    6.6913566915642E-1
    6.6978768195556E-1
    6.7043913662949E-1
    6.7109003126932E-1
    6.7174036397358E-1
    6.7239013284821E-1
    6.7303933600657E-1
    6.7368797156947E-1
    6.7433603766519E-1
    6.7498353242949E-1
    6.7563045400561E-1
    6.7627680054432E-1
    6.7692257020388E-1
    6.7756776115013E-1
    6.7821237155642E-1
    6.7885639960371E-1
    6.7949984348051E-1
    6.8014270138294E-1
    6.8078497151472E-1
    6.8142665208721E-1
    6.8206774131938E-1
    6.8270823743788E-1
    6.8334813867700E-1
    6.8398744327871E-1
    6.8462614949267E-1
    6.8526425557625E-1
    6.8590175979452E-1
    6.8653866042027E-1
    6.8717495573403E-1
    6.8781064402410E-1
    6.8844572358650E-1
    6.8908019272506E-1
    6.8971404975136E-1
    6.9034729298478E-1
    6.9097992075251E-1
    6.9161193138956E-1
    6.9224332323875E-1
    6.9287409465073E-1
    6.9350424398400E-1
    6.9413376960491E-1
    6.9476266988768E-1
    6.9539094321440E-1
    6.9601858797503E-1
    6.9664560256742E-1
    6.9727198539733E-1
    6.9789773487841E-1
    6.9852284943225E-1
    6.9914732748832E-1
    6.9977116748407E-1
    7.0039436786486E-1
    7.0101692708398E-1
    7.0163884360271E-1
    7.0226011589026E-1
    7.0288074242383E-1
    7.0350072168857E-1
    7.0412005217762E-1
    7.0473873239211E-1
    7.0535676084115E-1
    7.0597413604187E-1
    7.0659085651938E-1
    7.0720692080681E-1
    7.0782232744530E-1
    7.0843707498401E-1
    7.0905116198014E-1
    7.0966458699889E-1
    7.1027734861352E-1
    7.1088944540532E-1
    7.1150087596361E-1
    7.1211163888577E-1
    7.1272173277722E-1
    7.1333115625146E-1
    7.1393990793001E-1
    7.1454798644247E-1
    7.1515539042651E-1
    7.1576211852785E-1
    7.1636816940028E-1
    7.1697354170568E-1
    7.1757823411400E-1
    7.1818224530323E-1
    7.1878557395949E-1
    7.1938821877695E-1
    7.1999017845785E-1
    7.2059145171256E-1
    7.2119203725948E-1
    7.2179193382512E-1
    7.2239114014408E-1
    7.2298965495904E-1
    7.2358747702077E-1
    7.2418460508812E-1
    7.2478103792803E-1
    7.2537677431554E-1
    7.2597181303375E-1
    7.2656615287388E-1
    7.2715979263521E-1
    7.2775273112511E-1
    7.2834496715906E-1
    7.2893649956058E-1
    7.2952732716131E-1
    7.3011744880095E-1
    7.3070686332728E-1
    7.3129556959618E-1
    7.3188356647157E-1
    7.3247085282547E-1
    7.3305742753796E-1
    7.3364328949718E-1
    7.3422843759937E-1
    7.3481287074879E-1
    7.3539658785779E-1
    7.3597958784676E-1
    7.3656186964415E-1
    7.3714343218647E-1
    7.3772427441826E-1
    7.3830439529210E-1
    7.3888379376864E-1
    7.3946246881653E-1
    7.4004041941246E-1
    7.4061764454115E-1
    7.4119414319535E-1
    7.4176991437581E-1
    7.4234495709130E-1
    7.4291927035859E-1
    7.4349285320247E-1
    7.4406570465570E-1
    7.4463782375905E-1
    7.4520920956125E-1
    7.4577986111905E-1
    7.4634977749713E-1
    7.4691895776816E-1
    7.4748740101276E-1
    7.4805510631952E-1
    7.4862207278495E-1
    7.4918829951353E-1
    7.4975378561764E-1
    7.5031853021762E-1
    7.5088253244170E-1
    7.5144579142605E-1
    7.5200830631471E-1
    7.5257007625965E-1
    7.5313110042070E-1
    7.5369137796558E-1
    7.5425090806990E-1
    7.5480968991711E-1
    7.5536772269853E-1
    7.5592500561331E-1
    7.5648153786845E-1
    7.5703731867879E-1
    7.5759234726697E-1
    7.5814662286346E-1
    7.5870014470650E-1
    7.5925291204217E-1
    7.5980492412429E-1
    7.6035618021448E-1
    7.6090667958211E-1
    7.6145642150431E-1
    7.6200540526595E-1
    7.6255363015964E-1
    7.6310109548570E-1
    7.6364780055217E-1
    7.6419374467479E-1
    7.6473892717700E-1
    7.6528334738991E-1
    7.6582700465231E-1
    7.6636989831063E-1
    7.6691202771895E-1
    7.6745339223901E-1
    7.6799399124015E-1
    7.6853382409932E-1
    7.6907289020109E-1
    7.6961118893760E-1
    7.7014871970858E-1
    7.7068548192132E-1
    7.7122147499066E-1
    7.7175669833897E-1
    7.7229115139618E-1
    7.7282483359970E-1
    7.7335774439445E-1
    7.7388988323285E-1
    7.7442124957480E-1
    7.7495184288765E-1
    7.7548166264620E-1
    7.7601070833269E-1
    7.7653897943678E-1
    7.7706647545556E-1
    7.7759319589349E-1
    7.7811914026243E-1
    7.7864430808159E-1
    7.7916869887756E-1
    7.7969231218425E-1
    7.8021514754291E-1
    7.8073720450208E-1
    7.8125848261763E-1
    7.8177898145269E-1
    7.8229870057767E-1
    7.8281763957022E-1
    7.8333579801525E-1
    7.8385317550488E-1
    7.8436977163844E-1
    7.8488558602246E-1
    7.8540061827064E-1
    7.8591486800386E-1
    7.8642833485013E-1
    7.8694101844461E-1
    7.8745291842955E-1
    7.8796403445434E-1
    7.8847436617543E-1
    7.8898391325635E-1
    7.8949267536767E-1
    7.9000065218702E-1
    7.9050784339903E-1
    7.9101424869535E-1
    7.9151986777463E-1
    7.9202470034245E-1
    7.9252874611140E-1
    7.9303200480098E-1
    7.9353447613761E-1
    7.9403615985464E-1
    7.9453705569228E-1
    7.9503716339764E-1
    7.9553648272466E-1
    7.9603501343415E-1
    7.9653275529372E-1
    7.9702970807778E-1
    7.9752587156754E-1
    7.9802124555099E-1
    7.9851582982284E-1
    7.9900962418456E-1
    7.9950262844433E-1
    7.9999484241704E-1
    8.0048626592424E-1
    8.0097689879416E-1
    8.0146674086168E-1
    8.0195579196828E-1
    8.0244405196209E-1
    8.0293152069781E-1
    8.0341819803671E-1
    8.0390408384663E-1
    8.0438917800192E-1
    8.0487348038349E-1
    8.0535699087872E-1
    8.0583970938147E-1
    8.0632163579209E-1
    8.0680277001735E-1
    8.0728311197046E-1
    8.0776266157102E-1
    8.0824141874503E-1
    8.0871938342488E-1
    8.0919655554927E-1
    8.0967293506325E-1
    8.1014852191820E-1
    8.1062331607177E-1
    8.1109731748789E-1
    8.1157052613675E-1
    8.1204294199477E-1
    8.1251456504458E-1
    8.1298539527504E-1
    8.1345543268114E-1
    8.1392467726407E-1
    8.1439312903113E-1
    8.1486078799576E-1
    8.1532765417747E-1
    8.1579372760189E-1
    8.1625900830067E-1
    8.1672349631154E-1
    8.1718719167821E-1
    8.1765009445042E-1
    8.1811220468388E-1
    8.1857352244026E-1
    8.1903404778717E-1
    8.1949378079814E-1
    8.1995272155261E-1
    8.2041087013590E-1
    8.2086822663916E-1
    8.2132479115942E-1
    8.2178056379952E-1
    8.2223554466808E-1
    8.2268973387951E-1
    8.2314313155399E-1
    8.2359573781743E-1
    8.2404755280146E-1
    8.2449857664339E-1
    8.2494880948624E-1
    8.2539825147866E-1
    8.2584690277494E-1
    8.2629476353501E-1
    8.2674183392435E-1
    8.2718811411406E-1
    8.2763360428077E-1
    8.2807830460663E-1
    8.2852221527934E-1
    8.2896533649205E-1
    8.2940766844342E-1
    8.2984921133752E-1
    8.3028996538389E-1
    8.3072993079743E-1
    8.3116910779848E-1
    8.3160749661270E-1
    8.3204509747114E-1
    8.3248191061012E-1
    8.3291793627132E-1
    8.3335317470166E-1
    8.3378762615335E-1
    8.3422129088381E-1
    8.3465416915572E-1
    8.3508626123692E-1
    8.3551756740045E-1
    8.3594808792450E-1
    8.3637782309239E-1
    8.3680677319257E-1
    8.3723493851855E-1
    8.3766231936895E-1
    8.3808891604742E-1
    8.3851472886264E-1
    8.3893975812831E-1
    8.3936400416310E-1
    8.3978746729065E-1
    8.4021014783956E-1
    8.4063204614333E-1
    8.4105316254038E-1
    8.4147349737401E-1
    8.4189305099237E-1
    8.4231182374844E-1
    8.4272981600005E-1
    8.4314702810979E-1
    8.4356346044505E-1
    8.4397911337796E-1
    8.4439398728539E-1
    8.4480808254890E-1
    8.4522139955477E-1
    8.4563393869393E-1
    8.4604570036196E-1
    8.4645668495907E-1
    8.4686689289006E-1
    8.4727632456434E-1
    8.4768498039584E-1
    8.4809286080308E-1
    8.4849996620906E-1
    8.4890629704129E-1
    8.4931185373177E-1
    8.4971663671694E-1
    8.5012064643767E-1
    8.5052388333926E-1
    8.5092634787139E-1
    8.5132804048811E-1
    8.5172896164783E-1
    8.5212911181327E-1
    8.5252849145146E-1
    8.5292710103373E-1
    8.5332494103567E-1
    8.5372201193710E-1
    8.5411831422207E-1
    8.5451384837883E-1
    8.5490861489981E-1
    8.5530261428160E-1
    8.5569584702492E-1
    8.5608831363462E-1
    8.5648001461962E-1
    8.5687095049294E-1
    8.5726112177163E-1
    8.5765052897680E-1
    8.5803917263354E-1
    8.5842705327094E-1
    8.5881417142207E-1
    8.5920052762393E-1
    8.5958612241745E-1
    8.5997095634748E-1
    8.6035502996274E-1
    8.6073834381582E-1
    8.6112089846314E-1
    8.6150269446495E-1
    8.6188373238531E-1
    8.6226401279204E-1
    8.6264353625674E-1
    8.6302230335473E-1
    8.6340031466505E-1
    8.6377757077045E-1
    8.6415407225735E-1
    8.6452981971581E-1
    8.6490481373953E-1
    8.6527905492585E-1
    8.6565254387566E-1
    8.6602528119346E-1
    8.6639726748727E-1
    8.6676850336866E-1
    8.6713898945271E-1
    8.6750872635798E-1
    8.6787771470651E-1
    8.6824595512377E-1
    8.6861344823869E-1
    8.6898019468358E-1
    8.6934619509414E-1
    8.6971145010944E-1
    8.7007596037192E-1
    8.7043972652731E-1
    8.7080274922466E-1
    8.7116502911631E-1
    8.7152656685787E-1
    8.7188736310818E-1
    8.7224741852931E-1
    8.7260673378653E-1
    8.7296530954832E-1
    8.7332314648630E-1
    8.7368024527524E-1
    8.7403660659302E-1
    8.7439223112066E-1
    8.7474711954224E-1
    8.7510127254490E-1
    8.7545469081884E-1
    8.7580737505728E-1
    8.7615932595643E-1
    8.7651054421551E-1
    8.7686103053670E-1
    8.7721078562510E-1
    8.7755981018877E-1
    8.7790810493865E-1
    8.7825567058859E-1
    8.7860250785529E-1
    8.7894861745831E-1
    8.7929400012001E-1
    8.7963865656561E-1
    8.7998258752307E-1
    8.8032579372314E-1
    8.8066827589932E-1
    8.8101003478785E-1
    8.8135107112766E-1
    8.8169138566039E-1
    8.8203097913035E-1
    8.8236985228451E-1
    8.8270800587245E-1
    8.8304544064640E-1
    8.8338215736116E-1
    8.8371815677413E-1
    8.8405343964525E-1
    8.8438800673702E-1
    8.8472185881444E-1
    8.8505499664502E-1
    8.8538742099876E-1
    8.8571913264813E-1
    8.8605013236802E-1
    8.8638042093579E-1
    8.8670999913116E-1
    8.8703886773628E-1
    8.8736702753564E-1
    8.8769447931613E-1
    8.8802122386691E-1
    8.8834726197952E-1
    8.8867259444775E-1
    8.8899722206770E-1
    8.8932114563772E-1
    8.8964436595841E-1
    8.8996688383258E-1
    8.9028870006526E-1
    8.9060981546368E-1
    8.9093023083721E-1
    8.9124994699740E-1
    8.9156896475792E-1
    8.9188728493456E-1
    8.9220490834523E-1
    8.9252183580989E-1
    8.9283806815058E-1
    8.9315360619138E-1
    8.9346845075841E-1
    8.9378260267979E-1
    8.9409606278564E-1
    8.9440883190804E-1
    8.9472091088105E-1
    8.9503230054066E-1
    8.9534300172479E-1
    8.9565301527325E-1
    8.9596234202776E-1
    8.9627098283189E-1
    8.9657893853108E-1
    8.9688620997261E-1
    8.9719279800557E-1
    8.9749870348085E-1
    8.9780392725115E-1
    8.9810847017090E-1
    8.9841233309631E-1
    8.9871551688533E-1
    8.9901802239762E-1
    8.9931985049453E-1
    8.9962100203911E-1
    8.9992147789607E-1
    9.0022127893179E-1
    9.0052040601427E-1
    9.0081886001312E-1
    9.0111664179958E-1
    9.0141375224645E-1
    9.0171019222812E-1
    9.0200596262052E-1
    9.0230106430113E-1
    9.0259549814893E-1
    9.0288926504443E-1
    9.0318236586961E-1
    9.0347480150794E-1
    9.0376657284434E-1
    9.0405768076516E-1
    9.0434812615819E-1
    9.0463790991262E-1
    9.0492703291905E-1
    9.0521549606945E-1
    9.0550330025713E-1
    9.0579044637678E-1
    9.0607693532441E-1
    9.0636276799733E-1
    9.0664794529417E-1
    9.0693246811485E-1
    9.0721633736054E-1
    9.0749955393366E-1
    9.0778211873791E-1
    9.0806403267816E-1
    9.0834529666053E-1
    9.0862591159231E-1
    9.0890587838199E-1
    9.0918519793920E-1
    9.0946387117473E-1
    9.0974189900051E-1
    9.1001928232958E-1
    9.1029602207609E-1
    9.1057211915527E-1
    9.1084757448345E-1
    9.1112238897798E-1
    9.1139656355730E-1
    9.1167009914085E-1
    9.1194299664910E-1
    9.1221525700351E-1
    9.1248688112656E-1
    9.1275786994167E-1
    9.1302822437323E-1
    9.1329794534659E-1
    9.1356703378801E-1
    9.1383549062468E-1
    9.1410331678469E-1
    9.1437051319702E-1
    9.1463708079153E-1
    9.1490302049894E-1
    9.1516833325082E-1
    9.1543301997955E-1
    9.1569708161837E-1
    9.1596051910131E-1
    9.1622333336318E-1
    9.1648552533959E-1
    9.1674709596690E-1
    9.1700804618225E-1
    9.1726837692347E-1
    9.1752808912918E-1
    9.1778718373866E-1
    9.1804566169192E-1
    9.1830352392964E-1
    9.1856077139318E-1
    9.1881740502457E-1
    9.1907342576648E-1
    9.1932883456221E-1
    9.1958363235569E-1
    9.1983782009145E-1
    9.2009139871462E-1
    9.2034436917093E-1
    9.2059673240665E-1
    9.2084848936863E-1
    9.2109964100426E-1
    9.2135018826147E-1
    9.2160013208870E-1
    9.2184947343491E-1
    9.2209821324954E-1
    9.2234635248252E-1
    9.2259389208427E-1
    9.2284083300565E-1
    9.2308717619797E-1
    9.2333292261297E-1
    9.2357807320283E-1
    9.2382262892013E-1
    9.2406659071785E-1
    9.2430995954936E-1
    9.2455273636841E-1
    9.2479492212910E-1
    9.2503651778590E-1
    9.2527752429360E-1
    9.2551794260734E-1
    9.2575777368257E-1
    9.2599701847504E-1
    9.2623567794080E-1
    9.2647375303618E-1
    9.2671124471779E-1
    9.2694815394250E-1
    9.2718448166741E-1
    9.2742022884989E-1
    9.2765539644751E-1
    9.2788998541806E-1
    9.2812399671956E-1
    9.2835743131019E-1
    9.2859029014833E-1
    9.2882257419254E-1
    9.2905428440153E-1
    9.2928542173416E-1
    9.2951598714944E-1
    9.2974598160650E-1
    9.2997540606459E-1
    9.3020426148307E-1
    9.3043254882141E-1
    9.3066026903915E-1
    9.3088742309591E-1
    9.3111401195138E-1
    9.3134003656531E-1
    9.3156549789749E-1
    9.3179039690775E-1
    9.3201473455595E-1
    9.3223851180196E-1
    9.3246172960564E-1
    9.3268438892689E-1
    9.3290649072554E-1
    9.3312803596144E-1
    9.3334902559439E-1
    9.3356946058415E-1
    9.3378934189041E-1
    9.3400867047282E-1
    9.3422744729095E-1
    9.3444567330429E-1
    9.3466334947222E-1
    9.3488047675404E-1
    9.3509705610894E-1
    9.3531308849597E-1
    9.3552857487407E-1
    9.3574351620204E-1
    9.3595791343852E-1
    9.3617176754201E-1
    9.3638507947082E-1
    9.3659785018310E-1
    9.3681008063683E-1
    9.3702177178978E-1
    9.3723292459950E-1
    9.3744354002337E-1
    9.3765361901852E-1
    9.3786316254186E-1
    9.3807217155007E-1
    9.3828064699957E-1
    9.3848858984653E-1
    9.3869600104687E-1
    9.3890288155623E-1
    9.3910923232996E-1
    9.3931505432313E-1
    9.3952034849051E-1
    9.3972511578657E-1
    9.3992935716546E-1
    9.4013307358102E-1
    9.4033626598675E-1
    9.4053893533580E-1
    9.4074108258099E-1
    9.4094270867479E-1
    9.4114381456930E-1
    9.4134440121624E-1
    9.4154446956696E-1
    9.4174402057243E-1
    9.4194305518323E-1
    9.4214157434950E-1
    9.4233957902103E-1
    9.4253707014714E-1
    9.4273404867675E-1
    9.4293051555835E-1
    9.4312647173998E-1
    9.4332191816924E-1
    9.4351685579326E-1
    9.4371128555873E-1
    9.4390520841186E-1
    9.4409862529837E-1
    9.4429153716351E-1
    9.4448394495205E-1
    9.4467584960822E-1
    9.4486725207580E-1
    9.4505815329800E-1
    9.4524855421755E-1
    9.4543845577665E-1
    9.4562785891693E-1
    9.4581676457953E-1
    9.4600517370500E-1
    9.4619308723336E-1
    9.4638050610405E-1
    9.4656743125597E-1
    9.4675386362741E-1
    9.4693980415610E-1
    9.4712525377917E-1
    9.4731021343317E-1
    9.4749468405405E-1
    9.4767866657712E-1
    9.4786216193711E-1
    9.4804517106811E-1
    9.4822769490360E-1
    9.4840973437641E-1
    9.4859129041873E-1
    9.4877236396213E-1
    9.4895295593749E-1
    9.4913306727505E-1
    9.4931269890439E-1
    9.4949185175442E-1
    9.4967052675337E-1
    9.4984872482877E-1
    9.5002644690749E-1
    9.5020369391569E-1
    9.5038046677884E-1
    9.5055676642168E-1
    9.5073259376826E-1
    9.5090794974192E-1
    9.5108283526525E-1
    9.5125725126012E-1
    9.5143119864769E-1
    9.5160467834835E-1
    9.5177769128175E-1
    9.5195023836679E-1
    9.5212232052163E-1
    9.5229393866365E-1
    9.5246509370946E-1
    9.5263578657490E-1
    9.5280601817506E-1
    9.5297578942420E-1
    9.5314510123581E-1
    9.5331395452262E-1
    9.5348235019650E-1
    9.5365028916856E-1
    9.5381777234909E-1
    9.5398480064756E-1
    9.5415137497262E-1
    9.5431749623212E-1
    9.5448316533304E-1
    9.5464838318156E-1
    9.5481315068300E-1
    9.5497746874185E-1
    9.5514133826175E-1
    9.5530476014548E-1
    9.5546773529497E-1
    9.5563026461129E-1
    9.5579234899462E-1
    9.5595398934429E-1
    9.5611518655876E-1
    9.5627594153559E-1
    9.5643625517146E-1
    9.5659612836217E-1
    9.5675556200262E-1
    9.5691455698680E-1
    9.5707311420783E-1
    9.5723123455788E-1
    9.5738891892824E-1
    9.5754616820928E-1
    9.5770298329043E-1
    9.5785936506023E-1
    9.5801531440625E-1
    9.5817083221517E-1
    9.5832591937272E-1
    9.5848057676366E-1
    9.5863480527185E-1
    9.5878860578018E-1
    9.5894197917058E-1
    9.5909492632405E-1
    9.5924744812061E-1
    9.5939954543932E-1
    9.5955121915827E-1
    9.5970247015460E-1
    9.5985329930443E-1
    9.6000370748296E-1
    9.6015369556436E-1
    9.6030326442184E-1
    9.6045241492760E-1
    9.6060114795288E-1
    9.6074946436789E-1
    9.6089736504186E-1
    9.6104485084301E-1
    9.6119192263855E-1
    9.6133858129469E-1
    9.6148482767662E-1
    9.6163066264850E-1
    9.6177608707350E-1
    9.6192110181375E-1
    9.6206570773034E-1
    9.6220990568335E-1
    9.6235369653183E-1
    9.6249708113377E-1
    9.6264006034614E-1
    9.6278263502487E-1
    9.6292480602484E-1
    9.6306657419987E-1
    9.6320794040273E-1
    9.6334890548517E-1
    9.6348947029783E-1
    9.6362963569034E-1
    9.6376940251123E-1
    9.6390877160797E-1
    9.6404774382699E-1
    9.6418632001361E-1
    9.6432450101211E-1
    9.6446228766566E-1
    9.6459968081638E-1
    9.6473668130528E-1
    9.6487328997232E-1
    9.6500950765634E-1
    9.6514533519510E-1
    9.6528077342528E-1
    9.6541582318245E-1
    9.6555048530109E-1
    9.6568476061457E-1
    9.6581864995517E-1
    9.6595215415407E-1
    9.6608527404131E-1
    9.6621801044586E-1
    9.6635036419555E-1
    9.6648233611712E-1
    9.6661392703617E-1
    9.6674513777720E-1
    9.6687596916357E-1
    9.6700642201753E-1
    9.6713649716020E-1
    9.6726619541158E-1
    9.6739551759054E-1
    9.6752446451479E-1
    9.6765303700096E-1
    9.6778123586449E-1
    9.6790906191971E-1
    9.6803651597981E-1
    9.6816359885684E-1
    9.6829031136168E-1
    9.6841665430411E-1
    9.6854262849271E-1
    9.6866823473497E-1
    9.6879347383716E-1
    9.6891834660447E-1
    9.6904285384087E-1
    9.6916699634922E-1
    9.6929077493119E-1
    9.6941419038732E-1
    9.6953724351696E-1
    9.6965993511832E-1
    9.6978226598842E-1
    9.6990423692314E-1
    9.7002584871718E-1
    9.7014710216406E-1
    9.7026799805614E-1
    9.7038853718461E-1
    9.7050872033949E-1
    9.7062854830960E-1
    9.7074802188260E-1
    9.7086714184498E-1
    9.7098590898203E-1
    9.7110432407788E-1
    9.7122238791546E-1
    9.7134010127651E-1
    9.7145746494161E-1
    9.7157447969014E-1
    9.7169114630029E-1
    9.7180746554905E-1
    9.7192343821225E-1
    9.7203906506450E-1
    9.7215434687923E-1
    9.7226928442866E-1
    9.7238387848385E-1
    9.7249812981463E-1
    9.7261203918965E-1
    9.7272560737635E-1
    9.7283883514097E-1
    9.7295172324858E-1
    9.7306427246300E-1
    9.7317648354688E-1
    9.7328835726166E-1
    9.7339989436757E-1
    9.7351109562365E-1
    9.7362196178771E-1
    9.7373249361637E-1
    9.7384269186503E-1
    9.7395255728790E-1
    9.7406209063796E-1
    9.7417129266699E-1
    9.7428016412556E-1
    9.7438870576302E-1
    9.7449691832751E-1
    9.7460480256596E-1
    9.7471235922408E-1
    9.7481958904638E-1
    9.7492649277613E-1
    9.7503307115539E-1
    9.7513932492503E-1
    9.7524525482467E-1
    9.7535086159273E-1
    9.7545614596639E-1
    9.7556110868164E-1
    9.7566575047323E-1
    9.7577007207469E-1
    9.7587407421834E-1
    9.7597775763528E-1
    9.7608112305536E-1
    9.7618417120724E-1
    9.7628690281835E-1
    9.7638931861488E-1
    9.7649141932182E-1
    9.7659320566292E-1
    9.7669467836070E-1
    9.7679583813648E-1
    9.7689668571033E-1
    9.7699722180110E-1
    9.7709744712644E-1
    9.7719736240273E-1
    9.7729696834515E-1
    9.7739626566766E-1
    9.7749525508297E-1
    9.7759393730259E-1
    9.7769231303678E-1
    9.7779038299458E-1
    9.7788814788380E-1
    9.7798560841104E-1
    9.7808276528164E-1
    9.7817961919974E-1
    9.7827617086824E-1
    9.7837242098881E-1
    9.7846837026190E-1
    9.7856401938673E-1
    9.7865936906127E-1
    9.7875441998230E-1
    9.7884917284534E-1
    9.7894362834470E-1
    9.7903778717345E-1
    9.7913165002343E-1
    9.7922521758526E-1
    9.7931849054834E-1
    9.7941146960081E-1
    9.7950415542962E-1
    9.7959654872047E-1
    9.7968865015783E-1
    9.7978046042496E-1
    9.7987198020387E-1
    9.7996321017535E-1
    9.8005415101898E-1
    9.8014480341308E-1
    9.8023516803477E-1
    9.8032524555994E-1
    9.8041503666324E-1
    9.8050454201810E-1
    9.8059376229674E-1
    9.8068269817011E-1
    9.8077135030799E-1
    9.8085971937890E-1
    9.8094780605014E-1
    9.8103561098779E-1
    9.8112313485671E-1
    9.8121037832052E-1
    9.8129734204163E-1
    9.8138402668122E-1
    9.8147043289926E-1
    9.8155656135448E-1
    9.8164241270439E-1
    9.8172798760529E-1
    9.8181328671226E-1
    9.8189831067914E-1
    9.8198306015856E-1
    9.8206753580193E-1
    9.8215173825945E-1
    9.8223566818009E-1
    9.8231932621160E-1
    9.8240271300052E-1
    9.8248582919216E-1
    9.8256867543063E-1
    9.8265125235881E-1
    9.8273356061837E-1
    9.8281560084976E-1
    9.8289737369222E-1
    9.8297887978378E-1
    9.8306011976125E-1
    9.8314109426022E-1
    9.8322180391509E-1
    9.8330224935902E-1
    9.8338243122397E-1
    9.8346235014071E-1
    9.8354200673877E-1
    9.8362140164649E-1
    9.8370053549099E-1
    9.8377940889819E-1
    9.8385802249280E-1
    9.8393637689833E-1
    9.8401447273706E-1
    9.8409231063011E-1
    9.8416989119735E-1
    9.8424721505748E-1
    9.8432428282797E-1
    9.8440109512511E-1
    9.8447765256398E-1
    9.8455395575846E-1
    9.8463000532123E-1
    9.8470580186378E-1
    9.8478134599638E-1
    9.8485663832813E-1
    9.8493167946692E-1
    9.8500647001945E-1
    9.8508101059121E-1
    9.8515530178651E-1
    9.8522934420848E-1
    9.8530313845903E-1
    9.8537668513889E-1
    9.8544998484762E-1
    9.8552303818355E-1
    9.8559584574387E-1
    9.8566840812454E-1
    9.8574072592035E-1
    9.8581279972493E-1
    9.8588463013067E-1
    9.8595621772883E-1
    9.8602756310946E-1
    9.8609866686143E-1
    9.8616952957244E-1
    9.8624015182899E-1
    9.8631053421644E-1
    9.8638067731892E-1
    9.8645058171943E-1
    9.8652024799977E-1
    9.8658967674056E-1
    9.8665886852128E-1
    9.8672782392019E-1
    9.8679654351443E-1
    9.8686502787992E-1
    9.8693327759144E-1
    9.8700129322260E-1
    9.8706907534583E-1
    9.8713662453241E-1
    9.8720394135245E-1
    9.8727102637489E-1
    9.8733788016750E-1
    9.8740450329692E-1
    9.8747089632859E-1
    9.8753705982681E-1
    9.8760299435474E-1
    9.8766870047434E-1
    9.8773417874645E-1
    9.8779942973075E-1
    9.8786445398574E-1
    9.8792925206880E-1
    9.8799382453614E-1
    9.8805817194283E-1
    9.8812229484279E-1
    9.8818619378878E-1
    9.8824986933242E-1
    9.8831332202419E-1
    9.8837655241343E-1
    9.8843956104832E-1
    9.8850234847592E-1
    9.8856491524212E-1
    9.8862726189170E-1
    9.8868938896828E-1
    9.8875129701437E-1
    9.8881298657131E-1
    9.8887445817934E-1
    9.8893571237754E-1
    9.8899674970387E-1
    9.8905757069516E-1
    9.8911817588711E-1
    9.8917856581429E-1
    9.8923874101015E-1
    9.8929870200701E-1
    9.8935844933605E-1
    9.8941798352736E-1
    9.8947730510988E-1
    9.8953641461145E-1
    9.8959531255878E-1
    9.8965399947746E-1
    9.8971247589197E-1
    9.8977074232569E-1
    9.8982879930085E-1
    9.8988664733860E-1
    9.8994428695896E-1
    9.9000171868086E-1
    9.9005894302210E-1
    9.9011596049939E-1
    9.9017277162832E-1
    9.9022937692340E-1
    9.9028577689801E-1
    9.9034197206445E-1
    9.9039796293390E-1
    9.9045375001647E-1
    9.9050933382113E-1
    9.9056471485580E-1
    9.9061989362729E-1
    9.9067487064129E-1
    9.9072964640244E-1
    9.9078422141427E-1
    9.9083859617922E-1
    9.9089277119864E-1
    9.9094674697281E-1
    9.9100052400092E-1
    9.9105410278105E-1
    9.9110748381025E-1
    9.9116066758444E-1
    9.9121365459850E-1
    9.9126644534620E-1
    9.9131904032026E-1
    9.9137144001232E-1
    9.9142364491293E-1
    9.9147565551159E-1
    9.9152747229673E-1
    9.9157909575568E-1
    9.9163052637475E-1
    9.9168176463916E-1
    9.9173281103305E-1
    9.9178366603953E-1
    9.9183433014063E-1
    9.9188480381733E-1
    9.9193508754953E-1
    9.9198518181611E-1
    9.9203508709486E-1
    9.9208480386254E-1
    9.9213433259485E-1
    9.9218367376643E-1
    9.9223282785089E-1
    9.9228179532077E-1
    9.9233057664759E-1
    9.9237917230181E-1
    9.9242758275284E-1
    9.9247580846906E-1
    9.9252384991781E-1
    9.9257170756538E-1
    9.9261938187705E-1
    9.9266687331704E-1
    9.9271418234853E-1
    9.9276130943370E-1
    9.9280825503366E-1
    9.9285501960853E-1
    9.9290160361737E-1
    9.9294800751823E-1
    9.9299423176813E-1
    9.9304027682307E-1
    9.9308614313803E-1
    9.9313183116697E-1
    9.9317734136282E-1
    9.9322267417751E-1
    9.9326783006195E-1
    9.9331280946603E-1
    9.9335761283862E-1
    9.9340224062761E-1
    9.9344669327984E-1
    9.9349097124118E-1
    9.9353507495648E-1
    9.9357900486957E-1
    9.9362276142331E-1
    9.9366634505952E-1
    9.9370975621905E-1
    9.9375299534173E-1
    9.9379606286643E-1
    9.9383895923098E-1
    9.9388168487225E-1
    9.9392424022610E-1
    9.9396662572740E-1
    9.9400884181005E-1
    9.9405088890694E-1
    9.9409276744999E-1
    9.9413447787013E-1
    9.9417602059730E-1
    9.9421739606048E-1
    9.9425860468766E-1
    9.9429964690584E-1
    9.9434052314106E-1
    9.9438123381839E-1
    9.9442177936191E-1
    9.9446216019474E-1
    9.9450237673903E-1
    9.9454242941597E-1
    9.9458231864575E-1
    9.9462204484764E-1
    9.9466160843993E-1
    9.9470100983993E-1
    9.9474024946401E-1
    9.9477932772758E-1
    9.9481824504510E-1
    9.9485700183005E-1
    9.9489559849498E-1
    9.9493403545148E-1
    9.9497231311019E-1
    9.9501043188081E-1
    9.9504839217207E-1
    9.9508619439178E-1
    9.9512383894679E-1
    9.9516132624302E-1
    9.9519865668545E-1
    9.9523583067810E-1
    9.9527284862407E-1
    9.9530971092553E-1
    9.9534641798370E-1
    9.9538297019889E-1
    9.9541936797044E-1
    9.9545561169681E-1
    9.9549170177549E-1
    9.9552763860307E-1
    9.9556342257521E-1
    9.9559905408664E-1
    9.9563453353117E-1
    9.9566986130171E-1
    9.9570503779023E-1
    9.9574006338778E-1
    9.9577493848452E-1
    9.9580966346967E-1
    9.9584423873157E-1
    9.9587866465761E-1
    9.9591294163431E-1
    9.9594707004727E-1
    9.9598105028117E-1
    9.9601488271980E-1
    9.9604856774606E-1
    9.9608210574192E-1
    9.9611549708849E-1
    9.9614874216595E-1
    9.9618184135360E-1
    9.9621479502985E-1
    9.9624760357220E-1
    9.9628026735729E-1
    9.9631278676083E-1
    9.9634516215769E-1
    9.9637739392181E-1
    9.9640948242628E-1
    9.9644142804330E-1
    9.9647323114417E-1
    9.9650489209934E-1
    9.9653641127835E-1
    9.9656778904990E-1
    9.9659902578180E-1
    9.9663012184097E-1
    9.9666107759349E-1
    9.9669189340455E-1
    9.9672256963848E-1
    9.9675310665874E-1
    9.9678350482794E-1
    9.9681376450780E-1
    9.9684388605920E-1
    9.9687386984216E-1
    9.9690371621584E-1
    9.9693342553853E-1
    9.9696299816768E-1
    9.9699243445989E-1
    9.9702173477089E-1
    9.9705089945558E-1
    9.9707992886801E-1
    9.9710882336136E-1
    9.9713758328800E-1
    9.9716620899943E-1
    9.9719470084632E-1
    9.9722305917850E-1
    9.9725128434495E-1
    9.9727937669383E-1
    9.9730733657245E-1
    9.9733516432730E-1
    9.9736286030402E-1
    9.9739042484744E-1
    9.9741785830154E-1
    9.9744516100950E-1
    9.9747233331364E-1
    9.9749937555549E-1
    9.9752628807573E-1
    9.9755307121424E-1
    9.9757972531006E-1
    9.9760625070144E-1
    9.9763264772578E-1
    9.9765891671969E-1
    9.9768505801896E-1
    9.9771107195857E-1
    9.9773695887269E-1
    9.9776271909467E-1
    9.9778835295708E-1
    9.9781386079166E-1
    9.9783924292935E-1
    9.9786449970031E-1
    9.9788963143388E-1
    9.9791463845859E-1
    9.9793952110221E-1
    9.9796427969167E-1
    9.9798891455315E-1
    9.9801342601200E-1
    9.9803781439281E-1
    9.9806208001935E-1
    9.9808622321464E-1
    9.9811024430088E-1
    9.9813414359949E-1
    9.9815792143114E-1
    9.9818157811567E-1
    9.9820511397218E-1
    9.9822852931898E-1
    9.9825182447359E-1
    9.9827499975276E-1
    9.9829805547249E-1
    9.9832099194798E-1
    9.9834380949367E-1
    9.9836650842323E-1
    9.9838908904956E-1
    9.9841155168481E-1
    9.9843389664035E-1
    9.9845612422678E-1
    9.9847823475397E-1
    9.9850022853099E-1
    9.9852210586620E-1
    9.9854386706715E-1
    9.9856551244068E-1
    9.9858704229285E-1
    9.9860845692899E-1
    9.9862975665365E-1
    9.9865094177066E-1
    9.9867201258310E-1
    9.9869296939328E-1
    9.9871381250278E-1
    9.9873454221246E-1
    9.9875515882241E-1
    9.9877566263199E-1
    9.9879605393982E-1
    9.9881633304379E-1
    9.9883650024105E-1
    9.9885655582802E-1
    9.9887650010038E-1
    9.9889633335309E-1
    9.9891605588038E-1
    9.9893566797574E-1
    9.9895516993197E-1
    9.9897456204109E-1
    9.9899384459446E-1
    9.9901301788266E-1
    9.9903208219559E-1
    9.9905103782243E-1
    9.9906988505161E-1
    9.9908862417089E-1
    9.9910725546728E-1
    9.9912577922711E-1
    9.9914419573597E-1
    9.9916250527875E-1
    9.9918070813965E-1
    9.9919880460215E-1
    9.9921679494901E-1
    9.9923467946231E-1
    9.9925245842344E-1
    9.9927013211304E-1
    9.9928770081111E-1
    9.9930516479691E-1
    9.9932252434904E-1
    9.9933977974536E-1
    9.9935693126308E-1
    9.9937397917870E-1
    9.9939092376804E-1
    9.9940776530622E-1
    9.9942450406768E-1
    9.9944114032617E-1
    9.9945767435476E-1
    9.9947410642585E-1
    9.9949043681113E-1
    9.9950666578164E-1
    9.9952279360773E-1
    9.9953882055907E-1
    9.9955474690466E-1
    9.9957057291283E-1
    9.9958629885123E-1
    9.9960192498684E-1
    9.9961745158598E-1
    9.9963287891429E-1
    9.9964820723676E-1
    9.9966343681770E-1
    9.9967856792076E-1
    9.9969360080894E-1
    9.9970853574456E-1
    9.9972337298931E-1
    9.9973811280418E-1
    9.9975275544955E-1
    9.9976730118510E-1
    9.9978175026991E-1
    9.9979610296236E-1
    9.9981035952020E-1
    9.9982452020053E-1
    9.9983858525981E-1
    9.9985255495384E-1
    9.9986642953778E-1
    9.9988020926615E-1
    9.9989389439284E-1
    9.9990748517106E-1
    9.9992098185344E-1
    9.9993438469191E-1
    9.9994769393781E-1
    9.9996090984183E-1
    9.9997403265403E-1
    9.9998706262382E-1
    1.0000000000000E+0
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            # SPDX-License-Identifier: GPL-2.0-or-later

__author__ = "Nutti <nutti.metro@gmail.com>"
__status__ = "production"
__version__ = "6.7"
__date__ = "22 Sep 2022"

import bpy
import blf


def check_version(major, minor, _):
    """
    Check blender version
    """

    if bpy.app.version[0] == major and bpy.app.version[1] == minor:
        return 0
    if bpy.app.version[0] > major:
        return 1
    if bpy.app.version[1] > minor:
        return 1
    return -1


def make_annotations(cls):
    if check_version(2, 80, 0) < 0:
        return cls

    # make annotation from attributes
    props = {k: v
             for k, v in cls.__dict__.items()
             if isinstance(v, getattr(bpy.props, '_PropertyDeferred', tuple))}
    if props:
        if '__annotations__' not in cls.__dict__:
            setattr(cls, '__annotations__', {})
        annotations = cls.__dict__['__annotations__']
        for k, v in props.items():
            annotations[k] = v
            delattr(cls, k)

    return cls


class ChangeRegionType:
    def __init__(self, *_, **kwargs):
        self.region_type = kwargs.get('region_type', False)

    def __call__(self, cls):
        if check_version(2, 80, 0) >= 0:
            return cls

        cls.bl_region_type = self.region_type

        return cls


def matmul(m1, m2):
    if check_version(2, 80, 0) < 0:
        return m1 * m2

    return m1 @ m2


def layout_split(layout, factor=0.0, align=False):
    if check_version(2, 80, 0) < 0:
        return layout.split(percentage=factor, align=align)

    return layout.split(factor=factor, align=align)


def get_user_preferences(context):
    if hasattr(context, "user_preferences"):
        return context.user_preferences

    return context.preferences


def get_object_select(obj):
    if check_version(2, 80, 0) < 0:
        return obj.select

    return obj.select_get()


def set_object_select(obj, select):
    if check_version(2, 80, 0) < 0:
        obj.select = select
    else:
        obj.select_set(select)


def set_active_object(obj):
    if check_version(2, 80, 0) < 0:
        bpy.context.scene.objects.active = obj
    else:
        bpy.context.view_layer.objects.active = obj


def get_active_object(context):
    if check_version(2, 80, 0) < 0:
        return context.scene.objects.active
    else:
        return context.view_layer.objects.active


def object_has_uv_layers(obj):
    if check_version(2, 80, 0) < 0:
        return hasattr(obj.data, "uv_textures")
    else:
        return hasattr(obj.data, "uv_layers")


def get_object_uv_layers(obj):
    if check_version(2, 80, 0) < 0:
        return obj.data.uv_textures
    else:
        return obj.data.uv_layers


def icon(icon):
    if icon == 'IMAGE':
        if check_version(2, 80, 0) < 0:
            return 'IMAGE_COL'

    return icon


def set_blf_font_color(font_id, r, g, b, a):
    blf.color(font_id, r, g, b, a)


def set_blf_blur(font_id, radius):
    if check_version(2, 80, 0) < 0:
        blf.blur(font_id, radius)


def get_all_space_types():
    if check_version(2, 80, 0) >= 0:
        return {
            'CLIP_EDITOR': bpy.types.SpaceClipEditor,
            'CONSOLE': bpy.types.SpaceConsole,
            'DOPESHEET_EDITOR': bpy.types.SpaceDopeSheetEditor,
            'FILE_BROWSER': bpy.types.SpaceFileBrowser,
            'GRAPH_EDITOR': bpy.types.SpaceGraphEditor,
            'IMAGE_EDITOR': bpy.types.SpaceImageEditor,
            'INFO': bpy.types.SpaceInfo,
            'NLA_EDITOR': bpy.types.SpaceNLA,
            'NODE_EDITOR': bpy.types.SpaceNodeEditor,
            'OUTLINER': bpy.types.SpaceOutliner,
            'PROPERTIES': bpy.types.SpaceProperties,
            'SEQUENCE_EDITOR': bpy.types.SpaceSequenceEditor,
            'TEXT_EDITOR': bpy.types.SpaceTextEditor,
            'USER_PREFERENCES': bpy.types.SpacePreferences,
            'VIEW_3D': bpy.types.SpaceView3D,
        }
    else:
        return {
            'VIEW_3D': bpy.types.SpaceView3D,
            'TIMELINE': bpy.types.SpaceTimeline,
            'GRAPH_EDITOR': bpy.types.SpaceGraphEditor,
            'DOPESHEET_EDITOR': bpy.types.SpaceDopeSheetEditor,
            'NLA_EDITOR': bpy.types.SpaceNLA,
            'IMAGE_EDITOR': bpy.types.SpaceImageEditor,
            'SEQUENCE_EDITOR': bpy.types.SpaceSequenceEditor,
            'CLIP_EDITOR': bpy.types.SpaceClipEditor,
            'TEXT_EDITOR': bpy.types.SpaceTextEditor,
            'NODE_EDITOR': bpy.types.SpaceNodeEditor,
            'LOGIC_EDITOR': bpy.types.SpaceLogicEditor,
            'PROPERTIES': bpy.types.SpaceProperties,
            'OUTLINER': bpy.types.SpaceOutliner,
            'USER_PREFERENCES': bpy.types.SpaceUserPreferences,
            'INFO': bpy.types.SpaceInfo,
            'FILE_BROWSER': bpy.types.SpaceFileBrowser,
            'CONSOLE': bpy.types.SpaceConsole,
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        # SPDX-License-Identifier: GPL-2.0-or-later

import bpy
import re

from math import cos, pi
from itertools import count, repeat

from rigify.utils.rig import is_rig_base_bone
from rigify.utils.naming import strip_org, make_derived_name, choose_derived_bone
from rigify.utils.widgets import widget_generator, register_widget
from rigify.utils.widgets_basic import create_bone_widget
from rigify.utils.misc import map_list

from rigify.base_rig import BaseRig, stage


def bone_siblings(obj, bone):
    """ Returns a list of the siblings of the given bone.
        This requires that the bones has a parent.
    """
    parent = obj.data.bones[bone].parent

    if parent is None:
        return []

    bones = []

    for b in parent.children:
        if b.name != bone and not is_rig_base_bone(obj, b.name):
            bones += [b.name]

    return bones


class Rig(BaseRig):
    """ A "palm" rig.  A set of sibling bones that bend with each other.
        This is a control and deformation rig.
    """

    def find_org_bones(self, bone):
        base_head = bone.bone.head
        siblings = bone_siblings(self.obj, bone.name)

        # Sort list by name and distance
        siblings.sort()
        siblings.sort(key=lambda b: (self.get_bone(b).bone.head - base_head).length)

        return [bone.name] + siblings

    def initialize(self):
        if len(self.bones.org) <= 1:
            self.raise_error('The palm rig must have a parent and at least one sibling')

        self.palm_rotation_axis = self.params.palm_rotation_axis
        self.make_secondary = self.params.palm_both_sides
        self.make_fk = self.params.make_extra_control

        self.order = 'YXZ' if 'X' in self.palm_rotation_axis else 'YZX'

        # Figure out the name for the control bone (remove the last .##)
        self.ctrl_name = re.sub(r"([0-9]+\.)", "", strip_org(self.bones.org[-1])[::-1], count=1)[::-1]

    def parent_bones(self):
        self.rig_parent_bone = self.get_bone_parent(self.bones.org[0])

        # Parent to the deform bone of the parent if exists
        def_bone = choose_derived_bone(self.generator, self.rig_parent_bone, 'def')

        if def_bone:
            self.rig_parent_bone = def_bone

    ####################################################
    # BONES
    #
    # org[]:
    #   Original bones in order of distance.
    # ctrl:
    #   master:
    #     Main control.
    #   secondary:
    #     Control for the other side.
    #   fk[]:
    #     Optional individual FK controls
    # mch:
    #   fk_parents[]:
    #     Parents for the individual FK controls
    # deform[]:
    #   DEF bones
    #
    ####################################################

    ####################################################
    # Master control

    @stage.generate_bones
    def make_master_control(self):
        orgs = self.bones.org

        self.bones.ctrl.master = self.copy_bone(orgs[-1], self.ctrl_name, parent=True)

        if self.make_secondary:
            second_name = make_derived_name(orgs[0], 'ctrl')
            self.bones.ctrl.secondary = self.copy_bone(orgs[0], second_name, parent=True)

    @stage.parent_bones
    def parent_master_control(self):
        self.set_bone_parent(self.bones.ctrl.master, self.rig_parent_bone, inherit_scale='AVERAGE')

        if self.make_secondary:
            self.set_bone_parent(self.bones.ctrl.secondary, self.rig_parent_bone, inherit_scale='AVERAGE')

    @stage.configure_bones
    def configure_master_control(self):
        self.configure_control_bone(self.bones.ctrl.master, self.bones.org[-1])

        if self.make_secondary:
            self.configure_control_bone(self.bones.ctrl.secondary, self.bones.org[0])

    def configure_control_bone(self, ctrl, org):
        self.copy_bone_properties(org, ctrl)
        self.get_bone(ctrl).lock_scale = (True, True, True)

    @stage.generate_widgets
    def make_master_control_widgets(self):
        self.make_control_widget(self.bones.ctrl.master)

        if self.make_secondary:
            self.make_control_widget(self.bones.ctrl.secondary)

    def make_control_widget(self, ctrl):
        make_palm_widget(self.obj, ctrl, axis=self.palm_rotation_axis, radius=0.4)

    ####################################################
    # FK controls

    @stage.generate_bones
    def make_fk_controls(self):
        if self.make_fk:
            self.bones.ctrl.fk = map_list(self.make_fk_control_bone, count(0), self.bones.org)

    def make_fk_control_bone(self, i, org):
        return self.copy_bone(org, make_derived_name(org, 'ctrl', '_fk'))

    @stage.parent_bones
    def parent_fk_controls(self):
        if self.make_fk:
            for fk, mch in zip(self.bones.ctrl.fk, self.bones.mch.fk_parents):
                self.set_bone_parent(fk, mch, inherit_scale='ALIGNED')

    @stage.configure_bones
    def configure_fk_controls(self):
        if self.make_fk:
            for fk, org in zip(self.bones.ctrl.fk, self.bones.org):
                self.copy_bone_properties(org, fk)

    @stage.generate_widgets
    def make_fk_control_widgets(self):
        if self.make_fk:
            for fk in self.bones.ctrl.fk:
                create_bone_widget(self.obj, fk)

    ####################################################
    # FK parent bones

    @stage.generate_bones
    def make_mch_fk_parents(self):
        if self.make_fk:
            self.bones.mch.fk_parents = map_list(self.make_fk_parent_bone, count(0), self.bones.org)

    def make_fk_parent_bone(self, i, org):
        return self.copy_bone(org, make_derived_name(org, 'mch', '_fk_parent'))

    @stage.parent_bones
    def parent_mch_fk_parents(self):
        if self.make_fk:
            for i, mch in enumerate(self.bones.mch.fk_parents):
                self.parent_mch_fk_parent_bone(i, mch)

    def parent_mch_fk_parent_bone(self, i, mch):
        self.set_bone_parent(mch, self.rig_parent_bone, inherit_scale='NONE')

    @stage.rig_bones
    def rig_mch_fk_parents(self):
        if self.make_fk:
            for i, mch in enumerate(self.bones.mch.fk_parents):
                self.rig_mch_fk_parent_bone(i, mch)

    def rig_mch_fk_parent_bone(self, i, org):
        num_orgs = len(self.bones.org)
        ctrl = self.bones.ctrl
        fac = i / (num_orgs - 1)

        if fac > 0:
            self.make_constraint(
                org, 'COPY_TRANSFORMS', ctrl.master, space='LOCAL',
                influence=fac
            )

            if self.make_secondary and fac < 1:
                self.make_constraint(
                    org, 'COPY_LOCATION', ctrl.secondary, space='LOCAL',
                    use_offset=True, influence=1-fac
                )
                self.make_constraint(
                    org, 'COPY_ROTATION', ctrl.secondary, space='LOCAL',
                    euler_order=self.order, mix_mode='ADD', influence=1-fac
                )

        elif self.make_secondary:
            self.make_constraint(
                org, 'COPY_TRANSFORMS', ctrl.secondary, space='LOCAL'
            )

        self.make_constraint(org, 'COPY_SCALE', self.rig_parent_bone)

        self.rig_mch_back_rotation(org, ctrl.master, fac)

        if self.make_secondary:
            self.rig_mch_back_rotation(org, ctrl.secondary, 1 - fac)

    def rig_mch_back_rotation(self, org, ctrl, fac):
        if 0 < fac < 1:
            inf = (fac + 1) * (fac + cos(fac * pi / 2) - 1)

            if 'X' in self.palm_rotation_axis:
                self.make_constraint(
                    org, 'COPY_ROTATION', ctrl, space='LOCAL',
                    invert_x=True, use_xyz=(True,False,False),
                    euler_order=self.order, mix_mode='ADD', influence=inf
                )
            else:
                self.make_constraint(
                    org, 'COPY_ROTATION', ctrl, space='LOCAL',
                    invert_z=True, use_xyz=(False,False,True),
                    euler_order=self.order, mix_mode='ADD', influence=inf
                )

    ####################################################
    # ORG bones

    @stage.parent_bones
    def parent_org_chain(self):
        if self.make_fk:
            for org, fk in zip(self.bones.org, self.bones.ctrl.fk):
                self.set_bone_parent(org, fk)
        else:
            for i, org in enumerate(self.bones.org):
                self.parent_mch_fk_parent_bone(i, org)

    @stage.rig_bones
    def rig_org_chain(self):
        if not self.make_fk:
            for i, org in enumerate(self.bones.org):
                self.rig_mch_fk_parent_bone(i, org)

    ####################################################
    # DEF bones

    @stage.generate_bones
    def make_def_chain(self):
        self.bones.deform = map_list(self.make_deform_bone, self.bones.org)

    def make_deform_bone(self, org):
        return self.copy_bone(org, make_derived_name(org, 'def'))

    @stage.parent_bones
    def parent_deform_chain(self):
        for deform, org in zip(self.bones.deform, self.bones.org):
            self.set_bone_parent(deform, org, use_connect=False)

    ####################################################
    # Settings

    @classmethod
    def add_parameters(cls, params):
        items = [('X', 'X', ''), ('Z', 'Z', '')]
        params.palm_rotation_axis = bpy.props.EnumProperty(
                items=items,
                name="Palm Rotation Axis",
                default='X',
                )
        params.palm_both_sides = bpy.props.BoolProperty(
                name="Both Sides",
                default=False,
                description="Create controls for both sides of the palm"
                )
        params.make_extra_control = bpy.props.BoolProperty(
                name        = "Extra Control",
                default     = False,
                description = "Create an optional control"
            )

    @classmethod
    def parameters_ui(cls, layout, params):
        r = layout.row()
        r.label(text="Primary rotation axis:")
        r.prop(params, "palm_rotation_axis", text="")
        layout.prop(params, "palm_both_sides")
        layout.prop(params, "make_extra_control", text="Extra FK Controls")


@widget_generator(register="palm", subsurf=2)
def make_palm_widget(geom, axis='X', radius=0.5):
    sx = radius / 0.4
    sz = radius / 0.3
    v = [(0.1578, 0.0, -0.3), (0.1578, 1.0, -0.2), (-0.1578, 1.0, -0.2), (-0.1578, -0.0, -0.3),
         (-0.1578, -0.0, 0.3), (-0.1578, 1.0, 0.2), (0.1578, 1.0, 0.2), (0.1578, 0.0, 0.3),
         (0.1578, 0.25, -0.275), (-0.1578, 0.25, -0.275), (0.1578, 0.75, -0.225), (-0.1578, 0.75, -0.225),
         (0.1578, 0.75, 0.225), (0.1578, 0.25, 0.275), (-0.1578, 0.25, 0.275), (-0.1578, 0.75, 0.225)]

    geom.verts = [(x*sx, y, z*sz) for x,y,z in v]

    if 'Z' in axis:
        # Flip x/z coordinates
        geom.verts = [v[::-1] for v in geom.verts]

    geom.edges = [(1, 2), (0, 3), (4, 7), (5, 6), (8, 0), (9, 3), (10, 1), (11, 2), (12, 6),
                  (13, 7), (4, 14), (15, 5), (10, 8), (11, 9), (15, 14), (12, 13)]

register_widget("palm_z", make_palm_widget, axis='Z')


def create_sample(obj):
    # generated by rigify.utils.write_metarig
    bpy.ops.object.mode_set(mode='EDIT')
    arm = obj.data

    bones = {}

    bone = arm.edit_bones.new('palm.parent')
    bone.head[:] = 0.0000, 0.0000, 0.0000
    bone.tail[:] = 0.0577, 0.0000, -0.0000
    bone.roll = 3.1416
    bone.use_connect = False
    bones['palm.parent'] = bone.name
    bone = arm.edit_bones.new('palm.04')
    bone.head[:] = 0.0577, 0.0315, -0.0000
    bone.tail[:] = 0.1627, 0.0315, -0.0000
    bone.roll = 3.1416
    bone.use_connect = False
    bone.parent = arm.edit_bones[bones['palm.parent']]
    bones['palm.04'] = bone.name
    bone = arm.edit_bones.new('palm.03')
    bone.head[:] = 0.0577, 0.0105, -0.0000
    bone.tail[:] = 0.1627, 0.0105, -0.0000
    bone.roll = 3.1416
    bone.use_connect = False
    bone.parent = arm.edit_bones[bones['palm.parent']]
    bones['palm.03'] = bone.name
    bone = arm.edit_bones.new('palm.02')
    bone.head[:] = 0.0577, -0.0105, -0.0000
    bone.tail[:] = 0.1627, -0.0105, -0.0000
    bone.roll = 3.1416
    bone.use_connect = False
    bone.parent = arm.edit_bones[bones['palm.parent']]
    bones['palm.02'] = bone.name
    bone = arm.edit_bones.new('palm.01')
    bone.head[:] = 0.0577, -0.0315, -0.0000
    bone.tail[:] = 0.1627, -0.0315, -0.0000
    bone.roll = 3.1416
    bone.use_connect = False
    bone.parent = arm.edit_bones[bones['palm.parent']]
    bones['palm.01'] = bone.name

    bpy.ops.object.mode_set(mode='OBJECT')
    pbone = obj.pose.bones[bones['palm.parent']]
    pbone.rigify_type = ''
    pbone.lock_location = (False, False, False)
    pbone.lock_rotation = (False, False, False)
    pbone.lock_rotation_w = False
    pbone.lock_scale = (False, False, False)
    pbone.rotation_mode = 'QUATERNION'
    pbone = obj.pose.bones[bones['palm.04']]
    pbone.rigify_type = ''
    pbone.lock_location = (False, False, False)
    pbone.lock_rotation = (False, True, True)
    pbone.lock_rotation_w = False
    pbone.lock_scale = (False, False, False)
    pbone.rotation_mode = 'YXZ'
    pbone = obj.pose.bones[bones['palm.03']]
    pbone.rigify_type = ''
    pbone.lock_location = (False, False, False)
    pbone.lock_rotation = (False, True, True)
    pbone.lock_rotation_w = False
    pbone.lock_scale = (False, False, False)
    pbone.rotation_mode = 'YXZ'
    pbone = obj.pose.bones[bones['palm.02']]
    pbone.rigify_type = ''
    pbone.lock_location = (False, False, False)
    pbone.lock_rotation = (False, True, True)
    pbone.lock_rotation_w = False
    pbone.lock_scale = (False, False, False)
    pbone.rotation_mode = 'YXZ'
    pbone = obj.pose.bones[bones['palm.01']]
    pbone.rigify_type = 'limbs.super_palm'
    pbone.lock_location = (False, False, False)
    pbone.lock_rotation = (False, True, True)
    pbone.lock_rotation_w = False
    pbone.lock_scale = (False, False, False)
    pbone.rotation_mode = 'YXZ'

    bpy.ops.object.mode_set(mode='EDIT')
    for bone in arm.edit_bones:
        bone.select = False
        bone.select_head = False
        bone.select_tail = False
    for b in bones:
        bone = arm.edit_bones[bones[b]]
        bone.select = True
        bone.select_head = True
        bone.select_tail = True
        arm.edit_bones.active = bone
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        from typing import TypeVar, overload, List, Sequence, Any, SupportsIndex

from numpy import generic, dtype
from numpy.typing import ArrayLike, NDArray, _FiniteNestedSequence, _SupportsArray

_SCT = TypeVar("_SCT", bound=generic)
_ArrayType = TypeVar("_ArrayType", bound=NDArray[Any])

_ArrayLike = _FiniteNestedSequence[_SupportsArray[dtype[_SCT]]]

__all__: List[str]

@overload
def atleast_1d(arys: _ArrayLike[_SCT], /) -> NDArray[_SCT]: ...
@overload
def atleast_1d(arys: ArrayLike, /) -> NDArray[Any]: ...
@overload
def atleast_1d(*arys: ArrayLike) -> List[NDArray[Any]]: ...

@overload
def atleast_2d(arys: _ArrayLike[_SCT], /) -> NDArray[_SCT]: ...
@overload
def atleast_2d(arys: ArrayLike, /) -> NDArray[Any]: ...
@overload
def atleast_2d(*arys: ArrayLike) -> List[NDArray[Any]]: ...

@overload
def atleast_3d(arys: _ArrayLike[_SCT], /) -> NDArray[_SCT]: ...
@overload
def atleast_3d(arys: ArrayLike, /) -> NDArray[Any]: ...
@overload
def atleast_3d(*arys: ArrayLike) -> List[NDArray[Any]]: ...

@overload
def vstack(tup: Sequence[_ArrayLike[_SCT]]) -> NDArray[_SCT]: ...
@overload
def vstack(tup: Sequence[ArrayLike]) -> NDArray[Any]: ...

@overload
def hstack(tup: Sequence[_ArrayLike[_SCT]]) -> NDArray[_SCT]: ...
@overload
def hstack(tup: Sequence[ArrayLike]) -> NDArray[Any]: ...

@overload
def stack(
    arrays: Sequence[_ArrayLike[_SCT]],
    axis: SupportsIndex = ...,
    out: None = ...,
) -> NDArray[_SCT]: ...
@overload
def stack(
    arrays: Sequence[ArrayLike],
    axis: SupportsIndex = ...,
    out: None = ...,
) -> NDArray[Any]: ...
@overload
def stack(
    arrays: Sequence[ArrayLike],
    axis: SupportsIndex = ...,
    out: _ArrayType = ...,
) -> _ArrayType: ...

@overload
def block(arrays: _ArrayLike[_SCT]) -> NDArray[_SCT]: ...
@overload
def block(arrays: ArrayLike) -> NDArray[Any]: ...
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   # SPDX-License-Identifier: GPL-2.0-or-later

import bpy

from itertools import count

from ...utils.naming import make_derived_name
from ...utils.bones import align_bone_orientation
from ...utils.widgets_basic import create_circle_widget
from ...utils.widgets_special import create_neck_bend_widget, create_neck_tweak_widget
from ...utils.switch_parent import SwitchParentBuilder
from ...utils.misc import map_list

from ...base_rig import stage

from .spine_rigs import BaseHeadTailRig


class Rig(BaseHeadTailRig):
    """
    Head rig with long neck support and connect option.
    """

    use_connect_reverse = False
    min_chain_length = 1

    def initialize(self):
        super().initialize()

        self.long_neck = len(self.bones.org) > 3
        self.has_neck = len(self.bones.org) > 1

    ####################################################
    # BONES
    #
    # org[]:
    #   ORG bones
    # ctrl:
    #   neck, head, neck_bend:
    #     Main controls.
    #   tweak[]:
    #     Tweak control chain.
    # mch:
    #   rot_neck, rot_head:
    #     Main control parents, implement FK follow.
    #   stretch
    #     Long neck stretch behavior.
    #   ik[]
    #     Long neck IK behavior.
    #   chain[]
    #     Tweak parents.
    # deform[]:
    #   DEF bones
    #
    ####################################################

    ####################################################
    # Main control bones

    @stage.generate_bones
    def make_control_chain(self):
        orgs = self.bones.org
        ctrl = self.bones.ctrl

        if self.has_neck:
            ctrl.neck = self.make_neck_control_bone(orgs[0], 'neck', orgs[-1])

        ctrl.head = self.make_head_control_bone(orgs[-1], 'head')

        if self.long_neck:
            ctrl.neck_bend = self.make_neck_bend_control_bone(orgs[0], 'neck_bend', ctrl.neck)

        self.default_prop_bone = ctrl.head

    def make_neck_control_bone(self, org, name, org_head):
        name = self.copy_bone(org, name, parent=False)

        # Neck spans all neck bones (except head)
        self.get_bone(name).tail = self.get_bone(org_head).head

        return name

    def make_neck_bend_control_bone(self, org, name, neck):
        name = self.copy_bone(org, name, parent=False)
        neck_bend_eb = self.get_bone(name)

        # Neck pivot position
        neck_bones = self.bones.org
        if (len(neck_bones)-1) % 2:     # odd num of neck bones (head excluded)
            center_bone = self.get_bone(neck_bones[int((len(neck_bones))/2) - 1])
            neck_bend_eb.head = (center_bone.head + center_bone.tail)/2
        else:
            center_bone = self.get_bone(neck_bones[int((len(neck_bones)-1)/2) - 1])
            neck_bend_eb.head = center_bone.tail

        align_bone_orientation(self.obj, name, neck)
        neck_bend_eb.length = self.get_bone(neck).length / 2

        return name

    def make_head_control_bone(self, org, name):
        return self.copy_bone(org, name, parent=False)

    @stage.parent_bones
    def parent_control_chain(self):
        ctrl = self.bones.ctrl
        mch = self.bones.mch
        if self.has_neck:
            self.set_bone_parent(ctrl.neck, mch.rot_neck)
        self.set_bone_parent(ctrl.head, mch.rot_head)
        if self.long_neck:
            self.set_bone_parent(ctrl.neck_bend, mch.stretch)

    @stage.configure_bones
    def configure_control_chain(self):
        if self.has_neck:
            self.configure_control_bone(0, self.bones.ctrl.neck, self.bones.org[0])
        self.configure_control_bone(2, self.bones.ctrl.head, self.bones.org[-1])
        if self.long_neck:
            self.configure_neck_bend_bone(self.bones.ctrl.neck_bend, self.bones.org[0])

    def configure_neck_bend_bone(self, ctrl, org):
        bone = self.get_bone(ctrl)
        bone.lock_rotation = (True, True, True)
        bone.lock_rotation_w = True
        bone.lock_scale = (True, True, True)

    @stage.generate_widgets
    def make_control_widgets(self):
        ctrl = self.bones.ctrl
        if self.has_neck:
            self.make_neck_widget(ctrl.neck)
        self.make_head_widget(ctrl.head)
        if self.long_neck:
            self.make_neck_bend_widget(ctrl.neck_bend)

    def make_neck_widget(self, ctrl):
        radius = 1/max(1, len(self.bones.mch.chain))

        create_circle_widget(
            self.obj, ctrl,
            radius=radius,
            head_tail=0.5,
        )

    def make_neck_bend_widget(self, ctrl):
        radius = 1/max(1, len(self.bones.mch.chain))

        create_neck_bend_widget(
            self.obj, ctrl,
            radius=radius/2,
            head_tail=0.0,
        )

    def make_head_widget(self, ctrl):
        # place wgt @ middle of head bone for long necks
        if self.long_neck:
            head_tail = 0.5
        else:
            head_tail = 1.0

        create_circle_widget(
            self.obj, ctrl,
            radius              = 0.5,
            head_tail           = head_tail,
            with_line           = False,
        )

    ####################################################
    # MCH bones associated with main controls

    @stage.generate_bones
    def make_mch_control_bones(self):
        orgs = self.bones.org
        mch = self.bones.mch

        if self.has_neck:
            mch.rot_neck = self.make_mch_follow_bone(orgs[0], 'neck', 0.5, copy_scale=True)
            mch.stretch = self.make_mch_stretch_bone(orgs[0], 'STR-neck', orgs[-1])
        mch.rot_head = self.make_mch_follow_bone(orgs[-1], 'head', 0.0, copy_scale=True)

    def make_mch_stretch_bone(self, org, name, org_head):
        name = self.copy_bone(org, make_derived_name(name, 'mch'), parent=False)
        self.get_bone(name).tail = self.get_bone(org_head).head
        return name

    @stage.parent_bones
    def parent_mch_control_bones(self):
        if self.has_neck:
            self.set_bone_parent(self.bones.mch.rot_neck, self.rig_parent_bone)
            self.set_bone_parent(self.bones.mch.rot_head, self.bones.ctrl.neck)
            self.set_bone_parent(self.bones.mch.stretch, self.bones.ctrl.neck)
        else:
            self.set_bone_parent(self.bones.mch.rot_head, self.rig_parent_bone)

    @stage.rig_bones
    def rig_mch_control_bones(self):
        if self.has_neck:
            self.rig_mch_stretch_bone(self.bones.mch.stretch, self.bones.ctrl.head)

    def rig_mch_stretch_bone(self, mch, head):
        self.make_constraint(mch, 'STRETCH_TO', head, keep_axis='SWING_Y')

    ####################################################
    # MCH IK chain for the long neck

    @stage.generate_bones
    def make_mch_ik_chain(self):
        orgs = self.bones.org
        if self.long_neck:
            self.bones.mch.ik = map_list(self.make_mch_ik_bone, orgs[0:-1])

    def make_mch_ik_bone(self, org):
        return self.copy_bone(org, make_derived_name(org, 'mch', '_ik'), parent=False)

    @stage.parent_bones
    def parent_mch_ik_chain(self):
        if self.long_neck:
            ik = self.bones.mch.ik
            self.set_bone_parent(ik[0], self.bones.ctrl.tweak[0])
            self.parent_bone_chain(ik, use_connect=True)

    @stage.rig_bones
    def rig_mch_ik_chain(self):
        if self.long_neck:
            ik = self.bones.mch.ik
            head = self.bones.ctrl.head
            for args in zip(count(0), ik):
                self.rig_mch_ik_bone(*args, len(ik), head)

    def rig_mch_ik_bone(self, i, mch, ik_len, head):
        if i == ik_len - 1:
            self.make_constraint(mch, 'IK', head, chain_count=ik_len)

        self.get_bone(mch).ik_stretch = 0.1

    ####################################################
    # MCH chain for the middle of the neck

    @stage.generate_bones
    def make_mch_chain(self):
        orgs = self.bones.org
        self.bones.mch.chain = map_list(self.make_mch_bone, orgs[1:-1])

    def make_mch_bone(self, org):
        return self.copy_bone(org, make_derived_name(org, 'mch'), parent=False, scale=1/4)

    @stage.parent_bones
    def align_mch_chain(self):
        for mch in self.bones.mch.chain:
            align_bone_orientation(self.obj, mch, self.bones.ctrl.neck)

    @stage.parent_bones
    def parent_mch_chain(self):
        mch = self.bones.mch
        for bone in mch.chain:
            self.set_bone_parent(bone, mch.stretch, inherit_scale='NONE')

    @stage.rig_bones
    def rig_mch_chain(self):
        chain = self.bones.mch.chain
        if self.long_neck:
            ik = self.bones.mch.ik
            for args in zip(count(0), chain, ik[1:]):
                self.rig_mch_bone_long(*args, len(chain))
        else:
            for args in zip(count(0), chain):
                self.rig_mch_bone(*args, len(chain))

    def rig_mch_bone_long(self, i, mch, ik, len_mch):
        ctrl = self.bones.ctrl

        self.make_constraint(mch, 'COPY_LOCATION', ik)

        step = 2/(len_mch+1)
        xval = (i+1)*step
        influence = 2*xval - xval**2    #parabolic influence of pivot

        self.make_constraint(
            mch, 'COPY_LOCATION', ctrl.neck_bend,
            influence=influence, use_offset=True, space='LOCAL'
        )

        self.make_constraint(mch, 'COPY_SCALE', ctrl.neck)

    def rig_mch_bone(self, i, mch, len_mch):
        ctrl = self.bones.ctrl

        nfactor = float((i + 1) / (len_mch + 1))
        self.make_constraint(
            mch, 'COPY_ROTATION', ctrl.head,
            influence=nfactor, space='LOCAL'
        )

        self.make_constraint(mch, 'COPY_SCALE', ctrl.neck)

    ####################################################
    # Tweak bones

    @stage.generate_bones
    def make_tweak_chain(self):
        orgs = self.bones.org
        self.bones.ctrl.tweak = map_list(self.make_tweak_bone, count(0), orgs[0:-1])
        if not self.has_neck:
            self.check_connect_tweak(orgs[0])

    @stage.parent_bones
    def parent_tweak_chain(self):
        ctrl = self.bones.ctrl
        mch = self.bones.mch

        if self.has_neck:
            for args in zip(ctrl.tweak, [ctrl.neck, *mch.chain]):
                self.set_bone_parent(*args)
        elif self.connected_tweak:
            self.set_bone_parent(self.connected_tweak, ctrl.head)

    @stage.rig_bones
    def generate_neck_tweak_widget(self):
        # Generate the widget early to override connected parent
        if self.long_neck:
            bone = self.bones.ctrl.tweak[0]
            create_neck_tweak_widget(self.obj, bone, size=1.0)

    ####################################################
    # ORG and DEF bones

    @stage.generate_bones
    def register_parent_bones(self):
        rig = self.rigify_parent or self
        builder = SwitchParentBuilder(self.generator)
        builder.register_parent(
            self, self.bones.org[-1], name='Head',
            inject_into=rig, exclude_self=True, tags={'head'},
        )

    @stage.configure_bones
    def configure_bbone_chain(self):
        self.get_bone(self.bones.deform[-1]).bone.bbone_segments = 1

    @stage.rig_bones
    def rig_org_chain(self):
        if self.has_neck:
            tweaks = self.bones.ctrl.tweak + [self.bones.ctrl.head]
        else:
            tweaks = [self.connected_tweak or self.bones.ctrl.head]

        for args in zip(count(0), self.bones.org, tweaks, tweaks[1:] + [None]):
            self.rig_org_bone(*args)


def create_sample(obj, *, parent=None):
    # generated by rigify.utils.write_metarig
    bpy.ops.object.mode_set(mode='EDIT')
    arm = obj.data

    bones = {}

    bone = arm.edit_bones.new('neck')
    bone.head[:] = 0.0000, 0.0114, 1.6582
    bone.tail[:] = 0.0000, -0.0130, 1.7197
    bone.roll = 0.0000
    bone.use_connect = False
    if parent:
        bone.parent = arm.edit_bones[parent]
    bones['neck'] = bone.name
    bone = arm.edit_bones.new('neck.001')
    bone.head[:] = 0.0000, -0.0130, 1.7197
    bone.tail[:] = 0.0000, -0.0247, 1.7813
    bone.roll = 0.0000
    bone.use_connect = True
    bone.parent = arm.edit_bones[bones['neck']]
    bones['neck.001'] = bone.name
    bone = arm.edit_bones.new('head')
    bone.head[:] = 0.0000, -0.0247, 1.7813
    bone.tail[:] = 0.0000, -0.0247, 1.9796
    bone.roll = 0.0000
    bone.use_connect = True
    bone.parent = arm.edit_bones[bones['neck.001']]
    bones['head'] = bone.name

    bpy.ops.object.mode_set(mode='OBJECT')
    pbone = obj.pose.bones[bones['neck']]
    pbone.rigify_type = 'spines.super_head'
    pbone.lock_location = (False, False, False)
    pbone.lock_rotation = (False, False, False)
    pbone.lock_rotation_w = False
    pbone.lock_scale = (False, False, False)
    pbone.rotation_mode = 'QUATERNION'
    try:
        pbone.rigify_parameters.connect_chain = bool(parent)
    except AttributeError:
        pass
    try:
        pbone.rigify_parameters.tweak_layers = [False, False, False, False, True, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False, False]
    except AttributeError:
        pass
    pbone = obj.pose.bones[bones['neck.001']]
    pbone.rigify_type = ''
    pbone.lock_location = (False, False, False)
    pbone.lock_rotation = (False, False, False)
    pbone.lock_rotation_w = False
    pbone.lock_scale = (False, False, False)
    pbone.rotation_mode = 'QUATERNION'
    pbone = obj.pose.bones[bones['head']]
    pbone.rigify_type = ''
    pbone.lock_location = (False, False, False)
    pbone.lock_rotation = (False, False, False)
    pbone.lock_rotation_w = False
    pbone.lock_scale = (False, False, False)
    pbone.rotation_mode = 'QUATERNION'

    bpy.ops.object.mode_set(mode='EDIT')
    for bone in arm.edit_bones:
        bone.select = False
        bone.select_head = False
        bone.select_tail = False
    for b in bones:
        bone = arm.edit_bones[bones[b]]
        bone.select = True
        bone.select_head = True
        bone.select_tail = True
        arm.edit_bones.active = bone
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        # SPDX-License-Identifier: GPL-3.0-or-later
# Copyright (C) 2016-2020 by Nathan Lovato, Daniel Oakey, Razvan Radulescu, and contributors
import bpy


class InfoProgressBar:
    """
    Draws a progress bar in the info header area
    """

    def __init__(self, progress_min=0, progress_max=100):
        assert progress_min < progress_max

        self.progress_min = progress_min
        self.progress_max = progress_max

        self._progress = bpy.props.FloatProperty(
            default=self.progress_min,
            min=self.progress_min,
            max=self.progress_max,
            subtype="PERCENTAGE",
        )
        self._visible = False

    def update(self, context):
        for area in context.screen.areas:
            if area.type == "INFO":
                area.tag_redraw()

    def draw(self):
        if self.progress >= self.progress_max:
            self.visible = False
        else:
            self.layout.prop(self, "_progress", text="Progress", slider=True)

    @property
    def progress(self):
        return self._progress

    @progress.setter
    def progress(self, value):
        self._progress = min(max(self.progress_min, value), self.progress_max)

    @property
    def visible(self):
        return self._visible

    @visible.setter
    def visible(self, value):
        self._visible = value

        if self._visible:
            bpy.types.INFO_HT_header.append(self.draw)
            bpy.app.handlers.scene_update_post.add(self.update)
        else:
            bpy.types.INFO_HT_header.remove(self.draw)
            bpy.app.handlers.scene_update_post.remove(self.update)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              from typing import List, TypeVar, Callable, Sequence, Any, overload, Tuple, SupportsIndex, Protocol

from numpy import (
    generic,
    integer,
    dtype,
    ufunc,
    bool_,
    unsignedinteger,
    signedinteger,
    floating,
    complexfloating,
    object_,
)

from numpy.typing import (
    ArrayLike,
    NDArray,
    _ShapeLike,
     _FiniteNestedSequence,
     _SupportsArray,
     _ArrayLikeBool_co,
     _ArrayLikeUInt_co,
     _ArrayLikeInt_co,
     _ArrayLikeFloat_co,
     _ArrayLikeComplex_co,
     _ArrayLikeObject_co,
)

from numpy.core.shape_base import vstack

_SCT = TypeVar("_SCT", bound=generic)

_ArrayLike = _FiniteNestedSequence[_SupportsArray[dtype[_SCT]]]

# The signatures of `__array_wrap__` and `__array_prepare__` are the same;
# give them unique names for the sake of clarity
class _ArrayWrap(Protocol):
    def __call__(
        self,
        array: NDArray[Any],
        context: None | Tuple[ufunc, Tuple[Any, ...], int] = ...,
        /,
    ) -> Any: ...

class _ArrayPrepare(Protocol):
    def __call__(
        self,
        array: NDArray[Any],
        context: None | Tuple[ufunc, Tuple[Any, ...], int] = ...,
        /,
    ) -> Any: ...

class _SupportsArrayWrap(Protocol):
    @property
    def __array_wrap__(self) -> _ArrayWrap: ...

class _SupportsArrayPrepare(Protocol):
    @property
    def __array_prepare__(self) -> _ArrayPrepare: ...

__all__: List[str]

row_stack = vstack

def take_along_axis(
    arr: _SCT | NDArray[_SCT],
    indices: NDArray[integer[Any]],
    axis: None | int,
) -> NDArray[_SCT]: ...

def put_along_axis(
    arr: NDArray[_SCT],
    indices: NDArray[integer[Any]],
    values: ArrayLike,
    axis: None | int,
) -> None: ...

@overload
def apply_along_axis(
    func1d: Callable[..., _ArrayLike[_SCT]],
    axis: SupportsIndex,
    arr: ArrayLike,
    *args: Any,
    **kwargs: Any,
) -> NDArray[_SCT]: ...
@overload
def apply_along_axis(
    func1d: Callable[..., ArrayLike],
    axis: SupportsIndex,
    arr: ArrayLike,
    *args: Any,
    **kwargs: Any,
) -> NDArray[Any]: ...

def apply_over_axes(
    func: Callable[[NDArray[Any], int], NDArray[_SCT]],
    a: ArrayLike,
    axes: int | Sequence[int],
) -> NDArray[_SCT]: ...

@overload
def expand_dims(
    a: _ArrayLike[_SCT],
    axis: _ShapeLike,
) -> NDArray[_SCT]: ...
@overload
def expand_dims(
    a: ArrayLike,
    axis: _ShapeLike,
) -> NDArray[Any]: ...

@overload
def column_stack(tup: Sequence[_ArrayLike[_SCT]]) -> NDArray[_SCT]: ...
@overload
def column_stack(tup: Sequence[ArrayLike]) -> NDArray[Any]: ...

@overload
def dstack(tup: Sequence[_ArrayLike[_SCT]]) -> NDArray[_SCT]: ...
@overload
def dstack(tup: Sequence[ArrayLike]) -> NDArray[Any]: ...

@overload
def array_split(
    ary: _ArrayLike[_SCT],
    indices_or_sections: _ShapeLike,
    axis: SupportsIndex = ...,
) -> List[NDArray[_SCT]]: ...
@overload
def array_split(
    ary: ArrayLike,
    indices_or_sections: _ShapeLike,
    axis: SupportsIndex = ...,
) -> List[NDArray[Any]]: ...

@overload
def split(
    ary: _ArrayLike[_SCT],
    indices_or_sections: _ShapeLike,
    axis: SupportsIndex = ...,
) -> List[NDArray[_SCT]]: ...
@overload
def split(
    ary: ArrayLike,
    indices_or_sections: _ShapeLike,
    axis: SupportsIndex = ...,
) -> List[NDArray[Any]]: ...

@overload
def hsplit(
    ary: _ArrayLike[_SCT],
    indices_or_sections: _ShapeLike,
) -> List[NDArray[_SCT]]: ...
@overload
def hsplit(
    ary: ArrayLike,
    indices_or_sections: _ShapeLike,
) -> List[NDArray[Any]]: ...

@overload
def vsplit(
    ary: _ArrayLike[_SCT],
    indices_or_sections: _ShapeLike,
) -> List[NDArray[_SCT]]: ...
@overload
def vsplit(
    ary: ArrayLike,
    indices_or_sections: _ShapeLike,
) -> List[NDArray[Any]]: ...

@overload
def dsplit(
    ary: _ArrayLike[_SCT],
    indices_or_sections: _ShapeLike,
) -> List[NDArray[_SCT]]: ...
@overload
def dsplit(
    ary: ArrayLike,
    indices_or_sections: _ShapeLike,
) -> List[NDArray[Any]]: ...

@overload
def get_array_prepare(*args: _SupportsArrayPrepare) -> _ArrayPrepare: ...
@overload
def get_array_prepare(*args: object) -> None | _ArrayPrepare: ...

@overload
def get_array_wrap(*args: _SupportsArrayWrap) -> _ArrayWrap: ...
@overload
def get_array_wrap(*args: object) -> None | _ArrayWrap: ...

@overload
def kron(a: _ArrayLikeBool_co, b: _ArrayLikeBool_co) -> NDArray[bool_]: ...  # type: ignore[misc]
@overload
def kron(a: _ArrayLikeUInt_co, b: _ArrayLikeUInt_co) -> NDArray[unsignedinteger[Any]]: ...  # type: ignore[misc]
@overload
def kron(a: _ArrayLikeInt_co, b: _ArrayLikeInt_co) -> NDArray[signedinteger[Any]]: ...  # type: ignore[misc]
@overload
def kron(a: _ArrayLikeFloat_co, b: _ArrayLikeFloat_co) -> NDArray[floating[Any]]: ...  # type: ignore[misc]
@overload
def kron(a: _ArrayLikeComplex_co, b: _ArrayLikeComplex_co) -> NDArray[complexfloating[Any, Any]]: ...
@overload
def kron(a: _ArrayLikeObject_co, b: Any) -> NDArray[object_]: ...
@overload
def kron(a: Any, b: _ArrayLikeObject_co) -> NDArray[object_]: ...

@overload
def tile(
    A: _ArrayLike[_SCT],
    reps: int | Sequence[int],
) -> NDArray[_SCT]: ...
@overload
def tile(
    A: ArrayLike,
    reps: int | Sequence[int],
) -> NDArray[Any]: ...
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     from .object cimport PyObject

cdef extern from "Python.h":

    ############################################################################
    # 7.4.1 Dictionary Objects
    ############################################################################

    # PyDictObject
    #
    # This subtype of PyObject represents a Python dictionary object
    # (i.e. the 'dict' type).

    # PyTypeObject PyDict_Type
    #
    # This instance of PyTypeObject represents the Python dictionary
    # type. This is exposed to Python programs as dict and
    # types.DictType.

    bint PyDict_Check(object p)
    # Return true if p is a dict object or an instance of a subtype of
    # the dict type.

    bint PyDict_CheckExact(object p)
    # Return true if p is a dict object, but not an instance of a
    # subtype of the dict type.

    dict PyDict_New()
    # Return value: New reference.
    # Return a new empty dictionary, or NULL on failure.

    object PyDictProxy_New(object dict)
    # Return value: New reference.
    # Return a proxy object for a mapping which enforces read-only
    # behavior. This is normally used to create a proxy to prevent
    # modification of the dictionary for non-dynamic class types.

    void PyDict_Clear(object p)
    # Empty an existing dictionary of all key-value pairs.

    int PyDict_Contains(object p, object key) except -1
    # Determine if dictionary p contains key. If an item in p is
    # matches key, return 1, otherwise return 0. On error, return
    # -1. This is equivalent to the Python expression "key in p".

    dict PyDict_Copy(object p)
    # Return value: New reference.
    # Return a new dictionary that contains the same key-value pairs as p.

    int PyDict_SetItem(object p, object key, object val) except -1
    # Insert value into the dictionary p with a key of key. key must
    # be hashable; if it isn't, TypeError will be raised. Return 0 on
    # success or -1 on failure.

    int PyDict_SetItemString(object p, const char *key, object val) except -1
    # Insert value into the dictionary p using key as a key. key
    # should be a char*. The key object is created using
    # PyString_FromString(key). Return 0 on success or -1 on failure.

    int PyDict_DelItem(object p, object key) except -1
    # Remove the entry in dictionary p with key key. key must be
    # hashable; if it isn't, TypeError is raised. Return 0 on success
    # or -1 on failure.

    int PyDict_DelItemString(object p, const char *key) except -1
    # Remove the entry in dictionary p which has a key specified by
    # the string key. Return 0 on success or -1 on failure.

    PyObject* PyDict_GetItem(object p, object key)
    # Return value: Borrowed reference.
    # Return the object from dictionary p which has a key key. Return
    # NULL if the key key is not present, but without setting an
    # exception.

    PyObject* PyDict_GetItemString(object p, const char *key)
    # Return value: Borrowed reference.
    # This is the same as PyDict_GetItem(), but key is specified as a
    # char*, rather than a PyObject*.

    list PyDict_Items(object p)
    # Return value: New reference.
    # Return a PyListObject containing all the items from the
    # dictionary, as in the dictionary method items() (see the Python
    # Library Reference).

    list PyDict_Keys(object p)
    # Return value: New reference.
    # Return a PyListObject containing all the keys from the
    # dictionary, as in the dictionary method keys() (see the Python
    # Library Reference).

    list PyDict_Values(object p)
    # Return value: New reference.
    # Return a PyListObject containing all the values from the
    # dictionary p, as in the dictionary method values() (see the
    # Python Library Reference).

    Py_ssize_t PyDict_Size(object p) except -1
    # Return the number of items in the dictionary. This is equivalent
    # to "len(p)" on a dictionary.

    int PyDict_Next(object p, Py_ssize_t *ppos, PyObject* *pkey, PyObject* *pvalue)
    # Iterate over all key-value pairs in the dictionary p. The int
    # referred to by ppos must be initialized to 0 prior to the first
    # call to this function to start the iteration; the function
    # returns true for each pair in the dictionary, and false once all
    # pairs have been reported. The parameters pkey and pvalue should
    # either point to PyObject* variables that will be filled in with
    # each key and value, respectively, or may be NULL. Any references
    # returned through them are borrowed. ppos should not be altered
    # during iteration. Its value represents offsets within the
    # internal dictionary structure, and since the structure is
    # sparse, the offsets are not consecutive.
    # For example:
    #
    #object key, *value;
    #int pos = 0;
    #
    #while (PyDict_Next(self->dict, &pos, &key, &value)) {
    #   /* do something interesting with the values... */
    #    ...
    #}
    # The dictionary p should not be mutated during iteration. It is
    # safe (since Python 2.1) to modify the values of the keys as you
    # iterate over the dictionary, but only so long as the set of keys
    # does not change. For example:
    # object key, *value;
    # int pos = 0;
    # while (PyDict_Next(self->dict, &pos, &key, &value)) {
    #    int i = PyInt_AS_LONG(value) + 1;
    #    object o = PyInt_FromLong(i);
    #    if (o == NULL)
    #        return -1;
    #    if (PyDict_SetItem(self->dict, key, o) < 0) {
    #        Py_DECREF(o);
    #        return -1;
    #    }
    #    Py_DECREF(o);
    # }

    int PyDict_Merge(object a, object b, int override) except -1
    # Iterate over mapping object b adding key-value pairs to
    # dictionary a. b may be a dictionary, or any object supporting
    # PyMapping_Keys() and PyObject_GetItem(). If override is true,
    # existing pairs in a will be replaced if a matching key is found
    # in b, otherwise pairs will only be added if there is not a
    # matching key in a. Return 0 on success or -1 if an exception was
    # raised.

    int PyDict_Update(object a, object b) except -1
    # This is the same as PyDict_Merge(a, b, 1) in C, or a.update(b)
    # in Python. Return 0 on success or -1 if an exception was raised.

    int PyDict_MergeFromSeq2(object a, object seq2, int override) except -1
    # Update or merge into dictionary a, from the key-value pairs in
    # seq2. seq2 must be an iterable object producing iterable objects
    # of length 2, viewed as key-value pairs. In case of duplicate
    # keys, the last wins if override is true, else the first
    # wins. Return 0 on success or -1 if an exception was
    # raised. Equivalent Python (except for the return value):
    #
    #def PyDict_MergeFromSeq2(a, seq2, override):
    #    for key, value in seq2:
    #        if override or key not in a:
    #            a[key] = value
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   # actions.py

from .exceptions import ParseException
from .util import col


class OnlyOnce:
    """
    Wrapper for parse actions, to ensure they are only called once.
    """

    def __init__(self, method_call):
        from .core import _trim_arity

        self.callable = _trim_arity(method_call)
        self.called = False

    def __call__(self, s, l, t):
        if not self.called:
            results = self.callable(s, l, t)
            self.called = True
            return results
        raise ParseException(s, l, "OnlyOnce obj called multiple times w/out reset")

    def reset(self):
        """
        Allow the associated parse action to be called once more.
        """

        self.called = False


def match_only_at_col(n):
    """
    Helper method for defining parse actions that require matching at
    a specific column in the input text.
    """

    def verify_col(strg, locn, toks):
        if col(locn, strg) != n:
            raise ParseException(strg, locn, "matched token not at column {}".format(n))

    return verify_col


def replace_with(repl_str):
    """
    Helper method for common parse actions that simply return
    a literal value.  Especially useful when used with
    :class:`transform_string<ParserElement.transform_string>` ().

    Example::

        num = Word(nums).set_parse_action(lambda toks: int(toks[0]))
        na = one_of("N/A NA").set_parse_action(replace_with(math.nan))
        term = na | num

        OneOrMore(term).parse_string("324 234 N/A 234") # -> [324, 234, nan, 234]
    """
    return lambda s, l, t: [repl_str]


def remove_quotes(s, l, t):
    """
    Helper parse action for removing quotation marks from parsed
    quoted strings.

    Example::

        # by default, quotation marks are included in parsed results
        quoted_string.parse_string("'Now is the Winter of our Discontent'") # -> ["'Now is the Winter of our Discontent'"]

        # use remove_quotes to strip quotation marks from parsed results
        quoted_string.set_parse_action(remove_quotes)
        quoted_string.parse_string("'Now is the Winter of our Discontent'") # -> ["Now is the Winter of our Discontent"]
    """
    return t[0][1:-1]


def with_attribute(*args, **attr_dict):
    """
    Helper to create a validating parse action to be used with start
    tags created with :class:`make_xml_tags` or
    :class:`make_html_tags`. Use ``with_attribute`` to qualify
    a starting tag with a required attribute value, to avoid false
    matches on common tags such as ``<TD>`` or ``<DIV>``.

    Call ``with_attribute`` with a series of attribute names and
    values. Specify the list of filter attributes names and values as:

    - keyword arguments, as in ``(align="right")``, or
    - as an explicit dict with ``**`` operator, when an attribute
      name is also a Python reserved word, as in ``**{"class":"Customer", "align":"right"}``
    - a list of name-value tuples, as in ``(("ns1:class", "Customer"), ("ns2:align", "right"))``

    For attribute names with a namespace prefix, you must use the second
    form.  Attribute names are matched insensitive to upper/lower case.

    If just testing for ``class`` (with or without a namespace), use
    :class:`with_class`.

    To verify that the attribute exists, but without specifying a value,
    pass ``with_attribute.ANY_VALUE`` as the value.

    Example::

        html = '''
            <div>
            Some text
            <div type="grid">1 4 0 1 0</div>
            <div type="graph">1,3 2,3 1,1</div>
            <div>this has no type</div>
            </div>

        '''
        div,div_end = make_html_tags("div")

        # only match div tag having a type attribute with value "grid"
        div_grid = div().set_parse_action(with_attribute(type="grid"))
        grid_expr = div_grid + SkipTo(div | div_end)("body")
        for grid_header in grid_expr.search_string(html):
            print(grid_header.body)

        # construct a match with any div tag having a type attribute, regardless of the value
        div_any_type = div().set_parse_action(with_attribute(type=with_attribute.ANY_VALUE))
        div_expr = div_any_type + SkipTo(div | div_end)("body")
        for div_header in div_expr.search_string(html):
            print(div_header.body)

    prints::

        1 4 0 1 0

        1 4 0 1 0
        1,3 2,3 1,1
    """
    if args:
        attrs = args[:]
    else:
        attrs = attr_dict.items()
    attrs = [(k, v) for k, v in attrs]

    def pa(s, l, tokens):
        for attrName, attrValue in attrs:
            if attrName not in tokens:
                raise ParseException(s, l, "no matching attribute " + attrName)
            if attrValue != with_attribute.ANY_VALUE and tokens[attrName] != attrValue:
                raise ParseException(
                    s,
                    l,
                    "attribute {!r} has value {!r}, must be {!r}".format(
                        attrName, tokens[attrName], attrValue
                    ),
                )

    return pa


with_attribute.ANY_VALUE = object()


def with_class(classname, namespace=""):
    """
    Simplified version of :class:`with_attribute` when
    matching on a div class - made difficult because ``class`` is
    a reserved word in Python.

    Example::

        html = '''
            <div>
            Some text
            <div class="grid">1 4 0 1 0</div>
            <div class="graph">1,3 2,3 1,1</div>
            <div>this &lt;div&gt; has no class</div>
            </div>

        '''
        div,div_end = make_html_tags("div")
        div_grid = div().set_parse_action(with_class("grid"))

        grid_expr = div_grid + SkipTo(div | div_end)("body")
        for grid_header in grid_expr.search_string(html):
            print(grid_header.body)

        div_any_type = div().set_parse_action(with_class(withAttribute.ANY_VALUE))
        div_expr = div_any_type + SkipTo(div | div_end)("body")
        for div_header in div_expr.search_string(html):
            print(div_header.body)

    prints::

        1 4 0 1 0

        1 4 0 1 0
        1,3 2,3 1,1
    """
    classattr = "{}:class".format(namespace) if namespace else "class"
    return with_attribute(**{classattr: classname})


# pre-PEP8 compatibility symbols
replaceWith = replace_with
removeQuotes = remove_quotes
withAttribute = with_attribute
withClass = with_class
matchOnlyAtCol = match_only_at_col
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   # Copyright (c) 2010-2020 Benjamin Peterson
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in all
# copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
# SOFTWARE.

"""Utilities for writing code that runs on Python 2 and 3"""

from __future__ import absolute_import

import functools
import itertools
import operator
import sys
import types

__author__ = "Benjamin Peterson <benjamin@python.org>"
__version__ = "1.16.0"


# Useful for very coarse version differentiation.
PY2 = sys.version_info[0] == 2
PY3 = sys.version_info[0] == 3
PY34 = sys.version_info[0:2] >= (3, 4)

if PY3:
    string_types = (str,)
    integer_types = (int,)
    class_types = (type,)
    text_type = str
    binary_type = bytes

    MAXSIZE = sys.maxsize
else:
    string_types = (basestring,)
    integer_types = (int, long)
    class_types = (type, types.ClassType)
    text_type = unicode
    binary_type = str

    if sys.platform.startswith("java"):
        # Jython always uses 32 bits.
        MAXSIZE = int((1 << 31) - 1)
    else:
        # It's possible to have sizeof(long) != sizeof(Py_ssize_t).
        class X(object):
            def __len__(self):
                return 1 << 31

        try:
            len(X())
        except OverflowError:
            # 32-bit
            MAXSIZE = int((1 << 31) - 1)
        else:
            # 64-bit
            MAXSIZE = int((1 << 63) - 1)
        del X

if PY34:
    from importlib.util import spec_from_loader
else:
    spec_from_loader = None


def _add_doc(func, doc):
    """Add documentation to a function."""
    func.__doc__ = doc


def _import_module(name):
    """Import module, returning the module after the last dot."""
    __import__(name)
    return sys.modules[name]


class _LazyDescr(object):
    def __init__(self, name):
        self.name = name

    def __get__(self, obj, tp):
        result = self._resolve()
        setattr(obj, self.name, result)  # Invokes __set__.
        try:
            # This is a bit ugly, but it avoids running this again by
            # removing this descriptor.
            delattr(obj.__class__, self.name)
        except AttributeError:
            pass
        return result


class MovedModule(_LazyDescr):
    def __init__(self, name, old, new=None):
        super(MovedModule, self).__init__(name)
        if PY3:
            if new is None:
                new = name
            self.mod = new
        else:
            self.mod = old

    def _resolve(self):
        return _import_module(self.mod)

    def __getattr__(self, attr):
        _module = self._resolve()
        value = getattr(_module, attr)
        setattr(self, attr, value)
        return value


class _LazyModule(types.ModuleType):
    def __init__(self, name):
        super(_LazyModule, self).__init__(name)
        self.__doc__ = self.__class__.__doc__

    def __dir__(self):
        attrs = ["__doc__", "__name__"]
        attrs += [attr.name for attr in self._moved_attributes]
        return attrs

    # Subclasses should override this
    _moved_attributes = []


class MovedAttribute(_LazyDescr):
    def __init__(self, name, old_mod, new_mod, old_attr=None, new_attr=None):
        super(MovedAttribute, self).__init__(name)
        if PY3:
            if new_mod is None:
                new_mod = name
            self.mod = new_mod
            if new_attr is None:
                if old_attr is None:
                    new_attr = name
                else:
                    new_attr = old_attr
            self.attr = new_attr
        else:
            self.mod = old_mod
            if old_attr is None:
                old_attr = name
            self.attr = old_attr

    def _resolve(self):
        module = _import_module(self.mod)
        return getattr(module, self.attr)


class _SixMetaPathImporter(object):

    """
    A meta path importer to import six.moves and its submodules.

    This class implements a PEP302 finder and loader. It should be compatible
    with Python 2.5 and all existing versions of Python3
    """

    def __init__(self, six_module_name):
        self.name = six_module_name
        self.known_modules = {}

    def _add_module(self, mod, *fullnames):
        for fullname in fullnames:
            self.known_modules[self.name + "." + fullname] = mod

    def _get_module(self, fullname):
        return self.known_modules[self.name + "." + fullname]

    def find_module(self, fullname, path=None):
        if fullname in self.known_modules:
            return self
        return None

    def find_spec(self, fullname, path, target=None):
        if fullname in self.known_modules:
            return spec_from_loader(fullname, self)
        return None

    def __get_module(self, fullname):
        try:
            return self.known_modules[fullname]
        except KeyError:
            raise ImportError("This loader does not know module " + fullname)

    def load_module(self, fullname):
        try:
            # in case of a reload
            return sys.modules[fullname]
        except KeyError:
            pass
        mod = self.__get_module(fullname)
        if isinstance(mod, MovedModule):
            mod = mod._resolve()
        else:
            mod.__loader__ = self
        sys.modules[fullname] = mod
        return mod

    def is_package(self, fullname):
        """
        Return true, if the named module is a package.

        We need this method to get correct spec objects with
        Python 3.4 (see PEP451)
        """
        return hasattr(self.__get_module(fullname), "__path__")

    def get_code(self, fullname):
        """Return None

        Required, if is_package is implemented"""
        self.__get_module(fullname)  # eventually raises ImportError
        return None

    get_source = get_code  # same as get_code

    def create_module(self, spec):
        return self.load_module(spec.name)

    def exec_module(self, module):
        pass


_importer = _SixMetaPathImporter(__name__)


class _MovedItems(_LazyModule):

    """Lazy loading of moved objects"""

    __path__ = []  # mark as package


_moved_attributes = [
    MovedAttribute("cStringIO", "cStringIO", "io", "StringIO"),
    MovedAttribute("filter", "itertools", "builtins", "ifilter", "filter"),
    MovedAttribute(
        "filterfalse", "itertools", "itertools", "ifilterfalse", "filterfalse"
    ),
    MovedAttribute("input", "__builtin__", "builtins", "raw_input", "input"),
    MovedAttribute("intern", "__builtin__", "sys"),
    MovedAttribute("map", "itertools", "builtins", "imap", "map"),
    MovedAttribute("getcwd", "os", "os", "getcwdu", "getcwd"),
    MovedAttribute("getcwdb", "os", "os", "getcwd", "getcwdb"),
    MovedAttribute("getoutput", "commands", "subprocess"),
    MovedAttribute("range", "__builtin__", "builtins", "xrange", "range"),
    MovedAttribute(
        "reload_module", "__builtin__", "importlib" if PY34 else "imp", "reload"
    ),
    MovedAttribute("reduce", "__builtin__", "functools"),
    MovedAttribute("shlex_quote", "pipes", "shlex", "quote"),
    MovedAttribute("StringIO", "StringIO", "io"),
    MovedAttribute("UserDict", "UserDict", "collections"),
    MovedAttribute("UserList", "UserList", "collections"),
    MovedAttribute("UserString", "UserString", "collections"),
    MovedAttribute("xrange", "__builtin__", "builtins", "xrange", "range"),
    MovedAttribute("zip", "itertools", "builtins", "izip", "zip"),
    MovedAttribute(
        "zip_longest", "itertools", "itertools", "izip_longest", "zip_longest"
    ),
    MovedModule("builtins", "__builtin__"),
    MovedModule("configparser", "ConfigParser"),
    MovedModule(
        "collections_abc",
        "collections",
        "collections.abc" if sys.version_info >= (3, 3) else "collections",
    ),
    MovedModule("copyreg", "copy_reg"),
    MovedModule("dbm_gnu", "gdbm", "dbm.gnu"),
    MovedModule("dbm_ndbm", "dbm", "dbm.ndbm"),
    MovedModule(
        "_dummy_thread",
        "dummy_thread",
        "_dummy_thread" if sys.version_info < (3, 9) else "_thread",
    ),
    MovedModule("http_cookiejar", "cookielib", "http.cookiejar"),
    MovedModule("http_cookies", "Cookie", "http.cookies"),
    MovedModule("html_entities", "htmlentitydefs", "html.entities"),
    MovedModule("html_parser", "HTMLParser", "html.parser"),
    MovedModule("http_client", "httplib", "http.client"),
    MovedModule("email_mime_base", "email.MIMEBase", "email.mime.base"),
    MovedModule("email_mime_image", "email.MIMEImage", "email.mime.image"),
    MovedModule("email_mime_multipart", "email.MIMEMultipart", "email.mime.multipart"),
    MovedModule(
        "email_mime_nonmultipart", "email.MIMENonMultipart", "email.mime.nonmultipart"
    ),
    MovedModule("email_mime_text", "email.MIMEText", "email.mime.text"),
    MovedModule("BaseHTTPServer", "BaseHTTPServer", "http.server"),
    MovedModule("CGIHTTPServer", "CGIHTTPServer", "http.server"),
    MovedModule("SimpleHTTPServer", "SimpleHTTPServer", "http.server"),
    MovedModule("cPickle", "cPickle", "pickle"),
    MovedModule("queue", "Queue"),
    MovedModule("reprlib", "repr"),
    MovedModule("socketserver", "SocketServer"),
    MovedModule("_thread", "thread", "_thread"),
    MovedModule("tkinter", "Tkinter"),
    MovedModule("tkinter_dialog", "Dialog", "tkinter.dialog"),
    MovedModule("tkinter_filedialog", "FileDialog", "tkinter.filedialog"),
    MovedModule("tkinter_scrolledtext", "ScrolledText", "tkinter.scrolledtext"),
    MovedModule("tkinter_simpledialog", "SimpleDialog", "tkinter.simpledialog"),
    MovedModule("tkinter_tix", "Tix", "tkinter.tix"),
    MovedModule("tkinter_ttk", "ttk", "tkinter.ttk"),
    MovedModule("tkinter_constants", "Tkconstants", "tkinter.constants"),
    MovedModule("tkinter_dnd", "Tkdnd", "tkinter.dnd"),
    MovedModule("tkinter_colorchooser", "tkColorChooser", "tkinter.colorchooser"),
    MovedModule("tkinter_commondialog", "tkCommonDialog", "tkinter.commondialog"),
    MovedModule("tkinter_tkfiledialog", "tkFileDialog", "tkinter.filedialog"),
    MovedModule("tkinter_font", "tkFont", "tkinter.font"),
    MovedModule("tkinter_messagebox", "tkMessageBox", "tkinter.messagebox"),
    MovedModule("tkinter_tksimpledialog", "tkSimpleDialog", "tkinter.simpledialog"),
    MovedModule("urllib_parse", __name__ + ".moves.urllib_parse", "urllib.parse"),
    MovedModule("urllib_error", __name__ + ".moves.urllib_error", "urllib.error"),
    MovedModule("urllib", __name__ + ".moves.urllib", __name__ + ".moves.urllib"),
    MovedModule("urllib_robotparser", "robotparser", "urllib.robotparser"),
    MovedModule("xmlrpc_client", "xmlrpclib", "xmlrpc.client"),
    MovedModule("xmlrpc_server", "SimpleXMLRPCServer", "xmlrpc.server"),
]
# Add windows specific modules.
if sys.platform == "win32":
    _moved_attributes += [
        MovedModule("winreg", "_winreg"),
    ]

for attr in _moved_attributes:
    setattr(_MovedItems, attr.name, attr)
    if isinstance(attr, MovedModule):
        _importer._add_module(attr, "moves." + attr.name)
del attr

_MovedItems._moved_attributes = _moved_attributes

moves = _MovedItems(__name__ + ".moves")
_importer._add_module(moves, "moves")


class Module_six_moves_urllib_parse(_LazyModule):

    """Lazy loading of moved objects in six.moves.urllib_parse"""


_urllib_parse_moved_attributes = [
    MovedAttribute("ParseResult", "urlparse", "urllib.parse"),
    MovedAttribute("SplitResult", "urlparse", "urllib.parse"),
    MovedAttribute("parse_qs", "urlparse", "urllib.parse"),
    MovedAttribute("parse_qsl", "urlparse", "urllib.parse"),
    MovedAttribute("urldefrag", "urlparse", "urllib.parse"),
    MovedAttribute("urljoin", "urlparse", "urllib.parse"),
    MovedAttribute("urlparse", "urlparse", "urllib.parse"),
    MovedAttribute("urlsplit", "urlparse", "urllib.parse"),
    MovedAttribute("urlunparse", "urlparse", "urllib.parse"),
    MovedAttribute("urlunsplit", "urlparse", "urllib.parse"),
    MovedAttribute("quote", "urllib", "urllib.parse"),
    MovedAttribute("quote_plus", "urllib", "urllib.parse"),
    MovedAttribute("unquote", "urllib", "urllib.parse"),
    MovedAttribute("unquote_plus", "urllib", "urllib.parse"),
    MovedAttribute(
        "unquote_to_bytes", "urllib", "urllib.parse", "unquote", "unquote_to_bytes"
    ),
    MovedAttribute("urlencode", "urllib", "urllib.parse"),
    MovedAttribute("splitquery", "urllib", "urllib.parse"),
    MovedAttribute("splittag", "urllib", "urllib.parse"),
    MovedAttribute("splituser", "urllib", "urllib.parse"),
    MovedAttribute("splitvalue", "urllib", "urllib.parse"),
    MovedAttribute("uses_fragment", "urlparse", "urllib.parse"),
    MovedAttribute("uses_netloc", "urlparse", "urllib.parse"),
    MovedAttribute("uses_params", "urlparse", "urllib.parse"),
    MovedAttribute("uses_query", "urlparse", "urllib.parse"),
    MovedAttribute("uses_relative", "urlparse", "urllib.parse"),
]
for attr in _urllib_parse_moved_attributes:
    setattr(Module_six_moves_urllib_parse, attr.name, attr)
del attr

Module_six_moves_urllib_parse._moved_attributes = _urllib_parse_moved_attributes

_importer._add_module(
    Module_six_moves_urllib_parse(__name__ + ".moves.urllib_parse"),
    "moves.urllib_parse",
    "moves.urllib.parse",
)


class Module_six_moves_urllib_error(_LazyModule):

    """Lazy loading of moved objects in six.moves.urllib_error"""


_urllib_error_moved_attributes = [
    MovedAttribute("URLError", "urllib2", "urllib.error"),
    MovedAttribute("HTTPError", "urllib2", "urllib.error"),
    MovedAttribute("ContentTooShortError", "urllib", "urllib.error"),
]
for attr in _urllib_error_moved_attributes:
    setattr(Module_six_moves_urllib_error, attr.name, attr)
del attr

Module_six_moves_urllib_error._moved_attributes = _urllib_error_moved_attributes

_importer._add_module(
    Module_six_moves_urllib_error(__name__ + ".moves.urllib.error"),
    "moves.urllib_error",
    "moves.urllib.error",
)


class Module_six_moves_urllib_request(_LazyModule):

    """Lazy loading of moved objects in six.moves.urllib_request"""


_urllib_request_moved_attributes = [
    MovedAttribute("urlopen", "urllib2", "urllib.request"),
    MovedAttribute("install_opener", "urllib2", "urllib.request"),
    MovedAttribute("build_opener", "urllib2", "urllib.request"),
    MovedAttribute("pathname2url", "urllib", "urllib.request"),
    MovedAttribute("url2pathname", "urllib", "urllib.request"),
    MovedAttribute("getproxies", "urllib", "urllib.request"),
    MovedAttribute("Request", "urllib2", "urllib.request"),
    MovedAttribute("OpenerDirector", "urllib2", "urllib.request"),
    MovedAttribute("HTTPDefaultErrorHandler", "urllib2", "urllib.request"),
    MovedAttribute("HTTPRedirectHandler", "urllib2", "urllib.request"),
    MovedAttribute("HTTPCookieProcessor", "urllib2", "urllib.request"),
    MovedAttribute("ProxyHandler", "urllib2", "urllib.request"),
    MovedAttribute("BaseHandler", "urllib2", "urllib.request"),
    MovedAttribute("HTTPPasswordMgr", "urllib2", "urllib.request"),
    MovedAttribute("HTTPPasswordMgrWithDefaultRealm", "urllib2", "urllib.request"),
    MovedAttribute("AbstractBasicAuthHandler", "urllib2", "urllib.request"),
    MovedAttribute("HTTPBasicAuthHandler", "urllib2", "urllib.request"),
    MovedAttribute("ProxyBasicAuthHandler", "urllib2", "urllib.request"),
    MovedAttribute("AbstractDigestAuthHandler", "urllib2", "urllib.request"),
    MovedAttribute("HTTPDigestAuthHandler", "urllib2", "urllib.request"),
    MovedAttribute("ProxyDigestAuthHandler", "urllib2", "urllib.request"),
    MovedAttribute("HTTPHandler", "urllib2", "urllib.request"),
    MovedAttribute("HTTPSHandler", "urllib2", "urllib.request"),
    MovedAttribute("FileHandler", "urllib2", "urllib.request"),
    MovedAttribute("FTPHandler", "urllib2", "urllib.request"),
    MovedAttribute("CacheFTPHandler", "urllib2", "urllib.request"),
    MovedAttribute("UnknownHandler", "urllib2", "urllib.request"),
    MovedAttribute("HTTPErrorProcessor", "urllib2", "urllib.request"),
    MovedAttribute("urlretrieve", "urllib", "urllib.request"),
    MovedAttribute("urlcleanup", "urllib", "urllib.request"),
    MovedAttribute("URLopener", "urllib", "urllib.request"),
    MovedAttribute("FancyURLopener", "urllib", "urllib.request"),
    MovedAttribute("proxy_bypass", "urllib", "urllib.request"),
    MovedAttribute("parse_http_list", "urllib2", "urllib.request"),
    MovedAttribute("parse_keqv_list", "urllib2", "urllib.request"),
]
for attr in _urllib_request_moved_attributes:
    setattr(Module_six_moves_urllib_request, attr.name, attr)
del attr

Module_six_moves_urllib_request._moved_attributes = _urllib_request_moved_attributes

_importer._add_module(
    Module_six_moves_urllib_request(__name__ + ".moves.urllib.request"),
    "moves.urllib_request",
    "moves.urllib.request",
)


class Module_six_moves_urllib_response(_LazyModule):

    """Lazy loading of moved objects in six.moves.urllib_response"""


_urllib_response_moved_attributes = [
    MovedAttribute("addbase", "urllib", "urllib.response"),
    MovedAttribute("addclosehook", "urllib", "urllib.response"),
    MovedAttribute("addinfo", "urllib", "urllib.response"),
    MovedAttribute("addinfourl", "urllib", "urllib.response"),
]
for attr in _urllib_response_moved_attributes:
    setattr(Module_six_moves_urllib_response, attr.name, attr)
del attr

Module_six_moves_urllib_response._moved_attributes = _urllib_response_moved_attributes

_importer._add_module(
    Module_six_moves_urllib_response(__name__ + ".moves.urllib.response"),
    "moves.urllib_response",
    "moves.urllib.response",
)


class Module_six_moves_urllib_robotparser(_LazyModule):

    """Lazy loading of moved objects in six.moves.urllib_robotparser"""


_urllib_robotparser_moved_attributes = [
    MovedAttribute("RobotFileParser", "robotparser", "urllib.robotparser"),
]
for attr in _urllib_robotparser_moved_attributes:
    setattr(Module_six_moves_urllib_robotparser, attr.name, attr)
del attr

Module_six_moves_urllib_robotparser._moved_attributes = (
    _urllib_robotparser_moved_attributes
)

_importer._add_module(
    Module_six_moves_urllib_robotparser(__name__ + ".moves.urllib.robotparser"),
    "moves.urllib_robotparser",
    "moves.urllib.robotparser",
)


class Module_six_moves_urllib(types.ModuleType):

    """Create a six.moves.urllib namespace that resembles the Python 3 namespace"""

    __path__ = []  # mark as package
    parse = _importer._get_module("moves.urllib_parse")
    error = _importer._get_module("moves.urllib_error")
    request = _importer._get_module("moves.urllib_request")
    response = _importer._get_module("moves.urllib_response")
    robotparser = _importer._get_module("moves.urllib_robotparser")

    def __dir__(self):
        return ["parse", "error", "request", "response", "robotparser"]


_importer._add_module(
    Module_six_moves_urllib(__name__ + ".moves.urllib"), "moves.urllib"
)


def add_move(move):
    """Add an item to six.moves."""
    setattr(_MovedItems, move.name, move)


def remove_move(name):
    """Remove item from six.moves."""
    try:
        delattr(_MovedItems, name)
    except AttributeError:
        try:
            del moves.__dict__[name]
        except KeyError:
            raise AttributeError("no such move, %r" % (name,))


if PY3:
    _meth_func = "__func__"
    _meth_self = "__self__"

    _func_closure = "__closure__"
    _func_code = "__code__"
    _func_defaults = "__defaults__"
    _func_globals = "__globals__"
else:
    _meth_func = "im_func"
    _meth_self = "im_self"

    _func_closure = "func_closure"
    _func_code = "func_code"
    _func_defaults = "func_defaults"
    _func_globals = "func_globals"


try:
    advance_iterator = next
except NameError:

    def advance_iterator(it):
        return it.next()


next = advance_iterator


try:
    callable = callable
except NameError:

    def callable(obj):
        return any("__call__" in klass.__dict__ for klass in type(obj).__mro__)


if PY3:

    def get_unbound_function(unbound):
        return unbound

    create_bound_method = types.MethodType

    def create_unbound_method(func, cls):
        return func

    Iterator = object
else:

    def get_unbound_function(unbound):
        return unbound.im_func

    def create_bound_method(func, obj):
        return types.MethodType(func, obj, obj.__class__)

    def create_unbound_method(func, cls):
        return types.MethodType(func, None, cls)

    class Iterator(object):
        def next(self):
            return type(self).__next__(self)

    callable = callable
_add_doc(
    get_unbound_function, """Get the function out of a possibly unbound function"""
)


get_method_function = operator.attrgetter(_meth_func)
get_method_self = operator.attrgetter(_meth_self)
get_function_closure = operator.attrgetter(_func_closure)
get_function_code = operator.attrgetter(_func_code)
get_function_defaults = operator.attrgetter(_func_defaults)
get_function_globals = operator.attrgetter(_func_globals)


if PY3:

    def iterkeys(d, **kw):
        return iter(d.keys(**kw))

    def itervalues(d, **kw):
        return iter(d.values(**kw))

    def iteritems(d, **kw):
        return iter(d.items(**kw))

    def iterlists(d, **kw):
        return iter(d.lists(**kw))

    viewkeys = operator.methodcaller("keys")

    viewvalues = operator.methodcaller("values")

    viewitems = operator.methodcaller("items")
else:

    def iterkeys(d, **kw):
        return d.iterkeys(**kw)

    def itervalues(d, **kw):
        return d.itervalues(**kw)

    def iteritems(d, **kw):
        return d.iteritems(**kw)

    def iterlists(d, **kw):
        return d.iterlists(**kw)

    viewkeys = operator.methodcaller("viewkeys")

    viewvalues = operator.methodcaller("viewvalues")

    viewitems = operator.methodcaller("viewitems")

_add_doc(iterkeys, "Return an iterator over the keys of a dictionary.")
_add_doc(itervalues, "Return an iterator over the values of a dictionary.")
_add_doc(iteritems, "Return an iterator over the (key, value) pairs of a dictionary.")
_add_doc(
    iterlists, "Return an iterator over the (key, [values]) pairs of a dictionary."
)


if PY3:

    def b(s):
        return s.encode("latin-1")

    def u(s):
        return s

    unichr = chr
    import struct

    int2byte = struct.Struct(">B").pack
    del struct
    byte2int = operator.itemgetter(0)
    indexbytes = operator.getitem
    iterbytes = iter
    import io

    StringIO = io.StringIO
    BytesIO = io.BytesIO
    del io
    _assertCountEqual = "assertCountEqual"
    if sys.version_info[1] <= 1:
        _assertRaisesRegex = "assertRaisesRegexp"
        _assertRegex = "assertRegexpMatches"
        _assertNotRegex = "assertNotRegexpMatches"
    else:
        _assertRaisesRegex = "assertRaisesRegex"
        _assertRegex = "assertRegex"
        _assertNotRegex = "assertNotRegex"
else:

    def b(s):
        return s

    # Workaround for standalone backslash

    def u(s):
        return unicode(s.replace(r"\\", r"\\\\"), "unicode_escape")

    unichr = unichr
    int2byte = chr

    def byte2int(bs):
        return ord(bs[0])

    def indexbytes(buf, i):
        return ord(buf[i])

    iterbytes = functools.partial(itertools.imap, ord)
    import StringIO

    StringIO = BytesIO = StringIO.StringIO
    _assertCountEqual = "assertItemsEqual"
    _assertRaisesRegex = "assertRaisesRegexp"
    _assertRegex = "assertRegexpMatches"
    _assertNotRegex = "assertNotRegexpMatches"
_add_doc(b, """Byte literal""")
_add_doc(u, """Text literal""")


def assertCountEqual(self, *args, **kwargs):
    return getattr(self, _assertCountEqual)(*args, **kwargs)


def assertRaisesRegex(self, *args, **kwargs):
    return getattr(self, _assertRaisesRegex)(*args, **kwargs)


def assertRegex(self, *args, **kwargs):
    return getattr(self, _assertRegex)(*args, **kwargs)


def assertNotRegex(self, *args, **kwargs):
    return getattr(self, _assertNotRegex)(*args, **kwargs)


if PY3:
    exec_ = getattr(moves.builtins, "exec")

    def reraise(tp, value, tb=None):
        try:
            if value is None:
                value = tp()
            if value.__traceback__ is not tb:
                raise value.with_traceback(tb)
            raise value
        finally:
            value = None
            tb = None

else:

    def exec_(_code_, _globs_=None, _locs_=None):
        """Execute code in a namespace."""
        if _globs_ is None:
            frame = sys._getframe(1)
            _globs_ = frame.f_globals
            if _locs_ is None:
                _locs_ = frame.f_locals
            del frame
        elif _locs_ is None:
            _locs_ = _globs_
        exec ("""exec _code_ in _globs_, _locs_""")

    exec_(
        """def reraise(tp, value, tb=None):
    try:
        raise tp, value, tb
    finally:
        tb = None
"""
    )


if sys.version_info[:2] > (3,):
    exec_(
        """def raise_from(value, from_value):
    try:
        raise value from from_value
    finally:
        value = None
"""
    )
else:

    def raise_from(value, from_value):
        raise value


print_ = getattr(moves.builtins, "print", None)
if print_ is None:

    def print_(*args, **kwargs):
        """The new-style print function for Python 2.4 and 2.5."""
        fp = kwargs.pop("file", sys.stdout)
        if fp is None:
            return

        def write(data):
            if not isinstance(data, basestring):
                data = str(data)
            # If the file has an encoding, encode unicode with it.
            if (
                isinstance(fp, file)
                and isinstance(data, unicode)
                and fp.encoding is not None
            ):
                errors = getattr(fp, "errors", None)
                if errors is None:
                    errors = "strict"
                data = data.encode(fp.encoding, errors)
            fp.write(data)

        want_unicode = False
        sep = kwargs.pop("sep", None)
        if sep is not None:
            if isinstance(sep, unicode):
                want_unicode = True
            elif not isinstance(sep, str):
                raise TypeError("sep must be None or a string")
        end = kwargs.pop("end", None)
        if end is not None:
            if isinstance(end, unicode):
                want_unicode = True
            elif not isinstance(end, str):
                raise TypeError("end must be None or a string")
        if kwargs:
            raise TypeError("invalid keyword arguments to print()")
        if not want_unicode:
            for arg in args:
                if isinstance(arg, unicode):
                    want_unicode = True
                    break
        if want_unicode:
            newline = unicode("\n")
            space = unicode(" ")
        else:
            newline = "\n"
            space = " "
        if sep is None:
            sep = space
        if end is None:
            end = newline
        for i, arg in enumerate(args):
            if i:
                write(sep)
            write(arg)
        write(end)


if sys.version_info[:2] < (3, 3):
    _print = print_

    def print_(*args, **kwargs):
        fp = kwargs.get("file", sys.stdout)
        flush = kwargs.pop("flush", False)
        _print(*args, **kwargs)
        if flush and fp is not None:
            fp.flush()


_add_doc(reraise, """Reraise an exception.""")

if sys.version_info[0:2] < (3, 4):
    # This does exactly the same what the :func:`py3:functools.update_wrapper`
    # function does on Python versions after 3.2. It sets the ``__wrapped__``
    # attribute on ``wrapper`` object and it doesn't raise an error if any of
    # the attributes mentioned in ``assigned`` and ``updated`` are missing on
    # ``wrapped`` object.
    def _update_wrapper(
        wrapper,
        wrapped,
        assigned=functools.WRAPPER_ASSIGNMENTS,
        updated=functools.WRAPPER_UPDATES,
    ):
        for attr in assigned:
            try:
                value = getattr(wrapped, attr)
            except AttributeError:
                continue
            else:
                setattr(wrapper, attr, value)
        for attr in updated:
            getattr(wrapper, attr).update(getattr(wrapped, attr, {}))
        wrapper.__wrapped__ = wrapped
        return wrapper

    _update_wrapper.__doc__ = functools.update_wrapper.__doc__

    def wraps(
        wrapped,
        assigned=functools.WRAPPER_ASSIGNMENTS,
        updated=functools.WRAPPER_UPDATES,
    ):
        return functools.partial(
            _update_wrapper, wrapped=wrapped, assigned=assigned, updated=updated
        )

    wraps.__doc__ = functools.wraps.__doc__

else:
    wraps = functools.wraps


def with_metaclass(meta, *bases):
    """Create a base class with a metaclass."""
    # This requires a bit of explanation: the basic idea is to make a dummy
    # metaclass for one level of class instantiation that replaces itself with
    # the actual metaclass.
    class metaclass(type):
        def __new__(cls, name, this_bases, d):
            if sys.version_info[:2] >= (3, 7):
                # This version introduced PEP 560 that requires a bit
                # of extra care (we mimic what is done by __build_class__).
                resolved_bases = types.resolve_bases(bases)
                if resolved_bases is not bases:
                    d["__orig_bases__"] = bases
            else:
                resolved_bases = bases
            return meta(name, resolved_bases, d)

        @classmethod
        def __prepare__(cls, name, this_bases):
            return meta.__prepare__(name, bases)

    return type.__new__(metaclass, "temporary_class", (), {})


def add_metaclass(metaclass):
    """Class decorator for creating a class with a metaclass."""

    def wrapper(cls):
        orig_vars = cls.__dict__.copy()
        slots = orig_vars.get("__slots__")
        if slots is not None:
            if isinstance(slots, str):
                slots = [slots]
            for slots_var in slots:
                orig_vars.pop(slots_var)
        orig_vars.pop("__dict__", None)
        orig_vars.pop("__weakref__", None)
        if hasattr(cls, "__qualname__"):
            orig_vars["__qualname__"] = cls.__qualname__
        return metaclass(cls.__name__, cls.__bases__, orig_vars)

    return wrapper


def ensure_binary(s, encoding="utf-8", errors="strict"):
    """Coerce **s** to six.binary_type.

    For Python 2:
      - `unicode` -> encoded to `str`
      - `str` -> `str`

    For Python 3:
      - `str` -> encoded to `bytes`
      - `bytes` -> `bytes`
    """
    if isinstance(s, binary_type):
        return s
    if isinstance(s, text_type):
        return s.encode(encoding, errors)
    raise TypeError("not expecting type '%s'" % type(s))


def ensure_str(s, encoding="utf-8", errors="strict"):
    """Coerce *s* to `str`.

    For Python 2:
      - `unicode` -> encoded to `str`
      - `str` -> `str`

    For Python 3:
      - `str` -> `str`
      - `bytes` -> decoded to `str`
    """
    # Optimization: Fast return for the common case.
    if type(s) is str:
        return s
    if PY2 and isinstance(s, text_type):
        return s.encode(encoding, errors)
    elif PY3 and isinstance(s, binary_type):
        return s.decode(encoding, errors)
    elif not isinstance(s, (text_type, binary_type)):
        raise TypeError("not expecting type '%s'" % type(s))
    return s


def ensure_text(s, encoding="utf-8", errors="strict"):
    """Coerce *s* to six.text_type.

    For Python 2:
      - `unicode` -> `unicode`
      - `str` -> `unicode`

    For Python 3:
      - `str` -> `str`
      - `bytes` -> decoded to `str`
    """
    if isinstance(s, binary_type):
        return s.decode(encoding, errors)
    elif isinstance(s, text_type):
        return s
    else:
        raise TypeError("not expecting type '%s'" % type(s))


def python_2_unicode_compatible(klass):
    """
    A class decorator that defines __unicode__ and __str__ methods under Python 2.
    Under Python 3 it does nothing.

    To support Python 2 and 3 with a single code base, define a __str__ method
    returning text and apply this decorator to the class.
    """
    if PY2:
        if "__str__" not in klass.__dict__:
            raise ValueError(
                "@python_2_unicode_compatible cannot be applied "
                "to %s because it doesn't define __str__()." % klass.__name__
            )
        klass.__unicode__ = klass.__str__
        klass.__str__ = lambda self: self.__unicode__().encode("utf-8")
    return klass


# Complete the moves implementation.
# This code is at the end of this module to speed up module loading.
# Turn this module into a package.
__path__ = []  # required for PEP 302 and PEP 451
__package__ = __name__  # see PEP 366 @ReservedAssignment
if globals().get("__spec__") is not None:
    __spec__.submodule_search_locations = []  # PEP 451 @UndefinedVariable
# Remove other six meta path importers, since they cause problems. This can
# happen if six is removed from sys.modules and then reloaded. (Setuptools does
# this for some reason.)
if sys.meta_path:
    for i, importer in enumerate(sys.meta_path):
        # Here's some real nastiness: Another "instance" of the six module might
        # be floating around. Therefore, we can't use isinstance() to check for
        # the six meta path importer, since the other six instance will have
        # inserted an importer with different class.
        if (
            type(importer).__name__ == "_SixMetaPathImporter"
            and importer.name == __name__
        ):
            del sys.meta_path[i]
            break
    del i, importer
# Finally, add the importer to the meta path import hook.
sys.meta_path.append(_importer)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       from .object cimport PyObject

cdef extern from "Python.h":
    bint PyByteArray_Check(object o)
    # Return true if the object o is a bytearray object or an instance of a subtype of the bytearray type.

    bint PyByteArray_CheckExact(object o)
    # Return true if the object o is a bytearray object, but not an instance of a subtype of the bytearray type.

    bytearray PyByteArray_FromObject(object o)
    # Return a new bytearray object from any object, o, that implements the buffer protocol.

    bytearray PyByteArray_FromStringAndSize(char *string, Py_ssize_t len)
    # Create a new bytearray object from string and its length, len. On failure, NULL is returned.

    bytearray PyByteArray_Concat(object a, object b)
    # Concat bytearrays a and b and return a new bytearray with the result.

    Py_ssize_t PyByteArray_Size(object bytearray)
    # Return the size of bytearray after checking for a NULL pointer.

    char* PyByteArray_AsString(object bytearray)
    # Return the contents of bytearray as a char array after checking for a NULL pointer.
    # The returned array always has an extra null byte appended.

    int PyByteArray_Resize(object bytearray, Py_ssize_t len)
    # Resize the internal buffer of bytearray to len.

    char* PyByteArray_AS_STRING(object bytearray)
    # Macro version of PyByteArray_AsString().

    Py_ssize_t PyByteArray_GET_SIZE(object bytearray)
    # Macro version of PyByteArray_Size().
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             # SPDX-License-Identifier: GPL-3.0-or-later
# Copyright (C) 2016-2020 by Nathan Lovato, Daniel Oakey, Razvan Radulescu, and contributors
import bpy

from .utils.functions import find_sequences_after
from .utils.functions import convert_duration_to_frames
from .utils.global_settings import SequenceTypes
from .utils.doc import doc_name, doc_idname, doc_brief, doc_description


class POWER_SEQUENCER_OT_crossfade_add(bpy.types.Operator):
    """
    *brief* Adds cross fade between selected sequence and the closest sequence to its right

    Based on the active strip, finds the closest next sequence of a similar type, moves it
    so it overlaps the active strip, and adds a gamma cross effect between them. Works with
    MOVIE, IMAGE and META strips
    """

    doc = {
        "name": doc_name(__qualname__),
        "demo": "https://i.imgur.com/ZyEd0jD.gif",
        "description": doc_description(__doc__),
        "shortcuts": [
            ({"type": "C", "value": "PRESS", "ctrl": True, "alt": True}, {}, "Add Crossfade")
        ],
        "keymap": "Sequencer",
    }
    bl_idname = doc_idname(__qualname__)
    bl_label = doc["name"]
    bl_description = doc_brief(doc["description"])
    bl_options = {"REGISTER", "UNDO"}

    crossfade_duration: bpy.props.FloatProperty(
        name="Crossfade Duration", description="The duration of the crossfade", default=0.5, min=0
    )
    auto_move_strip: bpy.props.BoolProperty(
        name="Auto Move Strip",
        description=(
            "When true, moves the second strip so the crossfade"
            " is of the length set in 'Crossfade Length'"
        ),
        default=True,
    )

    @classmethod
    def poll(cls, context):
        return context.selected_sequences

    def execute(self, context):
        sorted_selection = sorted(context.selected_sequences, key=lambda s: s.frame_final_start)
        for s in sorted_selection:
            s_next = self.get_next_sequence_after(context, s)
            s_to_offset = s_next.input_1 if hasattr(s_next, "input_1") else s_next

            if self.auto_move_strip:
                offset = s_to_offset.frame_final_start - s.frame_final_end
                s_to_offset.frame_start -= offset

            if s_to_offset.frame_final_start == s.frame_final_end:
                self.offset_sequence_handles(context, s, s_to_offset)

            self.apply_crossfade(context, s, s_next)
        return {"FINISHED"}

    def get_next_sequence_after(self, context, sequence):
        """
        Returns the first sequence after `sequence` by frame_final_start
        """
        next_sequence = None
        next_in_channel = [
            s for s in find_sequences_after(context, sequence) if s.channel == sequence.channel
        ]
        next_transitionable = (s for s in next_in_channel if s.type in SequenceTypes.TRANSITIONABLE)
        try:
            next_sequence = min(next_transitionable, key=lambda s: s.frame_final_start)
        except ValueError:
            pass
        return next_sequence

    def apply_crossfade(self, context, strip_from, strip_to):
        for s in bpy.context.selected_sequences:
            s.select = False
        strip_from.select = True
        strip_to.select = True
        context.scene.sequence_editor.active_strip = strip_to
        bpy.ops.sequencer.effect_strip_add(type="GAMMA_CROSS")

    def offset_sequence_handles(self, context, sequence_1, sequence_2):
        """
        Moves the handles of the two sequences before adding the crossfade
        """
        fade_duration = convert_duration_to_frames(context, self.crossfade_duration)
        fade_offset = int(fade_duration / 2)

        if hasattr(sequence_1, "input_1"):
            sequence_1.input_1.frame_final_end -= fade_offset
        else:
            sequence_1.frame_final_end -= fade_offset

        if hasattr(sequence_2, "input_1"):
            sequence_2.input_1.frame_final_start += fade_offset
        else:
            sequence_2.frame_final_start += fade_offset
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           # SPDX-License-Identifier: GPL-2.0-or-later

import typing

import bpy
import gpu
from gpu_extras.batch import batch_for_shader

from .utils import (redraw_all_areas_by_type)
from .synchro import (is_secondary_window, window_id, get_main_strip)

Int3 = typing.Tuple[int, int, int]

Float2 = typing.Tuple[float, float]
Float3 = typing.Tuple[float, float, float]
Float4 = typing.Tuple[float, float, float, float]


class LineDrawer:
    def __init__(self):
        self._format = gpu.types.GPUVertFormat()
        self._pos_id = self._format.attr_add(
            id="pos", comp_type="F32", len=2, fetch_mode="FLOAT"
        )
        self._color_id = self._format.attr_add(
            id="color", comp_type="F32", len=4, fetch_mode="FLOAT"
        )

        self.shader = gpu.shader.from_builtin('2D_UNIFORM_COLOR')

    def draw(
            self,
            coords: typing.List[Float2],
            indices: typing.List[Int3],
            color: Float4,
    ):
        if not coords:
            return

        gpu.state.blend_set('ALPHA')

        self.shader.uniform_float("color", color)

        batch = batch_for_shader(self.shader, 'TRIS', {"pos": coords}, indices=indices)
        batch.program_set(self.shader)
        batch.draw()

        gpu.state.blend_set('NONE')


def get_scene_strip_in_out(strip):
    """ Return the in and out keyframe of the given strip in the scene time reference"""
    shot_in = strip.scene.frame_start + strip.frame_offset_start
    shot_out = shot_in + strip.frame_final_duration - 1
    return (shot_in, shot_out)


def draw_callback_px(line_drawer: LineDrawer):
    context = bpy.context
    region = context.region

    wm = context.window_manager

    if (
            not wm.storypencil_settings.active
            or not wm.storypencil_settings.show_main_strip_range
            or not is_secondary_window(wm, window_id(context.window))
    ):
        return

    # get main strip driving the sync
    strip = get_main_strip(wm)

    if not strip or strip.scene != context.scene:
        return

    xwin1, ywin1 = region.view2d.region_to_view(0, 0)
    one_pixel_further_x = region.view2d.region_to_view(1, 1)[0]
    pixel_size_x = one_pixel_further_x - xwin1
    rect_width = 1

    shot_in, shot_out = get_scene_strip_in_out(strip)
    key_coords_in = [
        (
            shot_in - rect_width * pixel_size_x,
            ywin1,
        ),
        (
            shot_in + rect_width * pixel_size_x,
            ywin1,
        ),
        (
            shot_in + rect_width * pixel_size_x,
            ywin1 + context.region.height,
        ),
        (
            shot_in - rect_width * pixel_size_x,
            ywin1 + context.region.height,
        ),
    ]

    key_coords_out = [
        (
            shot_out - rect_width * pixel_size_x,
            ywin1,
        ),
        (
            shot_out + rect_width * pixel_size_x,
            ywin1,
        ),
        (
            shot_out + rect_width * pixel_size_x,
            ywin1 + context.region.height,
        ),
        (
            shot_out - rect_width * pixel_size_x,
            ywin1 + context.region.height,
        ),
    ]

    indices = [(0, 1, 2), (2, 0, 3)]
    # Draw the IN frame in green
    # hack: in certain cases, opengl draw state is invalid for the first drawn item
    #       resulting in a non-colored line
    #       => draw it a first time with a null alpha, so that the second one is drawn correctly
    line_drawer.draw(key_coords_in, indices, (0, 0, 0, 0))
    line_drawer.draw(key_coords_in, indices, (0.3, 0.99, 0.4, 0.5))
    # Draw the OUT frame un red
    line_drawer.draw(key_coords_out, indices, (0.99, 0.3, 0.4, 0.5))


def tag_redraw_all_dopesheets():
    redraw_all_areas_by_type(bpy.context, 'DOPESHEET')


# This is a list so it can be changed instead of set
# if it is only changed, it does not have to be declared as a global everywhere
cb_handle = []


def callback_enable():
    if cb_handle:
        return

    # Doing GPU stuff in the background crashes Blender, so let's not.
    if bpy.app.background:
        return

    line_drawer = LineDrawer()
    # POST_VIEW allow to work in time coordinate (1 unit = 1 frame)
    cb_handle[:] = (
        bpy.types.SpaceDopeSheetEditor.draw_handler_add(
            draw_callback_px, (line_drawer,), 'WINDOW', 'POST_VIEW'
        ),
    )

    tag_redraw_all_dopesheets()


def callback_disable():
    if not cb_handle:
        return

    try:
        bpy.types.SpaceDopeSheetEditor.draw_handler_remove(cb_handle[0], 'WINDOW')
    except ValueError:
        # Thrown when already removed.
        pass
    cb_handle.clear()

    tag_redraw_all_dopesheets()


def register():
    callback_enable()


def unregister():
    callback_disable()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        # SPDX-License-Identifier: GPL-2.0-or-later

bl_info = {
    "name": "Hotkey: 'Alt X'",
    "description": "V/E/F Align tools",
    "author": "pitiwazou, meta-androcto",
    "version": (0, 1, 2),
    "blender": (2, 80, 0),
    "location": "Mesh Edit Mode",
    "warning": "",
    "doc_url": "",
    "category": "Edit Align Pie"
}

import bpy
from bpy.types import (
    Menu,
    Operator,
)
from bpy.props import EnumProperty


# Pie Align - Alt + X
class PIE_MT_Align(Menu):
    bl_idname = "PIE_MT_align"
    bl_label = "Pie Align"

    def draw(self, context):
        layout = self.layout
        pie = layout.menu_pie()
        # 4 - LEFT
        box = pie.split().box().column()

        row = box.row(align=True)
        row.label(text="X")
        align_1 = row.operator("alignxyz.all", text="Neg")
        align_1.axis = '0'
        align_1.side = 'NEGATIVE'

        row = box.row(align=True)
        row.label(text="Y")
        align_3 = row.operator("alignxyz.all", text="Neg")
        align_3.axis = '1'
        align_3.side = 'NEGATIVE'

        row = box.row(align=True)
        row.label(text="Z")
        align_5 = row.operator("alignxyz.all", text="Neg")
        align_5.axis = '2'
        align_5.side = 'NEGATIVE'
        # 6 - RIGHT
        box = pie.split().box().column()

        row = box.row(align=True)
        row.label(text="X")
        align_2 = row.operator("alignxyz.all", text="Pos")
        align_2.axis = '0'
        align_2.side = 'POSITIVE'

        row = box.row(align=True)
        row.label(text="Y")
        align_4 = row.operator("alignxyz.all", text="Pos")
        align_4.axis = '1'
        align_4.side = 'POSITIVE'

        row = box.row(align=True)
        row.label(text="Z")
        align_6 = row.operator("alignxyz.all", text="Pos")
        align_6.axis = '2'
        align_6.side = 'POSITIVE'
        # 2 - BOTTOM
        pie.operator("align.2xyz", text="Align To Y-0").axis = '1'
        # 8 - TOP
        pie.operator("align.selected2xyz", text="Align Y").axis = 'Y'
        # 7 - TOP - LEFT
        pie.operator("align.selected2xyz", text="Align X").axis = 'X'
        # 9 - TOP - RIGHT
        pie.operator("align.selected2xyz", text="Align Z").axis = 'Z'
        # 1 - BOTTOM - LEFT
        pie.operator("align.2xyz", text="Align To X-0").axis = '0'
        # 3 - BOTTOM - RIGHT
        pie.operator("align.2xyz", text="Align To Z-0").axis = '2'


# Align to X, Y, Z
class PIE_OT_AlignSelectedXYZ(Operator):
    bl_idname = "align.selected2xyz"
    bl_label = "Align to X, Y, Z"
    bl_description = "Align Selected Along the chosen axis"
    bl_options = {'REGISTER', 'UNDO'}

    axis: EnumProperty(
        name="Axis",
        items=(
            ('X', "X", "X Axis"),
            ('Y', "Y", "Y Axis"),
            ('Z', "Z", "Z Axis"),
        ),
        description="Choose an axis for alignment",
        default='X'
    )

    @classmethod
    def poll(cls, context):
        obj = context.active_object
        return obj and obj.type == "MESH"

    def execute(self, context):
        values = {
            'X': [(0, 1, 1), (True, False, False)],
            'Y': [(1, 0, 1), (False, True, False)],
            'Z': [(1, 1, 0), (False, False, True)],
        }
        chosen_value = values[self.axis][0]
        constraint_value = values[self.axis][1]
        bpy.ops.transform.resize(
            value=chosen_value,
            constraint_axis=constraint_value,
            orient_type='GLOBAL',
            mirror=False,
            use_proportional_edit=False,
        )
        return {'FINISHED'}


# ################# #
#    Align To 0     #
# ################# #

class PIE_OT_AlignToXYZ0(Operator):
    bl_idname = "align.2xyz"
    bl_label = "Align To X, Y or Z = 0"
    bl_description = "Align Active Object To a chosen X, Y or Z equals 0 Location"
    bl_options = {'REGISTER', 'UNDO'}

    axis: EnumProperty(
        name="Axis",
        items=(
            ('0', "X", "X Axis"),
            ('1', "Y", "Y Axis"),
            ('2', "Z", "Z Axis"),
        ),
        description="Choose an axis for alignment",
        default='0'
    )

    @classmethod
    def poll(cls, context):
        obj = context.active_object
        return obj and obj.type == "MESH"

    def execute(self, context):
        bpy.ops.object.mode_set(mode='OBJECT')
        align = int(self.axis)
        for vert in bpy.context.object.data.vertices:
            if vert.select:
                vert.co[align] = 0
        bpy.ops.object.editmode_toggle()

        return {'FINISHED'}


# Align X Left
class PIE_OT_AlignXYZAll(Operator):
    bl_idname = "alignxyz.all"
    bl_label = "Align to Front/Back Axis"
    bl_description = "Align to a Front or Back along the chosen Axis"
    bl_options = {'REGISTER', 'UNDO'}

    axis: EnumProperty(
        name="Axis",
        items=(
            ('0', "X", "X Axis"),
            ('1', "Y", "Y Axis"),
            ('2', "Z", "Z Axis"),
        ),
        description="Choose an axis for alignment",
        default='0'
    )
    side: EnumProperty(
        name="Side",
        items=[
            ('POSITIVE', "Front", "Align on the positive chosen axis"),
            ('NEGATIVE', "Back", "Align acriss the negative chosen axis"),
        ],
        description="Choose a side for alignment",
        default='POSITIVE'
    )

    @classmethod
    def poll(cls, context):
        obj = context.active_object
        return obj and obj.type == "MESH"

    def execute(self, context):

        bpy.ops.object.mode_set(mode='OBJECT')
        count = 0
        axe = int(self.axis)
        for vert in bpy.context.object.data.vertices:
            if vert.select:
                if count == 0:
                    maxv = vert.co[axe]
                    count += 1
                    continue
                count += 1
                if self.side == 'POSITIVE':
                    if vert.co[axe] > maxv:
                        maxv = vert.co[axe]
                else:
                    if vert.co[axe] < maxv:
                        maxv = vert.co[axe]

        bpy.ops.object.mode_set(mode='OBJECT')

        for vert in bpy.context.object.data.vertices:
            if vert.select:
                vert.co[axe] = maxv
        bpy.ops.object.mode_set(mode='EDIT')

        return {'FINISHED'}


classes = (
    PIE_MT_Align,
    PIE_OT_AlignSelectedXYZ,
    PIE_OT_AlignToXYZ0,
    PIE_OT_AlignXYZAll,
)

addon_keymaps = []


def register():
    for cls in classes:
        bpy.utils.register_class(cls)

    wm = bpy.context.window_manager
    if wm.keyconfigs.addon:
        # Align
        km = wm.keyconfigs.addon.keymaps.new(name='Mesh')
        kmi = km.keymap_items.new('wm.call_menu_pie', 'X', 'PRESS', alt=True)
        kmi.properties.name = "PIE_MT_align"
        addon_keymaps.append((km, kmi))


def unregister():
    for cls in classes:
        bpy.utils.unregister_class(cls)

    wm = bpy.context.window_manager
    kc = wm.keyconfigs.addon
    if kc:
        for km, kmi in addon_keymaps:
            km.keymap_items.remove(kmi)
    addon_keymaps.clear()


if __name__ == "__main__":
    register()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   dtype,input,output,ulperrortol
np.float32,0x3f83203f,0x3e61d9d6,2
np.float32,0x3f98dea1,0x3f1d1af6,2
np.float32,0x7fa00000,0x7fe00000,2
np.float32,0x7eba99af,0x42b0d032,2
np.float32,0x3fc95a13,0x3f833650,2
np.float32,0x3fce9a45,0x3f8771e1,2
np.float32,0x3fc1bd96,0x3f797811,2
np.float32,0x7eba2391,0x42b0ceed,2
np.float32,0x7d4e8f15,0x42acdb8c,2
np.float32,0x3feca42e,0x3f9cc88e,2
np.float32,0x7e2b314e,0x42af412e,2
np.float32,0x7f7fffff,0x42b2d4fc,2
np.float32,0x3f803687,0x3d6c4380,2
np.float32,0x3fa0edbd,0x3f33e706,2
np.float32,0x3faa8074,0x3f4b3d3c,2
np.float32,0x3fa0c49e,0x3f337af3,2
np.float32,0x3f8c9ec4,0x3ee18812,2
np.float32,0x7efef78e,0x42b17006,2
np.float32,0x3fc75720,0x3f818aa4,2
np.float32,0x7f52d4c8,0x42b27198,2
np.float32,0x3f88f21e,0x3ebe52b0,2
np.float32,0x3ff7a042,0x3fa3a07a,2
np.float32,0x7f52115c,0x42b26fbd,2
np.float32,0x3fc6bf6f,0x3f810b42,2
np.float32,0x3fd105d0,0x3f895649,2
np.float32,0x3fee7c2a,0x3f9df66e,2
np.float32,0x7f0ff9a5,0x42b1ae4f,2
np.float32,0x7e81f075,0x42b016e7,2
np.float32,0x3fa57d65,0x3f3f70c6,2
np.float32,0x80800000,0xffc00000,2
np.float32,0x7da239f5,0x42adc2bf,2
np.float32,0x3f9e432c,0x3f2cbd80,2
np.float32,0x3ff2839b,0x3fa07ee4,2
np.float32,0x3fec8aef,0x3f9cb850,2
np.float32,0x7d325893,0x42ac905b,2
np.float32,0x3fa27431,0x3f37dade,2
np.float32,0x3fce7408,0x3f8753ae,2
np.float32,0x3fde6684,0x3f93353f,2
np.float32,0x3feb9a3e,0x3f9c1cff,2
np.float32,0x7deb34bb,0x42ae80f0,2
np.float32,0x3fed9300,0x3f9d61b7,2
np.float32,0x7f35e253,0x42b225fb,2
np.float32,0x7e6db57f,0x42afe93f,2
np.float32,0x3fa41f08,0x3f3c10bc,2
np.float32,0x3fb0d4da,0x3f590de3,2
np.float32,0x3fb5c690,0x3f632351,2
np.float32,0x3fcde9ce,0x3f86e638,2
np.float32,0x3f809c7b,0x3dc81161,2
np.float32,0x3fd77291,0x3f8e3226,2
np.float32,0x3fc21a06,0x3f7a1a82,2
np.float32,0x3fba177e,0x3f6b8139,2
np.float32,0x7f370dff,0x42b22944,2
np.float32,0x3fe5bfcc,0x3f9841c1,2
np.float32,0x3feb0caa,0x3f9bc139,2
np.float32,0x7f4fe5c3,0x42b26a6c,2
np.float32,0x7f1e1419,0x42b1de28,2
np.float32,0x7f5e3c96,0x42b28c92,2
np.float32,0x3f8cd313,0x3ee3521e,2
np.float32,0x3fa97824,0x3f48e049,2
np.float32,0x7d8ca281,0x42ad799e,2
np.float32,0x3f96b51b,0x3f165193,2
np.float32,0x3f81328a,0x3e0bf504,2
np.float32,0x3ff60bf3,0x3fa2ab45,2
np.float32,0x3ff9b629,0x3fa4e107,2
np.float32,0x3fecacfc,0x3f9cce37,2
np.float32,0x3fba8804,0x3f6c5600,2
np.float32,0x3f81f752,0x3e333fdd,2
np.float32,0x3fb5b262,0x3f62fb46,2
np.float32,0x3fa21bc0,0x3f36f7e6,2
np.float32,0x3fbc87bb,0x3f7011dc,2
np.float32,0x3fe18b32,0x3f9565ae,2
np.float32,0x7dfb6dd5,0x42aea316,2
np.float32,0x3fb7c602,0x3f670ee3,2
np.float32,0x7efeb6a2,0x42b16f84,2
np.float32,0x3fa56180,0x3f3f2ca4,2
np.float32,0x3f8dcaff,0x3eeb9ac0,2
np.float32,0x7e876238,0x42b02beb,2
np.float32,0x7f0bb67d,0x42b19eec,2
np.float32,0x3faca01c,0x3f4fffa5,2
np.float32,0x3fdb57ee,0x3f9108b8,2
np.float32,0x3fe3bade,0x3f96e4b7,2
np.float32,0x7f7aa2dd,0x42b2ca25,2
np.float32,0x3fed92ec,0x3f9d61aa,2
np.float32,0x7eb789b1,0x42b0c7b9,2
np.float32,0x7f7f16e4,0x42b2d329,2
np.float32,0x3fb6647e,0x3f645b84,2
np.float32,0x3f99335e,0x3f1e1d96,2
np.float32,0x7e690a11,0x42afdf17,2
np.float32,0x7dff2f95,0x42aeaaae,2
np.float32,0x7f70adfd,0x42b2b564,2
np.float32,0x3fe92252,0x3f9a80fe,2
np.float32,0x3fef54ce,0x3f9e7fe5,2
np.float32,0x3ff24eaa,0x3fa05df9,2
np.float32,0x7f04565a,0x42b18328,2
np.float32,0x3fcb8b80,0x3f85007f,2
np.float32,0x3fcd4d0a,0x3f866983,2
np.float32,0x3fbe7d82,0x3f73a911,2
np.float32,0x3f8a7a8a,0x3ecdc8f6,2
np.float32,0x3f912441,0x3f030d56,2
np.float32,0x3f9b29d6,0x3f23f663,2
np.float32,0x3fab7f36,0x3f4d7c6c,2
np.float32,0x7dfedafc,0x42aeaa04,2
np.float32,0x3fe190c0,0x3f956982,2
np.float32,0x3f927515,0x3f07e0bb,2
np.float32,0x3ff6442a,0x3fa2cd7e,2
np.float32,0x7f6656d0,0x42b29ee8,2
np.float32,0x3fe29aa0,0x3f96201f,2
np.float32,0x3fa4a247,0x3f3d5687,2
np.float32,0x3fa1cf19,0x3f363226,2
np.float32,0x3fc20037,0x3f79ed36,2
np.float32,0x7cc1241a,0x42ab5645,2
np.float32,0x3fafd540,0x3f56f25a,2
np.float32,0x7e5b3f5f,0x42afbfdb,2
np.float32,0x7f48de5f,0x42b258d0,2
np.float32,0x3fce1ca0,0x3f870e85,2
np.float32,0x7ee40bb2,0x42b136e4,2
np.float32,0x7ecdb133,0x42b10212,2
np.float32,0x3f9f181c,0x3f2f02ca,2
np.float32,0x3f936cbf,0x3f0b4f63,2
np.float32,0x3fa4f8ea,0x3f3e2c2f,2
np.float32,0x3fcc03e2,0x3f8561ac,2
np.float32,0x3fb801f2,0x3f67831b,2
np.float32,0x7e141dad,0x42aef70c,2
np.float32,0x3fe8c04e,0x3f9a4087,2
np.float32,0x3f8548d5,0x3e929f37,2
np.float32,0x7f148d7d,0x42b1be56,2
np.float32,0x3fd2c9a2,0x3f8ab1ed,2
np.float32,0x7eb374fd,0x42b0bc36,2
np.float32,0x7f296d36,0x42b201a7,2
np.float32,0x3ff138e2,0x3f9fb09d,2
np.float32,0x3ff42898,0x3fa18347,2
np.float32,0x7da8c5e1,0x42add700,2
np.float32,0x7dcf72c4,0x42ae40a4,2
np.float32,0x7ea571fc,0x42b09296,2
np.float32,0x3fc0953d,0x3f776ba3,2
np.float32,0x7f1773dd,0x42b1c83c,2
np.float32,0x7ef53b68,0x42b15c17,2
np.float32,0x3f85d69f,0x3e9a0f3a,2
np.float32,0x7e8b9a05,0x42b03ba0,2
np.float32,0x3ff07d20,0x3f9f3ad2,2
np.float32,0x7e8da32c,0x42b0430a,2
np.float32,0x7ef96004,0x42b164ab,2
np.float32,0x3fdfaa62,0x3f941837,2
np.float32,0x7f0057c5,0x42b17377,2
np.float32,0x3fb2663f,0x3f5c5065,2
np.float32,0x3fd3d8c3,0x3f8b8055,2
np.float32,0x1,0xffc00000,2
np.float32,0x3fd536c1,0x3f8c8862,2
np.float32,0x3f91b953,0x3f053619,2
np.float32,0x3fb3305c,0x3f5deee1,2
np.float32,0x7ecd86b9,0x42b101a8,2
np.float32,0x3fbf71c5,0x3f75624d,2
np.float32,0x3ff5f0f4,0x3fa29ad2,2
np.float32,0x3fe50389,0x3f97c328,2
np.float32,0x3fa325a1,0x3f399e69,2
np.float32,0x3fe4397a,0x3f973a9f,2
np.float32,0x3f8684c6,0x3ea2b784,2
np.float32,0x7f25ae00,0x42b1f634,2
np.float32,0x3ff7cbf7,0x3fa3badb,2
np.float32,0x7f73f0e0,0x42b2bc48,2
np.float32,0x3fc88b70,0x3f828b92,2
np.float32,0x3fb01c16,0x3f578886,2
np.float32,0x7e557623,0x42afb229,2
np.float32,0x3fcbcd5b,0x3f8535b4,2
np.float32,0x7f7157e4,0x42b2b6cd,2
np.float32,0x7f51d9d4,0x42b26f36,2
np.float32,0x7f331a3b,0x42b21e17,2
np.float32,0x7f777fb5,0x42b2c3b2,2
np.float32,0x3f832001,0x3e61d11f,2
np.float32,0x7f2cd055,0x42b20bca,2
np.float32,0x3f89831f,0x3ec42f76,2
np.float32,0x7f21da33,0x42b1ea3d,2
np.float32,0x3f99e416,0x3f20330a,2
np.float32,0x7f2c8ea1,0x42b20b07,2
np.float32,0x7f462c98,0x42b251e6,2
np.float32,0x7f4fdb3f,0x42b26a52,2
np.float32,0x3fcc1338,0x3f856e07,2
np.float32,0x3f823673,0x3e3e20da,2
np.float32,0x7dbfe89d,0x42ae18c6,2
np.float32,0x3fc9b04c,0x3f837d38,2
np.float32,0x7dba3213,0x42ae094d,2
np.float32,0x7ec5a483,0x42b0eda1,2
np.float32,0x3fbc4d14,0x3f6fa543,2
np.float32,0x3fc85ce2,0x3f8264f1,2
np.float32,0x7f77c816,0x42b2c447,2
np.float32,0x3f9c9281,0x3f280492,2
np.float32,0x7f49b3e2,0x42b25aef,2
np.float32,0x3fa7e4da,0x3f45347c,2
np.float32,0x7e0c9df5,0x42aedc72,2
np.float32,0x7f21fd1a,0x42b1eaab,2
np.float32,0x7f7c63ad,0x42b2cdb6,2
np.float32,0x7f4eb80a,0x42b26783,2
np.float32,0x7e98038c,0x42b0673c,2
np.float32,0x7e89ba08,0x42b034b4,2
np.float32,0x3ffc06ba,0x3fa64094,2
np.float32,0x3fae63f6,0x3f53db36,2
np.float32,0x3fbc2d30,0x3f6f6a1c,2
np.float32,0x7de0e5e5,0x42ae69fe,2
np.float32,0x7e09ed18,0x42aed28d,2
np.float32,0x3fea78f8,0x3f9b6129,2
np.float32,0x7dfe0bcc,0x42aea863,2
np.float32,0x7ee21d03,0x42b13289,2
np.float32,0x3fcc3aed,0x3f858dfc,2
np.float32,0x3fe6b3ba,0x3f98e4ea,2
np.float32,0x3f90f25f,0x3f025225,2
np.float32,0x7f1bcaf4,0x42b1d6b3,2
np.float32,0x3f83ac81,0x3e74c20e,2
np.float32,0x3f98681d,0x3f1bae16,2
np.float32,0x3fe1f2d9,0x3f95ad08,2
np.float32,0x3fa279d7,0x3f37e951,2
np.float32,0x3feb922a,0x3f9c17c4,2
np.float32,0x7f1c72e8,0x42b1d8da,2
np.float32,0x3fea156b,0x3f9b2038,2
np.float32,0x3fed6bda,0x3f9d48aa,2
np.float32,0x3fa86142,0x3f46589c,2
np.float32,0x3ff16bc2,0x3f9fd072,2
np.float32,0x3fbebf65,0x3f74207b,2
np.float32,0x7e7b78b5,0x42b00610,2
np.float32,0x3ff51ab8,0x3fa217f0,2
np.float32,0x3f8361bb,0x3e6adf07,2
np.float32,0x7edbceed,0x42b1240e,2
np.float32,0x7f10e2c0,0x42b1b18a,2
np.float32,0x3fa7bc58,0x3f44d4ef,2
np.float32,0x3f813bde,0x3e0e1138,2
np.float32,0x7f30d5b9,0x42b21791,2
np.float32,0x3fb4f450,0x3f61806a,2
np.float32,0x7eee02c4,0x42b14cca,2
np.float32,0x7ec74b62,0x42b0f1e4,2
np.float32,0x3ff96bca,0x3fa4b498,2
np.float32,0x7f50e304,0x42b26cda,2
np.float32,0x7eb14c57,0x42b0b603,2
np.float32,0x7c3f0733,0x42a9edbf,2
np.float32,0x7ea57acb,0x42b092b1,2
np.float32,0x7f2788dc,0x42b1fbe7,2
np.float32,0x3fa39f14,0x3f3ad09b,2
np.float32,0x3fc3a7e0,0x3f7ccfa0,2
np.float32,0x3fe70a73,0x3f991eb0,2
np.float32,0x7f4831f7,0x42b25718,2
np.float32,0x3fe947d0,0x3f9a999c,2
np.float32,0x7ef2b1c7,0x42b156c4,2
np.float32,0x3fede0ea,0x3f9d937f,2
np.float32,0x3f9fef8e,0x3f314637,2
np.float32,0x3fc313c5,0x3f7bcebd,2
np.float32,0x7ee99337,0x42b14328,2
np.float32,0x7eb9042e,0x42b0cbd5,2
np.float32,0x3fc9d3dc,0x3f839a69,2
np.float32,0x3fb2c018,0x3f5d091d,2
np.float32,0x3fcc4e8f,0x3f859dc5,2
np.float32,0x3fa9363b,0x3f484819,2
np.float32,0x7f72ce2e,0x42b2b9e4,2
np.float32,0x7e639326,0x42afd2f1,2
np.float32,0x7f4595d3,0x42b25060,2
np.float32,0x7f6d0ac4,0x42b2ad97,2
np.float32,0x7f1bda0d,0x42b1d6e5,2
np.float32,0x3fd85ffd,0x3f8ee0ed,2
np.float32,0x3f91d53f,0x3f059c8e,2
np.float32,0x7d06e103,0x42ac0155,2
np.float32,0x3fb83126,0x3f67de6e,2
np.float32,0x7d81ce1f,0x42ad5097,2
np.float32,0x7f79cb3b,0x42b2c86b,2
np.float32,0x7f800000,0x7f800000,2
np.float32,0x3fdbfffd,0x3f918137,2
np.float32,0x7f4ecb1c,0x42b267b2,2
np.float32,0x3fc2c122,0x3f7b3ed3,2
np.float32,0x7f415854,0x42b24544,2
np.float32,0x7e3d988b,0x42af7575,2
np.float32,0x3f83ca99,0x3e789fcb,2
np.float32,0x7f274f70,0x42b1fb38,2
np.float32,0x7f0d20e6,0x42b1a416,2
np.float32,0x3fdf3a1d,0x3f93c9c1,2
np.float32,0x7efaa13e,0x42b1673d,2
np.float32,0x3fb20b15,0x3f5b9434,2
np.float32,0x3f86af9f,0x3ea4c664,2
np.float32,0x3fe4fcb0,0x3f97be8a,2
np.float32,0x3f920683,0x3f065085,2
np.float32,0x3fa4b278,0x3f3d7e8b,2
np.float32,0x3f8077a8,0x3daef77f,2
np.float32,0x7e865be4,0x42b02807,2
np.float32,0x3fcea7e2,0x3f877c9f,2
np.float32,0x7e7e9db1,0x42b00c6d,2
np.float32,0x3f9819aa,0x3f1aba7e,2
np.float32,0x7f2b6c4b,0x42b207a7,2
np.float32,0x7ef85e3e,0x42b16299,2
np.float32,0x3fbd8290,0x3f71df8b,2
np.float32,0x3fbbb615,0x3f6e8c8c,2
np.float32,0x7f1bc7f5,0x42b1d6a9,2
np.float32,0x3fbb4fea,0x3f6dcdad,2
np.float32,0x3fb67e09,0x3f648dd1,2
np.float32,0x3fc83495,0x3f824374,2
np.float32,0x3fe52980,0x3f97dcbc,2
np.float32,0x3f87d893,0x3eb25d7c,2
np.float32,0x3fdb805a,0x3f9125c0,2
np.float32,0x3fb33f0f,0x3f5e0ce1,2
np.float32,0x3facc524,0x3f50516b,2
np.float32,0x3ff40484,0x3fa16d0e,2
np.float32,0x3ff078bf,0x3f9f3811,2
np.float32,0x7f736747,0x42b2bb27,2
np.float32,0x7f55768b,0x42b277f3,2
np.float32,0x80000001,0xffc00000,2
np.float32,0x7f6463d1,0x42b29a8e,2
np.float32,0x3f8f8b59,0x3ef9d792,2
np.float32,0x3f8a6f4d,0x3ecd5bf4,2
np.float32,0x3fe958d9,0x3f9aa4ca,2
np.float32,0x7f1e2ce2,0x42b1de78,2
np.float32,0x3fb8584a,0x3f682a05,2
np.float32,0x7dea3dc6,0x42ae7ed5,2
np.float32,0x7f53a815,0x42b27399,2
np.float32,0x7e0cf986,0x42aeddbf,2
np.float32,0x7f3afb71,0x42b23422,2
np.float32,0x3fd87d6e,0x3f8ef685,2
np.float32,0x3ffcaa46,0x3fa6a0d7,2
np.float32,0x7eecd276,0x42b14a3a,2
np.float32,0x3ffc30b4,0x3fa65951,2
np.float32,0x7e9c85e2,0x42b07634,2
np.float32,0x3f95d862,0x3f1383de,2
np.float32,0x7ef21410,0x42b15577,2
np.float32,0x3fbfa1b5,0x3f75b86e,2
np.float32,0x3fd6d90f,0x3f8dc086,2
np.float32,0x0,0xffc00000,2
np.float32,0x7e885dcd,0x42b02f9f,2
np.float32,0x3fb3e057,0x3f5f54bf,2
np.float32,0x7f40afdd,0x42b24385,2
np.float32,0x3fb795c2,0x3f66b120,2
np.float32,0x3fba7c11,0x3f6c3f73,2
np.float32,0x3ffef620,0x3fa7f828,2
np.float32,0x7d430508,0x42acbe1e,2
np.float32,0x3f8d2892,0x3ee6369f,2
np.float32,0x3fbea139,0x3f73e9d5,2
np.float32,0x3ffaa928,0x3fa571b9,2
np.float32,0x7fc00000,0x7fc00000,2
np.float32,0x7f16f9ce,0x42b1c69f,2
np.float32,0x3fa8f753,0x3f47b657,2
np.float32,0x3fd48a63,0x3f8c06ac,2
np.float32,0x7f13419e,0x42b1b9d9,2
np.float32,0x3fdf1526,0x3f93afde,2
np.float32,0x3f903c8b,0x3eff3be8,2
np.float32,0x7f085323,0x42b1925b,2
np.float32,0x7cdbe309,0x42ab98ac,2
np.float32,0x3fba2cfd,0x3f6ba9f1,2
np.float32,0x7f5a805d,0x42b283e4,2
np.float32,0x7f6753dd,0x42b2a119,2
np.float32,0x3fed9f02,0x3f9d6964,2
np.float32,0x3f96422c,0x3f14ddba,2
np.float32,0x7f22f2a9,0x42b1edb1,2
np.float32,0x3fe3fcfd,0x3f97119d,2
np.float32,0x7e018ad0,0x42aeb271,2
np.float32,0x7db896f5,0x42ae04de,2
np.float32,0x7e55c795,0x42afb2ec,2
np.float32,0x7f58ef8d,0x42b28036,2
np.float32,0x7f24a16a,0x42b1f2f3,2
np.float32,0x3fcf714c,0x3f881b09,2
np.float32,0x3fcdd056,0x3f86d200,2
np.float32,0x7f02fad0,0x42b17de0,2
np.float32,0x7eeab877,0x42b145a9,2
np.float32,0x3fd6029d,0x3f8d20f7,2
np.float32,0x3fd4f8cd,0x3f8c59d6,2
np.float32,0x3fb29d4a,0x3f5cc1a5,2
np.float32,0x3fb11e2d,0x3f59a77a,2
np.float32,0x7eded576,0x42b12b0e,2
np.float32,0x7f26c2a5,0x42b1f988,2
np.float32,0x3fb6165b,0x3f63c151,2
np.float32,0x7f3bca47,0x42b23657,2
np.float32,0x7d8c93bf,0x42ad7968,2
np.float32,0x3f8ede02,0x3ef47176,2
np.float32,0x3fbef762,0x3f7485b9,2
np.float32,0x7f1419af,0x42b1bcc6,2
np.float32,0x7d9e8c79,0x42adb701,2
np.float32,0x3fa26336,0x3f37af63,2
np.float32,0x7f5f5590,0x42b28f18,2
np.float32,0x3fddc93a,0x3f92c651,2
np.float32,0x3ff0a5fc,0x3f9f547f,2
np.float32,0x3fb2f6b8,0x3f5d790e,2
np.float32,0x3ffe59a4,0x3fa79d2c,2
np.float32,0x7e4df848,0x42af9fde,2
np.float32,0x3fb0ab3b,0x3f58b678,2
np.float32,0x7ea54d47,0x42b09225,2
np.float32,0x3fdd6404,0x3f927eb2,2
np.float32,0x3f846dc0,0x3e864caa,2
np.float32,0x7d046aee,0x42abf7e7,2
np.float32,0x7f7c5a05,0x42b2cda3,2
np.float32,0x3faf6126,0x3f55fb21,2
np.float32,0x7f36a910,0x42b22829,2
np.float32,0x3fdc7b36,0x3f91d938,2
np.float32,0x3fff443e,0x3fa82577,2
np.float32,0x7ee7154a,0x42b13daa,2
np.float32,0x3f944742,0x3f0e435c,2
np.float32,0x7f5b510a,0x42b285cc,2
np.float32,0x3f9bc940,0x3f25c4d2,2
np.float32,0x3fee4782,0x3f9dd4ea,2
np.float32,0x3fcfc2dd,0x3f885aea,2
np.float32,0x7eab65cf,0x42b0a4af,2
np.float32,0x3f9cf908,0x3f292689,2
np.float32,0x7ed35501,0x42b10feb,2
np.float32,0x7dabb70a,0x42addfd9,2
np.float32,0x7f348919,0x42b2222b,2
np.float32,0x3fb137d4,0x3f59dd17,2
np.float32,0x7e7b36c9,0x42b0058a,2
np.float32,0x7e351fa4,0x42af5e0d,2
np.float32,0x3f973c0c,0x3f18011e,2
np.float32,0xff800000,0xffc00000,2
np.float32,0x3f9b0a4b,0x3f239a33,2
np.float32,0x3f87c4cf,0x3eb17e7e,2
np.float32,0x7ef67760,0x42b15eaa,2
np.float32,0x3fc4d2c8,0x3f7ed20f,2
np.float32,0x7e940dac,0x42b059b8,2
np.float32,0x7f6e6a52,0x42b2b08d,2
np.float32,0x3f838752,0x3e6fe4b2,2
np.float32,0x3fd8f046,0x3f8f4a94,2
np.float32,0x3fa82112,0x3f45c223,2
np.float32,0x3fd49b16,0x3f8c1345,2
np.float32,0x7f02a941,0x42b17ca1,2
np.float32,0x3f8a9d2c,0x3ecf1768,2
np.float32,0x7c9372e3,0x42aacc0f,2
np.float32,0x3fd260b3,0x3f8a619a,2
np.float32,0x3f8a1b88,0x3eca27cb,2
np.float32,0x7d25d510,0x42ac6b1c,2
np.float32,0x7ef5a578,0x42b15cf5,2
np.float32,0x3fe6625d,0x3f98ae9a,2
np.float32,0x3ff53240,0x3fa22658,2
np.float32,0x3f8bb2e6,0x3ed944cf,2
np.float32,0x7f4679b1,0x42b252ad,2
np.float32,0x3fa8db30,0x3f4774fc,2
np.float32,0x7ee5fafd,0x42b13b37,2
np.float32,0x3fc405e0,0x3f7d71fb,2
np.float32,0x3f9303cd,0x3f09ddfd,2
np.float32,0x7f486e67,0x42b257b2,2
np.float32,0x7e73f12b,0x42aff680,2
np.float32,0x3fe80f8b,0x3f99cbe4,2
np.float32,0x3f84200a,0x3e81a3f3,2
np.float32,0x3fa14e5c,0x3f34e3ce,2
np.float32,0x3fda22ec,0x3f9029bb,2
np.float32,0x3f801772,0x3d1aef98,2
np.float32,0x7eaa1428,0x42b0a0bb,2
np.float32,0x3feae0b3,0x3f9ba4aa,2
np.float32,0x7ea439b4,0x42b08ecc,2
np.float32,0x3fa28b1c,0x3f381579,2
np.float32,0x7e8af247,0x42b03937,2
np.float32,0x3fd19216,0x3f89c2b7,2
np.float32,0x7f6ea033,0x42b2b100,2
np.float32,0x3fad4fbf,0x3f518224,2
np.float32,0x3febd940,0x3f9c45bd,2
np.float32,0x7f4643a3,0x42b25221,2
np.float32,0x7ec34478,0x42b0e771,2
np.float32,0x7f18c83b,0x42b1ccb5,2
np.float32,0x3fc665ad,0x3f80bf94,2
np.float32,0x3ff0a999,0x3f9f56c4,2
np.float32,0x3faf1cd2,0x3f5568fe,2
np.float32,0x7ecd9dc6,0x42b101e1,2
np.float32,0x3faad282,0x3f4bf754,2
np.float32,0x3ff905a0,0x3fa47771,2
np.float32,0x7f596481,0x42b28149,2
np.float32,0x7f1cb31f,0x42b1d9ac,2
np.float32,0x7e266719,0x42af32a6,2
np.float32,0x7eccce06,0x42b0ffdb,2
np.float32,0x3f9b6f71,0x3f24c102,2
np.float32,0x3f80e4ba,0x3df1d6bc,2
np.float32,0x3f843d51,0x3e836a60,2
np.float32,0x7f70bd88,0x42b2b585,2
np.float32,0x3fe4cc96,0x3f979e18,2
np.float32,0x3ff737c7,0x3fa36151,2
np.float32,0x3ff1197e,0x3f9f9cf4,2
np.float32,0x7f08e190,0x42b19471,2
np.float32,0x3ff1542e,0x3f9fc1b2,2
np.float32,0x3ff6673c,0x3fa2e2d2,2
np.float32,0xbf800000,0xffc00000,2
np.float32,0x7e3f9ba7,0x42af7add,2
np.float32,0x7f658ff6,0x42b29d2d,2
np.float32,0x3f93441c,0x3f0ac0d9,2
np.float32,0x7f526a74,0x42b27096,2
np.float32,0x7f5b00c8,0x42b28511,2
np.float32,0x3ff212f8,0x3fa038cf,2
np.float32,0x7e0bd60d,0x42aed998,2
np.float32,0x7f71ef7f,0x42b2b80e,2
np.float32,0x7f7a897e,0x42b2c9f1,2
np.float32,0x7e8b76a6,0x42b03b1e,2
np.float32,0x7efa0da3,0x42b1660f,2
np.float32,0x3fce9166,0x3f876ae0,2
np.float32,0x3fc4163d,0x3f7d8e30,2
np.float32,0x3fdb3784,0x3f90f16b,2
np.float32,0x7c5f177b,0x42aa3d30,2
np.float32,0x3fc6276d,0x3f808af5,2
np.float32,0x7bac9cc2,0x42a856f4,2
np.float32,0x3fe5876f,0x3f981bea,2
np.float32,0x3fef60e3,0x3f9e878a,2
np.float32,0x3fb23cd8,0x3f5bfb06,2
np.float32,0x3fe114e2,0x3f951402,2
np.float32,0x7ca8ef04,0x42ab11b4,2
np.float32,0x7d93c2ad,0x42ad92ec,2
np.float32,0x3fe5bb8a,0x3f983ee6,2
np.float32,0x7f0182fd,0x42b1781b,2
np.float32,0x7da63bb2,0x42adcf3d,2
np.float32,0x3fac46b7,0x3f4f399e,2
np.float32,0x7f7a5d8f,0x42b2c997,2
np.float32,0x7f76572e,0x42b2c14b,2
np.float32,0x7f42d53e,0x42b24931,2
np.float32,0x7f7ffd00,0x42b2d4f6,2
np.float32,0x3fc346c3,0x3f7c2756,2
np.float32,0x7f1f6ae3,0x42b1e27a,2
np.float32,0x3f87fb56,0x3eb3e2ee,2
np.float32,0x3fed17a2,0x3f9d12b4,2
np.float32,0x7f5ea903,0x42b28d8c,2
np.float32,0x3f967f82,0x3f15a4ab,2
np.float32,0x7d3b540c,0x42aca984,2
np.float32,0x7f56711a,0x42b27a4a,2
np.float32,0x7f122223,0x42b1b5ee,2
np.float32,0x3fd6fa34,0x3f8dd919,2
np.float32,0x3fadd62e,0x3f52a7b3,2
np.float32,0x3fb7bf0c,0x3f67015f,2
np.float32,0x7edf4ba7,0x42b12c1d,2
np.float32,0x7e33cc65,0x42af5a4b,2
np.float32,0x3fa6be17,0x3f427831,2
np.float32,0x3fa07aa8,0x3f32b7d4,2
np.float32,0x3fa4a3af,0x3f3d5a01,2
np.float32,0x3fdbb267,0x3f9149a8,2
np.float32,0x7ed45e25,0x42b1126c,2
np.float32,0x3fe3f432,0x3f970ba6,2
np.float32,0x7f752080,0x42b2bec3,2
np.float32,0x3f872747,0x3eaa62ea,2
np.float32,0x7e52175d,0x42afaa03,2
np.float32,0x3fdc766c,0x3f91d5ce,2
np.float32,0x7ecd6841,0x42b1015c,2
np.float32,0x7f3d6c40,0x42b23ac6,2
np.float32,0x3fb80c14,0x3f6796b9,2
np.float32,0x3ff6ad56,0x3fa30d68,2
np.float32,0x3fda44c3,0x3f90423e,2
np.float32,0x3fdcba0c,0x3f9205fc,2
np.float32,0x7e14a720,0x42aef8e6,2
np.float32,0x3fe9e489,0x3f9b0047,2
np.float32,0x7e69f933,0x42afe123,2
np.float32,0x3ff3ee6d,0x3fa15f71,2
np.float32,0x3f8538cd,0x3e91c1a7,2
np.float32,0x3fdc3f07,0x3f91ae46,2
np.float32,0x3fba2ef0,0x3f6bada2,2
np.float32,0x7da64cd8,0x42adcf71,2
np.float32,0x3fc34bd2,0x3f7c301d,2
np.float32,0x3fa273aa,0x3f37d984,2
np.float32,0x3ff0338c,0x3f9f0c86,2
np.float32,0x7ed62cef,0x42b116c3,2
np.float32,0x3f911e7e,0x3f02f7c6,2
np.float32,0x7c8514c9,0x42aa9792,2
np.float32,0x3fea2a74,0x3f9b2df5,2
np.float32,0x3fe036f8,0x3f947a25,2
np.float32,0x7c5654bf,0x42aa28ad,2
np.float32,0x3fd9e423,0x3f8ffc32,2
np.float32,0x7eec0439,0x42b1487b,2
np.float32,0x3fc580f4,0x3f7ffb62,2
np.float32,0x3fb0e316,0x3f592bbe,2
np.float32,0x7c4cfb7d,0x42aa11d8,2
np.float32,0x3faf9704,0x3f566e00,2
np.float32,0x3fa7cf8a,0x3f45023d,2
np.float32,0x7f7b724d,0x42b2cbcc,2
np.float32,0x7f05bfe3,0x42b18897,2
np.float32,0x3f90bde3,0x3f018bf3,2
np.float32,0x7c565479,0x42aa28ad,2
np.float32,0x3f94b517,0x3f0fb8e5,2
np.float32,0x3fd6aadd,0x3f8d9e3c,2
np.float32,0x7f09b37c,0x42b1977f,2
np.float32,0x7f2b45ea,0x42b20734,2
np.float32,0x3ff1d15e,0x3fa00fe9,2
np.float32,0x3f99bce6,0x3f1fbd6c,2
np.float32,0x7ecd1f76,0x42b100a7,2
np.float32,0x7f443e2b,0x42b24ce2,2
np.float32,0x7da7d6a5,0x42add428,2
np.float32,0x7ebe0193,0x42b0d975,2
np.float32,0x7ee13c43,0x42b1308b,2
np.float32,0x3f8adf1b,0x3ed18e0c,2
np.float32,0x7f76ce65,0x42b2c242,2
np.float32,0x7e34f43d,0x42af5d92,2
np.float32,0x7f306b76,0x42b2165d,2
np.float32,0x7e1fd07f,0x42af1df7,2
np.float32,0x3fab9a41,0x3f4db909,2
np.float32,0x3fc23d1a,0x3f7a5803,2
np.float32,0x3f8b7403,0x3ed70245,2
np.float32,0x3f8c4dd6,0x3edebbae,2
np.float32,0x3fe5f411,0x3f9864cd,2
np.float32,0x3f88128b,0x3eb4e508,2
np.float32,0x3fcb09de,0x3f84976f,2
np.float32,0x7f32f2f5,0x42b21da6,2
np.float32,0x3fe75610,0x3f9950f6,2
np.float32,0x3f993edf,0x3f1e408d,2
np.float32,0x3fc4a9d7,0x3f7e8be9,2
np.float32,0x7f74551a,0x42b2bd1a,2
np.float32,0x7de87129,0x42ae7ae2,2
np.float32,0x7f18bbbd,0x42b1cc8c,2
np.float32,0x7e7e1dd4,0x42b00b6c,2
np.float32,0x3ff6e55b,0x3fa32f64,2
np.float32,0x3fa634c8,0x3f412df3,2
np.float32,0x3fd0fb7c,0x3f894e49,2
np.float32,0x3ff4f6a6,0x3fa201d7,2
np.float32,0x7f69d418,0x42b2a69a,2
np.float32,0x7cb9632d,0x42ab414a,2
np.float32,0x3fc57d36,0x3f7ff503,2
np.float32,0x7e9e2ed7,0x42b07b9b,2
np.float32,0x7f2e6868,0x42b2107d,2
np.float32,0x3fa3169a,0x3f39785d,2
np.float32,0x7f03cde0,0x42b18117,2
np.float32,0x7f6d75d2,0x42b2ae7f,2
np.float32,0x3ff483f2,0x3fa1bb75,2
np.float32,0x7f1b39f7,0x42b1d4d6,2
np.float32,0x3f8c7a7d,0x3ee0481e,2
np.float32,0x3f989095,0x3f1c2b19,2
np.float32,0x3fa4cbfd,0x3f3dbd87,2
np.float32,0x7f75b00f,0x42b2bfef,2
np.float32,0x3f940724,0x3f0d6756,2
np.float32,0x7f5e5a1a,0x42b28cd6,2
np.float32,0x800000,0xffc00000,2
np.float32,0x7edd1d29,0x42b12716,2
np.float32,0x3fa3e9e4,0x3f3b8c16,2
np.float32,0x7e46d70e,0x42af8dd5,2
np.float32,0x3f824745,0x3e40ec1e,2
np.float32,0x3fd67623,0x3f8d770a,2
np.float32,0x3fe9a6f3,0x3f9ad7fa,2
np.float32,0x3fdda67c,0x3f92adc1,2
np.float32,0x7ccb6c9a,0x42ab70d4,2
np.float32,0x3ffd364a,0x3fa6f2fe,2
np.float32,0x7e02424c,0x42aeb545,2
np.float32,0x3fb6d2f2,0x3f6534a1,2
np.float32,0x3fe1fe26,0x3f95b4cc,2
np.float32,0x7e93ac57,0x42b05867,2
np.float32,0x7f7b3433,0x42b2cb4d,2
np.float32,0x3fb76803,0x3f66580d,2
np.float32,0x3f9af881,0x3f23661b,2
np.float32,0x3fd58062,0x3f8cbf98,2
np.float32,0x80000000,0xffc00000,2
np.float32,0x7f1af8f4,0x42b1d3ff,2
np.float32,0x3fe66bba,0x3f98b4dc,2
np.float32,0x7f6bd7bf,0x42b2aaff,2
np.float32,0x3f84f79a,0x3e8e2e49,2
np.float32,0x7e475b06,0x42af8f28,2
np.float32,0x3faff89b,0x3f573d5e,2
np.float32,0x7de5aa77,0x42ae74bb,2
np.float32,0x3f8e9e42,0x3ef26cd2,2
np.float32,0x3fb1cec3,0x3f5b1740,2
np.float32,0x3f8890d6,0x3eba4821,2
np.float32,0x3f9b39e9,0x3f242547,2
np.float32,0x3fc895a4,0x3f829407,2
np.float32,0x7f77943c,0x42b2c3dc,2
np.float32,0x7f390d58,0x42b22ed2,2
np.float32,0x3fe7e160,0x3f99ad58,2
np.float32,0x3f93d2a0,0x3f0cb205,2
np.float32,0x7f29499b,0x42b2013c,2
np.float32,0x3f8c11b2,0x3edca10f,2
np.float32,0x7e898ef8,0x42b03413,2
np.float32,0x3fdff942,0x3f944f34,2
np.float32,0x7f3d602f,0x42b23aa5,2
np.float32,0x3f8a50f3,0x3ecc345b,2
np.float32,0x3fa1f86d,0x3f369ce4,2
np.float32,0x3f97ad95,0x3f19681d,2
np.float32,0x3ffad1e0,0x3fa589e5,2
np.float32,0x3fa70590,0x3f432311,2
np.float32,0x7e6840cb,0x42afdd5c,2
np.float32,0x3fd4036d,0x3f8ba0aa,2
np.float32,0x7f7cc953,0x42b2ce84,2
np.float32,0x7f228e1e,0x42b1ec74,2
np.float32,0x7e37a866,0x42af652a,2
np.float32,0x3fda22d0,0x3f9029a7,2
np.float32,0x7f736bff,0x42b2bb31,2
np.float32,0x3f9833b6,0x3f1b0b8e,2
np.float32,0x7f466001,0x42b2526a,2
np.float32,0xff7fffff,0xffc00000,2
np.float32,0x7dd62bcd,0x42ae50f8,2
np.float32,0x7f1d2bfe,0x42b1db36,2
np.float32,0x7ecffe9e,0x42b107c5,2
np.float32,0x7ebefe0a,0x42b0dc1b,2
np.float32,0x7f45c63d,0x42b250dd,2
np.float32,0x7f601af0,0x42b290db,2
np.float32,0x3fcbb88a,0x3f8524e5,2
np.float32,0x7ede55ff,0x42b129e8,2
np.float32,0x7ea5dd5a,0x42b093e2,2
np.float32,0x3ff53857,0x3fa22a12,2
np.float32,0x3f8dbd6a,0x3eeb28a4,2
np.float32,0x3fd1b467,0x3f89dd2c,2
np.float32,0x3fe0423f,0x3f9481fc,2
np.float32,0x3f84b421,0x3e8a6174,2
np.float32,0x7f4efc97,0x42b2682c,2
np.float32,0x7f601b33,0x42b290dc,2
np.float32,0x3f94f240,0x3f108719,2
np.float32,0x7decd251,0x42ae8471,2
np.float32,0x3fdc457c,0x3f91b2e2,2
np.float32,0x3f92a966,0x3f089c5a,2
np.float32,0x3fc9732f,0x3f834afc,2
np.float32,0x3f97948f,0x3f19194e,2
np.float32,0x7f0824a1,0x42b191ac,2
np.float32,0x7f0365a5,0x42b17f81,2
np.float32,0x3f800000,0x0,2
np.float32,0x7f0054c6,0x42b1736b,2
np.float32,0x3fe86544,0x3f9a0484,2
np.float32,0x7e95f844,0x42b0604e,2
np.float32,0x3fce8602,0x3f8761e2,2
np.float32,0x3fc726c8,0x3f81621d,2
np.float32,0x3fcf6b03,0x3f88161b,2
np.float32,0x3fceb843,0x3f87898a,2
np.float32,0x3fe2f8b2,0x3f966071,2
np.float32,0x7f3c8e7f,0x42b2386d,2
np.float32,0x3fcee13a,0x3f87a9d2,2
np.float32,0x3fc4df27,0x3f7ee73c,2
np.float32,0x3ffde486,0x3fa758e3,2
np.float32,0x3fa91be0,0x3f480b17,2
np.float32,0x7f2a5a7d,0x42b20472,2
np.float32,0x7e278d80,0x42af362d,2
np.float32,0x3f96d091,0x3f16a9d5,2
np.float32,0x7e925225,0x42b053b2,2
np.float32,0x7f7ef83a,0x42b2d2ec,2
np.float32,0x7eb4923a,0x42b0bf61,2
np.float32,0x7e98bf19,0x42b069b3,2
np.float32,0x3fac93a2,0x3f4fe410,2
np.float32,0x7f46389c,0x42b25205,2
np.float32,0x3f9fd447,0x3f30fd54,2
np.float32,0x3fef42d4,0x3f9e7483,2
np.float32,0x7f482174,0x42b256ed,2
np.float32,0x3f97aedb,0x3f196c1e,2
np.float32,0x7f764edd,0x42b2c13a,2
np.float32,0x3f9117b5,0x3f02de5c,2
np.float32,0x3fc7984e,0x3f81c12d,2
np.float64,0x3ff1e2cb7463c597,0x3fdec6caf39e0c0e,2
np.float64,0x3ffe4f89789c9f13,0x3ff40f4b1da0f3e9,2
np.float64,0x7f6a5c9ac034b935,0x408605e51703c145,2
np.float64,0x7fdcb6ece3b96dd9,0x40862d6521e16d60,2
np.float64,0x3ff6563e182cac7c,0x3feb9d8210f3fa88,2
np.float64,0x7fde32025f3c6404,0x40862dcc1d1a9b7f,2
np.float64,0x7fd755ed35aeabd9,0x40862bbc5522b779,2
np.float64,0x3ff5c81f4bcb903e,0x3fea71f10b954ea3,2
np.float64,0x3fffe805d35fd00c,0x3ff50463a1ba2938,2
np.float64,0x7fd045a1c1a08b43,0x408628d9f431f2f5,2
np.float64,0x3ff49f7dd9893efc,0x3fe7c6736e17ea8e,2
np.float64,0x7fccfbc1fd39f783,0x408627eca79acf51,2
np.float64,0x3ff1af0a00035e14,0x3fdd1c0e7d5706ea,2
np.float64,0x7fe7bd17162f7a2d,0x4086316af683502b,2
np.float64,0x3ff0941b8d012837,0x3fd128d274065ac0,2
np.float64,0x3ffa0c5d98b418bb,0x3ff11af9c8edd17f,2
np.float64,0x3ffad9733355b2e6,0x3ff1b6d1307acb42,2
np.float64,0x3ffabb2a33d57654,0x3ff1a0442b034e50,2
np.float64,0x3ff36118b0c6c231,0x3fe472b7dfb23516,2
np.float64,0x3ff2441d3664883a,0x3fe0d61145608f0c,2
np.float64,0x7fe039862d20730b,0x40862e5f8ed752d3,2
np.float64,0x7fb1dde24023bbc4,0x40861e824cdb0664,2
np.float64,0x7face6335839cc66,0x40861ccf90a26e16,2
np.float64,0x3ffb5d0e1af6ba1c,0x3ff2170f6f42fafe,2
np.float64,0x3ff5c2c6a50b858d,0x3fea665aabf04407,2
np.float64,0x3ffabb409db57681,0x3ff1a054ea32bfc3,2
np.float64,0x3ff1e054e983c0aa,0x3fdeb30c17286cb6,2
np.float64,0x7fe467f73268cfed,0x4086303529e52e9b,2
np.float64,0x7fe0e86bf961d0d7,0x40862eb40788b04a,2
np.float64,0x3ffb743542f6e86a,0x3ff227b4ea5acee0,2
np.float64,0x3ff2de6826e5bcd0,0x3fe2e31fcde0a96c,2
np.float64,0x7fd6b27ccfad64f9,0x40862b8385697c31,2
np.float64,0x7fe0918e8d21231c,0x40862e8a82d9517a,2
np.float64,0x7fd0ca0395a19406,0x4086291a0696ed33,2
np.float64,0x3ffb042496960849,0x3ff1d658c928abfc,2
np.float64,0x3ffcd0409799a081,0x3ff31877df0cb245,2
np.float64,0x7fe429bd06685379,0x4086301c9f259934,2
np.float64,0x3ff933076092660f,0x3ff06d2e5f4d9ab7,2
np.float64,0x7feaefcb28f5df95,0x4086326dccf88e6f,2
np.float64,0x7fb5f2c1f82be583,0x40862027ac02a39d,2
np.float64,0x3ffb5d9e3bd6bb3c,0x3ff21777501d097e,2
np.float64,0x10000000000000,0xfff8000000000000,2
np.float64,0x3ff70361596e06c3,0x3fecf675ceda7e19,2
np.float64,0x3ff71a21b5ee3444,0x3fed224fa048d9a9,2
np.float64,0x3ffb102b86762057,0x3ff1df2cc9390518,2
np.float64,0x7feaaeb35c355d66,0x4086325a60704a90,2
np.float64,0x7fd9a3d0a93347a0,0x40862c7d300fc076,2
np.float64,0x7fabcf159c379e2a,0x40861c80cdbbff27,2
np.float64,0x7fd1c066ec2380cd,0x4086298c3006fee6,2
np.float64,0x3ff3d5ae2d67ab5c,0x3fe5bc16447428db,2
np.float64,0x3ff4b76add696ed6,0x3fe800f5bbf21376,2
np.float64,0x3ff60d89ee0c1b14,0x3feb063fdebe1a68,2
np.float64,0x7f1d2648003a4c8f,0x4085eaf9238af95a,2
np.float64,0x7fe8b45f6df168be,0x408631bca5abf6d6,2
np.float64,0x7fe9ea5308f3d4a5,0x4086321ea2bd3af9,2
np.float64,0x7fcb6ba5a636d74a,0x4086277b208075ed,2
np.float64,0x3ff621cfd74c43a0,0x3feb30d59baf5919,2
np.float64,0x3ff7bc8ca0af7919,0x3fee524da8032896,2
np.float64,0x7fda22dd0c3445b9,0x40862ca47326d063,2
np.float64,0x7fd02ed4b2a05da8,0x408628ceb6919421,2
np.float64,0x3ffe64309fdcc861,0x3ff41c1b18940709,2
np.float64,0x3ffee4042abdc808,0x3ff46a6005bccb41,2
np.float64,0x3ff078145b00f029,0x3fceeb3d6bfae0eb,2
np.float64,0x7fda20fd20b441f9,0x40862ca3e03b990b,2
np.float64,0x3ffa9e9e9af53d3d,0x3ff18ade3cbee789,2
np.float64,0x3ff0a1062501420c,0x3fd1e32de6d18c0d,2
np.float64,0x3ff3bdf118477be2,0x3fe57ad89b7fdf8b,2
np.float64,0x3ff101c0d5c20382,0x3fd6965d3539be47,2
np.float64,0x7feba3b53b774769,0x408632a28c7aca4d,2
np.float64,0x3ff598db5d4b31b7,0x3fea0aa65c0b421a,2
np.float64,0x3ff5fdfbb72bfbf8,0x3feae55accde4a5e,2
np.float64,0x7fe5bae53aab75c9,0x408630b5e7a5b92a,2
np.float64,0x3ff8f668afd1ecd2,0x3ff03af686666c9c,2
np.float64,0x3ff5ba72dd2b74e6,0x3fea5441f223c093,2
np.float64,0x3ff8498147109302,0x3fef4e45d501601d,2
np.float64,0x7feddcfa5efbb9f4,0x4086334106a6e76b,2
np.float64,0x7fd1a30200234603,0x4086297ee5cc562c,2
np.float64,0x3ffffa8ee07ff51e,0x3ff50f1dc46f1303,2
np.float64,0x7fef7ed00ebefd9f,0x408633ae01dabe52,2
np.float64,0x3ffb6e062276dc0c,0x3ff22344c58c2016,2
np.float64,0x7fcf2b59943e56b2,0x4086288190dd5eeb,2
np.float64,0x3ffa589f9254b13f,0x3ff155cc081eee0b,2
np.float64,0x3ff05415ca60a82c,0x3fc9e45565baef0a,2
np.float64,0x7feb34bed576697d,0x408632822d5a178c,2
np.float64,0x3ff3993845c73270,0x3fe51423baf246c3,2
np.float64,0x3ff88367aaf106d0,0x3fefb2d9ca9f1192,2
np.float64,0x7fef364304fe6c85,0x4086339b7ed82997,2
np.float64,0x7fcba2c317374585,0x4086278b24e42934,2
np.float64,0x3ff1aef885e35df1,0x3fdd1b79f55b20c0,2
np.float64,0x7fe19367886326ce,0x40862f035f867445,2
np.float64,0x3ff3c8295e279053,0x3fe5970aa670d32e,2
np.float64,0x3ff6edda164ddbb4,0x3feccca9eb59d6b9,2
np.float64,0x7fdeaea940bd5d52,0x40862dece02d151b,2
np.float64,0x7fea9d6324353ac5,0x408632552ddf0d4f,2
np.float64,0x7fe60e39e66c1c73,0x408630d45b1ad0c4,2
np.float64,0x7fde06325abc0c64,0x40862dc07910038c,2
np.float64,0x7f9ec89d303d9139,0x408617c55ea4c576,2
np.float64,0x3ff9801930530032,0x3ff0abe5be046051,2
np.float64,0x3ff4d5859689ab0b,0x3fe849a7f7a19fa3,2
np.float64,0x3ff38afbc48715f8,0x3fe4ebb7710cbab9,2
np.float64,0x3ffd88a0e77b1142,0x3ff3916964407e21,2
np.float64,0x1,0xfff8000000000000,2
np.float64,0x3ff5db59e58bb6b4,0x3fea9b6b5ccc116f,2
np.float64,0x3ffd4b05b15a960c,0x3ff369792f661a90,2
np.float64,0x7fdcebc4fb39d789,0x40862d73cd623378,2
np.float64,0x3ff5b56f944b6adf,0x3fea4955d6b06ca3,2
np.float64,0x7fd4e4abf2a9c957,0x40862ad9e9da3c61,2
np.float64,0x7fe08e0d6aa11c1a,0x40862e88d17ef277,2
np.float64,0x3ff0dfc97da1bf93,0x3fd50f9004136d8f,2
np.float64,0x7fdec38eaebd871c,0x40862df2511e26b4,2
np.float64,0x7ff8000000000000,0x7ff8000000000000,2
np.float64,0x3ff21865504430cb,0x3fe033fe3cf3947a,2
np.float64,0x7fdc139708b8272d,0x40862d371cfbad03,2
np.float64,0x7fe1fe3be3a3fc77,0x40862f336e3ba63a,2
np.float64,0x7fd9fa2493b3f448,0x40862c97f2960be9,2
np.float64,0x3ff0a027db414050,0x3fd1d6e54a707c87,2
np.float64,0x3ff568b16f4ad163,0x3fe99f5c6d7b6e18,2
np.float64,0x3ffe2f82877c5f05,0x3ff3fb54bd0da753,2
np.float64,0x7fbaf5778435eaee,0x408621ccc9e2c1be,2
np.float64,0x7fc5aaf8362b55ef,0x40862598e7072a49,2
np.float64,0x7fe0ebfdd4a1d7fb,0x40862eb5b7bf99d5,2
np.float64,0x7fd8efeb5931dfd6,0x40862c444636f408,2
np.float64,0x3ff361a308c6c346,0x3fe4744cae63e6df,2
np.float64,0x7fef287d39be50f9,0x40863397f65c807e,2
np.float64,0x7fe72c4a14ae5893,0x4086313992e52082,2
np.float64,0x3ffd1be44cba37c8,0x3ff34a9a45239eb9,2
np.float64,0x3ff50369c18a06d4,0x3fe8b69319f091f1,2
np.float64,0x3ffb333c25766678,0x3ff1f8c78eeb28f1,2
np.float64,0x7fe12050416240a0,0x40862ece4e2f2f24,2
np.float64,0x7fe348f5526691ea,0x40862fc16fbe7b6c,2
np.float64,0x3ff343cc4d068799,0x3fe41c2a30cab7d2,2
np.float64,0x7fd1b0daaa2361b4,0x408629852b3104ff,2
np.float64,0x3ff6a41f37ad483e,0x3fec3b36ee6c6d4a,2
np.float64,0x3ffad9439435b287,0x3ff1b6add9a1b3d7,2
np.float64,0x7fbeb9a2f23d7345,0x408622d89ac1eaba,2
np.float64,0x3ffab3d39fb567a7,0x3ff19ac75b4427f3,2
np.float64,0x3ff890003ed12000,0x3fefc8844471c6ad,2
np.float64,0x3ffc9f595e593eb2,0x3ff2f7a8699f06d8,2
np.float64,0x7fe2224ef6e4449d,0x40862f43684a154a,2
np.float64,0x3ffa67ba08d4cf74,0x3ff161525778df99,2
np.float64,0x7fe87e24b570fc48,0x408631ab02b159fb,2
np.float64,0x7fd6e99be92dd337,0x40862b96dba73685,2
np.float64,0x7fe90f39fdf21e73,0x408631d9dbd36c1e,2
np.float64,0x3ffb7806abd6f00e,0x3ff22a719b0f4c46,2
np.float64,0x3ffa511ba3d4a238,0x3ff1500c124f6e17,2
np.float64,0x3ff5d7a569abaf4b,0x3fea937391c280e8,2
np.float64,0x7fc4279d20284f39,0x40862504a5cdcb96,2
np.float64,0x3ffe8791b1fd0f24,0x3ff431f1ed7eaba0,2
np.float64,0x7fe3b2f5276765e9,0x40862fecf15e2535,2
np.float64,0x7feeab0e7abd561c,0x408633778044cfbc,2
np.float64,0x7fdba88531375109,0x40862d1860306d7a,2
np.float64,0x7fe7b19b3def6335,0x4086316716d6890b,2
np.float64,0x3ff9e9437413d287,0x3ff0ff89431c748c,2
np.float64,0x3ff960716a52c0e3,0x3ff092498028f802,2
np.float64,0x3ff271bf56a4e37f,0x3fe1786fc8dd775d,2
np.float64,0x3fff2a6578be54cb,0x3ff494bbe303eeb5,2
np.float64,0x3ffd842eb5fb085e,0x3ff38e8b7ba42bc5,2
np.float64,0x3ff91600e5d22c02,0x3ff0553c6a6b3d93,2
np.float64,0x3ff9153f45f22a7e,0x3ff0549c0eaecf95,2
np.float64,0x7fe0ab319da15662,0x40862e96da3b19f9,2
np.float64,0x3ff06acd1f60d59a,0x3fcd2aca543d2772,2
np.float64,0x3ffb3e7a54d67cf4,0x3ff200f288cd391b,2
np.float64,0x3ffd01356f1a026b,0x3ff339003462a56c,2
np.float64,0x3ffacd35def59a6c,0x3ff1adb8d32b3ec0,2
np.float64,0x3ff6f953264df2a6,0x3fece2f992948d6e,2
np.float64,0x3ff0fa91f5a1f524,0x3fd64609a28f1590,2
np.float64,0x7fd1b7610ca36ec1,0x408629881e03dc7d,2
np.float64,0x3ff4317fb7c86300,0x3fe6b086ed265887,2
np.float64,0x3ff3856198070ac3,0x3fe4dbb6bc88b9e3,2
np.float64,0x7fed7fc4573aff88,0x40863327e7013a81,2
np.float64,0x3ffe53cbbf5ca798,0x3ff411f07a29b1f4,2
np.float64,0x3ff092195b012433,0x3fd10b1c0b4b14fe,2
np.float64,0x3ff1a3171163462e,0x3fdcb5c301d5d40d,2
np.float64,0x3ffa1401f1742804,0x3ff120eb319e9faa,2
np.float64,0x7fd352f6f426a5ed,0x40862a3a048feb6d,2
np.float64,0x7fd4ee246fa9dc48,0x40862add895d808f,2
np.float64,0x3ff0675cfa00ceba,0x3fccb2222c5493ca,2
np.float64,0x3ffe5cb38f3cb967,0x3ff417773483d161,2
np.float64,0x7fe11469ea2228d3,0x40862ec8bd3e497f,2
np.float64,0x3fff13cba67e2798,0x3ff4872fe2c26104,2
np.float64,0x3ffb73d3d316e7a8,0x3ff2276f08612ea2,2
np.float64,0x7febfb70f237f6e1,0x408632bbc9450721,2
np.float64,0x3ff84a0d87b0941b,0x3fef4f3b707e3145,2
np.float64,0x7fd71fd5082e3fa9,0x40862ba9b4091172,2
np.float64,0x3ff560737d8ac0e7,0x3fe98cc9c9ba2f61,2
np.float64,0x3ff46a266ae8d44d,0x3fe74190e5234822,2
np.float64,0x7fe8cc9225719923,0x408631c477db9708,2
np.float64,0x3ff871de5930e3bc,0x3fef948f7d00fbef,2
np.float64,0x3ffd0bc7895a178f,0x3ff33ffc18357721,2
np.float64,0x3ff66099f9ccc134,0x3febb2bc775b4720,2
np.float64,0x7fe91f1be9723e37,0x408631deec3a5c9e,2
np.float64,0x7fd60462f12c08c5,0x40862b4537e1c1c6,2
np.float64,0x3ff053100ba0a620,0x3fc9bc0c21e2284f,2
np.float64,0x7fd864c611b0c98b,0x40862c1724506255,2
np.float64,0x7fd191decb2323bd,0x408629771bfb68cc,2
np.float64,0x3ff792a1656f2543,0x3fee054f2e135fcf,2
np.float64,0x7fd03625cea06c4b,0x408628d253b840e3,2
np.float64,0x7fc3967716272ced,0x408624ca35451042,2
np.float64,0x7fe6636cb32cc6d8,0x408630f3073a22a7,2
np.float64,0x3ffc2d3976585a73,0x3ff2a9d4c0dae607,2
np.float64,0x3fffd10ee79fa21e,0x3ff4f70db69888be,2
np.float64,0x3ff1d4fcae23a9f9,0x3fde57675007b23c,2
np.float64,0x3ffa5da19e14bb43,0x3ff1599f74d1c113,2
np.float64,0x3ff7f4eb0d6fe9d6,0x3feeb85189659e99,2
np.float64,0x7fbcca44d8399489,0x408622536234f7c1,2
np.float64,0x7fef5f97ec3ebf2f,0x408633a60fdde0d7,2
np.float64,0x7fde4a66da3c94cd,0x40862dd290ebc184,2
np.float64,0x3ff072957a40e52b,0x3fce34d913d87613,2
np.float64,0x3ff2bc4c9dc57899,0x3fe27497e6ebe27d,2
np.float64,0x7fd7d152b4afa2a4,0x40862be63469eecd,2
np.float64,0x3ff957d768f2afaf,0x3ff08b4ad8062a73,2
np.float64,0x7fe4bc5f45a978be,0x40863055fd66e4eb,2
np.float64,0x7fc90de345321bc6,0x408626c24ce7e370,2
np.float64,0x3ff2d7a37d85af47,0x3fe2cd6a40b544a0,2
np.float64,0x7fe536ea1f6a6dd3,0x40863084bade76a3,2
np.float64,0x3fff970c9cdf2e19,0x3ff4d524572356dd,2
np.float64,0x3ffe173ae63c2e76,0x3ff3ec1ee35ad28c,2
np.float64,0x3ff714025cce2805,0x3fed168aedff4a2b,2
np.float64,0x7fce7b414c3cf682,0x40862853dcdd19d4,2
np.float64,0x3ff019623f2032c4,0x3fbc7c602df0bbaf,2
np.float64,0x3ff72f57fd0e5eb0,0x3fed4ae75f697432,2
np.float64,0x3ff283778e8506ef,0x3fe1b5c5725b0dfd,2
np.float64,0x3ff685a29aed0b45,0x3febfdfdedd581e2,2
np.float64,0x3ff942d24fb285a4,0x3ff07a224c3ecfaf,2
np.float64,0x3ff2e4a9f465c954,0x3fe2f71905399e8f,2
np.float64,0x7fdfa1c7fa3f438f,0x40862e2b4e06f098,2
np.float64,0x3ff49b59c26936b4,0x3fe7bc41c8c1e59d,2
np.float64,0x3ff2102d3704205a,0x3fe014bf7e28924e,2
np.float64,0x3ff88de3b8311bc8,0x3fefc4e3e0a15a89,2
np.float64,0x7fea5ba25374b744,0x40863241519c9b66,2
np.float64,0x3fffe5df637fcbbf,0x3ff5032488f570f9,2
np.float64,0x7fe67cfefe6cf9fd,0x408630fc25333cb4,2
np.float64,0x3ff090bf2b01217e,0x3fd0f6fcf1092b4a,2
np.float64,0x7fecd75bc5f9aeb7,0x408632f9b6c2e013,2
np.float64,0x7fe15df38c62bbe6,0x40862eeae5ac944b,2
np.float64,0x3ff4757875a8eaf1,0x3fe75e0eafbe28ce,2
np.float64,0x7fecca8a51b99514,0x408632f627c23923,2
np.float64,0x3ff91ca529d2394a,0x3ff05abb327fd1ca,2
np.float64,0x3ffb962993b72c53,0x3ff23ff831717579,2
np.float64,0x3ffd548a2c7aa914,0x3ff36fac7f56d716,2
np.float64,0x7fbafb5cb035f6b8,0x408621ce898a02fb,2
np.float64,0x3ff1d86daca3b0db,0x3fde73536c29218c,2
np.float64,0x7fa8d0f8f431a1f1,0x40861b97a03c3a18,2
np.float64,0x3ff44f1067489e21,0x3fe6fcbd8144ab2a,2
np.float64,0x7fec062b07380c55,0x408632bed9c6ce85,2
np.float64,0x3ff7e11e0fcfc23c,0x3fee94ada7efaac4,2
np.float64,0x7fe77505c1aeea0b,0x4086315287dda0ba,2
np.float64,0x7fc465af2728cb5d,0x4086251d236107f7,2
np.float64,0x3ffe811c4a7d0238,0x3ff42df7e8b6cf2d,2
np.float64,0x7fe05a471260b48d,0x40862e6fa502738b,2
np.float64,0x7fec32cd9778659a,0x408632cb8d98c5a3,2
np.float64,0x7fd203a220a40743,0x408629aa43b010c0,2
np.float64,0x7fed71f7d17ae3ef,0x4086332428207101,2
np.float64,0x3ff3918999e72313,0x3fe4fe5e8991402f,2
np.float64,0x3ff3ecae38c7d95c,0x3fe5fa787d887981,2
np.float64,0x7fd65345b82ca68a,0x40862b61aed8c64e,2
np.float64,0x3ff1efdd01c3dfba,0x3fdf2eae36139204,2
np.float64,0x3ffba9344f375268,0x3ff24d7fdcfc313b,2
np.float64,0x7fd0469b35208d35,0x408628da6ed24bdd,2
np.float64,0x7fe525782daa4aef,0x4086307e240c8b30,2
np.float64,0x3ff8e473d371c8e8,0x3ff02beebd4171c7,2
np.float64,0x3ff59a43898b3487,0x3fea0dc0a6acea0a,2
np.float64,0x7fef50c7263ea18d,0x408633a247d7cd42,2
np.float64,0x7fe8b5a301f16b45,0x408631bd0e71c855,2
np.float64,0x3ff209369de4126d,0x3fdff4264334446b,2
np.float64,0x3ffbe2ff4437c5fe,0x3ff2763b356814c7,2
np.float64,0x3ff55938156ab270,0x3fe97c70514f91bf,2
np.float64,0x3fff5d8bf81ebb18,0x3ff4b333b230672a,2
np.float64,0x3ff16a317bc2d463,0x3fdab84e7faa468f,2
np.float64,0x3ff7e64f8dafcc9f,0x3fee9e0bd57e9566,2
np.float64,0x7fef4dc065be9b80,0x408633a181e25abb,2
np.float64,0x3ff64a24a62c9449,0x3feb849ced76437e,2
np.float64,0x7fc3cb85ef27970b,0x408624dfc39c8f74,2
np.float64,0x7fec2162a77842c4,0x408632c69b0d43b6,2
np.float64,0x7feccee6dc399dcd,0x408632f75de98c46,2
np.float64,0x7faff4f5f43fe9eb,0x40861d9d89be14c9,2
np.float64,0x7fee82df60fd05be,0x4086336cfdeb7317,2
np.float64,0x3ffe54588d9ca8b1,0x3ff41247eb2f75ca,2
np.float64,0x3ffe5615b55cac2c,0x3ff4135c4eb11620,2
np.float64,0x3ffdaf9a6a1b5f35,0x3ff3aa70e50d1692,2
np.float64,0x3ff69c045f4d3809,0x3fec2b00734e2cde,2
np.float64,0x7fd049239aa09246,0x408628dbad6dd995,2
np.float64,0x3ff2acbe8465597d,0x3fe24138652195e1,2
np.float64,0x3ffb288302365106,0x3ff1f0f86ca7e5d1,2
np.float64,0x3fff6fe8d87edfd2,0x3ff4be136acf53c5,2
np.float64,0x3ffc87c8bfb90f92,0x3ff2e7bbd65867cb,2
np.float64,0x3ff173327ca2e665,0x3fdb0b945abb00d7,2
np.float64,0x3ff9a5cf7a134b9f,0x3ff0ca2450f07c78,2
np.float64,0x7faf782b043ef055,0x40861d7e0e9b35ef,2
np.float64,0x3ffa0874975410e9,0x3ff117ee3dc8f5ba,2
np.float64,0x7fc710fc7f2e21f8,0x40862618fed167fb,2
np.float64,0x7feb73f4c876e7e9,0x40863294ae3ac1eb,2
np.float64,0x8000000000000000,0xfff8000000000000,2
np.float64,0x7fb46615c028cc2b,0x40861f91bade4dad,2
np.float64,0x7fc26b064624d60c,0x4086244c1b76c938,2
np.float64,0x3ff06ab9fa40d574,0x3fcd282fd971d1b4,2
np.float64,0x3ff61da7410c3b4e,0x3feb28201031af02,2
np.float64,0x3ffec7ba1b9d8f74,0x3ff459342511f952,2
np.float64,0x7ff4000000000000,0x7ffc000000000000,2
np.float64,0x7fe5d570422baae0,0x408630bfa75008c9,2
np.float64,0x3ffa895832f512b0,0x3ff17ad41555dccb,2
np.float64,0x7fd343ac21a68757,0x40862a33ad59947a,2
np.float64,0x3ffc1eeb37383dd6,0x3ff29ff29e55a006,2
np.float64,0x7fee3c5c507c78b8,0x4086335a6b768090,2
np.float64,0x7fe96d774a32daee,0x408631f7b9937e36,2
np.float64,0x7fb878362430f06b,0x40862106603497b6,2
np.float64,0x7fec0a79c03814f3,0x408632c01479905e,2
np.float64,0x3ffa2f143c145e28,0x3ff135e25d902e1a,2
np.float64,0x3ff14ccff80299a0,0x3fd9a0cd3397b14c,2
np.float64,0x3ff97980dcb2f302,0x3ff0a6942a8133ab,2
np.float64,0x3ff872e2d1f0e5c6,0x3fef96526eb2f756,2
np.float64,0x7fdf1c9b46be3936,0x40862e0957fee329,2
np.float64,0x7fcab6525d356ca4,0x408627458791f029,2
np.float64,0x3ff964e74a52c9ce,0x3ff095e8845d523c,2
np.float64,0x3ffb3aa23c967544,0x3ff1fe282d897c13,2
np.float64,0x7fdd8a36afbb146c,0x40862d9f2b05f61b,2
np.float64,0x3ffea39f42fd473e,0x3ff4432a48176399,2
np.float64,0x7fea614f68b4c29e,0x408632430a750385,2
np.float64,0x7feeafb86abd5f70,0x40863378b79f70cf,2
np.float64,0x3ff80bc94eb01792,0x3feee138e9d626bd,2
np.float64,0x7fcaca74743594e8,0x4086274b8ce4d1e1,2
np.float64,0x3ff8b14815316290,0x3ff000b3526c8321,2
np.float64,0x7fc698eb5f2d31d6,0x408625eeec86cd2b,2
np.float64,0x7fe15429a3e2a852,0x40862ee6621205b8,2
np.float64,0x7fee37f81b7c6fef,0x4086335941ed80dd,2
np.float64,0x3ff8097ab3f012f6,0x3feedd1bafc3196e,2
np.float64,0x7fe7c889ceaf9113,0x4086316ed13f2394,2
np.float64,0x7fceca94513d9528,0x4086286893a06824,2
np.float64,0x3ff593a103cb2742,0x3fe9ff1af4f63cc9,2
np.float64,0x7fee237d24bc46f9,0x40863353d4142c87,2
np.float64,0x3ffbf71e4777ee3c,0x3ff2844c0ed9f4d9,2
np.float64,0x3ff490c65c09218d,0x3fe7a2216d9f69fd,2
np.float64,0x3fff5ceaf1feb9d6,0x3ff4b2d430a90110,2
np.float64,0x3ff55baecceab75e,0x3fe98203980666c4,2
np.float64,0x3ff511bc306a2378,0x3fe8d81ce7be7b50,2
np.float64,0x3ff38f83dcc71f08,0x3fe4f89f130d5f87,2
np.float64,0x3ff73a3676ee746d,0x3fed5f98a65107ee,2
np.float64,0x7fc27e50c824fca1,0x408624547828bc49,2
np.float64,0xfff0000000000000,0xfff8000000000000,2
np.float64,0x3fff38959ebe712b,0x3ff49d362c7ba16a,2
np.float64,0x3ffad6d23a75ada4,0x3ff1b4dda6394ed0,2
np.float64,0x3ffe77c6c2dcef8e,0x3ff4283698835ecb,2
np.float64,0x3fff5feb413ebfd6,0x3ff4b49bcbdb3aa9,2
np.float64,0x3ff0d30aa161a615,0x3fd4751bcdd7d727,2
np.float64,0x3ff51e07e00a3c10,0x3fe8f4bd1408d694,2
np.float64,0x8010000000000000,0xfff8000000000000,2
np.float64,0x7fd231d2fe2463a5,0x408629beaceafcba,2
np.float64,0x3fff6b4aee1ed696,0x3ff4bb58544bf8eb,2
np.float64,0x3ff91fcd2f323f9a,0x3ff05d56e33db6b3,2
np.float64,0x3ff3b889ab477113,0x3fe56bdeab74cce5,2
np.float64,0x3ff99bfe30d337fc,0x3ff0c24bbf265561,2
np.float64,0x3ffbe9e5eaf7d3cc,0x3ff27b0fe60f827a,2
np.float64,0x7fd65678e92cacf1,0x40862b62d44fe8b6,2
np.float64,0x7fd9cc477233988e,0x40862c89c638ee48,2
np.float64,0x3ffc123c72d82479,0x3ff297294d05cbc0,2
np.float64,0x3ff58abad58b1576,0x3fe9eb65da2a867a,2
np.float64,0x7fe534887b2a6910,0x40863083d4ec2877,2
np.float64,0x7fe1d3dcb123a7b8,0x40862f208116c55e,2
np.float64,0x7fd4d570dba9aae1,0x40862ad412c413cd,2
np.float64,0x3fffce7d3fdf9cfa,0x3ff4f58f02451928,2
np.float64,0x3ffa76901c74ed20,0x3ff16c9a5851539c,2
np.float64,0x7fdd88ffa23b11fe,0x40862d9ed6c6f426,2
np.float64,0x3ff09fdbb9e13fb7,0x3fd1d2ae4fcbf713,2
np.float64,0x7fe64567772c8ace,0x408630e845dbc290,2
np.float64,0x7fb1a849ba235092,0x40861e6a291535b2,2
np.float64,0x3ffaddb105f5bb62,0x3ff1b9f68f4c419b,2
np.float64,0x7fd2fc3d5025f87a,0x40862a15cbc1df75,2
np.float64,0x7fdea7d872bd4fb0,0x40862deb190b2c50,2
np.float64,0x7fd50ea97eaa1d52,0x40862ae9edc4c812,2
np.float64,0x3fff659c245ecb38,0x3ff4b7fb18b31aea,2
np.float64,0x3ff3f1fbb7c7e3f7,0x3fe608bd9d76268c,2
np.float64,0x3ff76869d9aed0d4,0x3fedb6c23d3a317b,2
np.float64,0x7fedd4efe93ba9df,0x4086333edeecaa43,2
np.float64,0x3ff9a5bd4eb34b7a,0x3ff0ca15d02bc960,2
np.float64,0x3ffd9359cc5b26b4,0x3ff39850cb1a6b6c,2
np.float64,0x7fe912d0427225a0,0x408631db00e46272,2
np.float64,0x3ffb3802fe567006,0x3ff1fc4093646465,2
np.float64,0x3ff02cc38a205987,0x3fc2e8182802a07b,2
np.float64,0x3ffda953dd1b52a8,0x3ff3a66c504cf207,2
np.float64,0x7fe0a487e4a1490f,0x40862e93a6f20152,2
np.float64,0x7fed265ed1fa4cbd,0x4086330f838ae431,2
np.float64,0x7fd0000114200001,0x408628b76ec48b5c,2
np.float64,0x3ff2c262786584c5,0x3fe288860d354b0f,2
np.float64,0x8000000000000001,0xfff8000000000000,2
np.float64,0x3ffdae9f075b5d3e,0x3ff3a9d006ae55c1,2
np.float64,0x3ffb69c72156d38e,0x3ff22037cbb85e5b,2
np.float64,0x7feeae255f7d5c4a,0x408633784e89bc05,2
np.float64,0x7feb13927c362724,0x408632786630c55d,2
np.float64,0x7fef49e072be93c0,0x408633a08451d476,2
np.float64,0x3fff23d6337e47ac,0x3ff490ceb6e634ae,2
np.float64,0x3ffba82cf8f7505a,0x3ff24cc51c73234d,2
np.float64,0x7fe948719ef290e2,0x408631ec0b36476e,2
np.float64,0x3ff41926c5e8324e,0x3fe670e14bbda8cd,2
np.float64,0x3ff91f09c1523e14,0x3ff05cb5731878da,2
np.float64,0x3ff6ae6afccd5cd6,0x3fec4fbeca764086,2
np.float64,0x3ff927f7e0f24ff0,0x3ff06413eeb8eb1e,2
np.float64,0x3ff19dd2b9e33ba5,0x3fdc882f97994600,2
np.float64,0x7fe8e502c5b1ca05,0x408631cc56526fff,2
np.float64,0x7feb49f70fb693ed,0x4086328868486fcd,2
np.float64,0x3ffd942d535b285a,0x3ff398d8d89f52ca,2
np.float64,0x7fc3b9c5c627738b,0x408624d893e692ca,2
np.float64,0x7fea0780ff340f01,0x408632279fa46704,2
np.float64,0x7fe4c90066a99200,0x4086305adb47a598,2
np.float64,0x7fdb209113364121,0x40862cf0ab64fd7d,2
np.float64,0x3ff38617e5470c30,0x3fe4ddc0413b524f,2
np.float64,0x7fea1b5b803436b6,0x4086322db767f091,2
np.float64,0x7fe2004898e40090,0x40862f3457795dc5,2
np.float64,0x3ff3c4360ac7886c,0x3fe58c29843a4c75,2
np.float64,0x3ff504bc168a0978,0x3fe8b9ada7f698e6,2
np.float64,0x3ffd3e936fda7d27,0x3ff3615912c5b4ac,2
np.float64,0x3ffbdc52fb97b8a6,0x3ff2718dae5f1f2b,2
np.float64,0x3fffef6d84ffdedb,0x3ff508adbc8556cf,2
np.float64,0x3ff23b65272476ca,0x3fe0b646ed2579eb,2
np.float64,0x7fe4633068a8c660,0x408630334a4b7ff7,2
np.float64,0x3ff769b754aed36f,0x3fedb932af0223f9,2
np.float64,0x7fe7482d92ee905a,0x408631432de1b057,2
np.float64,0x3ff5dd682aabbad0,0x3fea9fd5e506a86d,2
np.float64,0x7fd68399a2ad0732,0x40862b72ed89805d,2
np.float64,0x3ffad7acc3d5af5a,0x3ff1b57fe632c948,2
np.float64,0x3ffc68e43698d1c8,0x3ff2d2be6f758761,2
np.float64,0x3ff4e517fbc9ca30,0x3fe86eddf5e63a58,2
np.float64,0x3ff34c63c56698c8,0x3fe435b74ccd6a13,2
np.float64,0x7fea9456c17528ad,0x4086325275237015,2
np.float64,0x7fee6573f2fccae7,0x4086336543760346,2
np.float64,0x7fd5496fb9aa92de,0x40862b0023235667,2
np.float64,0x7ff0000000000000,0x7ff0000000000000,2
np.float64,0x3ffb70e31256e1c6,0x3ff22552f54b13e0,2
np.float64,0x3ff66a33988cd467,0x3febc656da46a1ca,2
np.float64,0x3fff0af2eb1e15e6,0x3ff481dec325f5c8,2
np.float64,0x3ff6a0233d0d4046,0x3fec33400958eda1,2
np.float64,0x7fdb11e2d5b623c5,0x40862cec55e405f9,2
np.float64,0x3ffb8a015ad71402,0x3ff2374d7b563a72,2
np.float64,0x3ff1807d8ce300fb,0x3fdb849e4bce8335,2
np.float64,0x3ffefd535e3dfaa6,0x3ff479aaac6ffe79,2
np.float64,0x3ff701e23a6e03c4,0x3fecf39072d96fc7,2
np.float64,0x3ff4ac809f895901,0x3fe7e6598f2335a5,2
np.float64,0x3ff0309f26a0613e,0x3fc3b3f4b2783690,2
np.float64,0x3ff241dd0ce483ba,0x3fe0cde2cb639144,2
np.float64,0x3ffabce63fb579cc,0x3ff1a18fe2a2da59,2
np.float64,0x3ffd84b967db0973,0x3ff38ee4f240645d,2
np.float64,0x7fc3f88b9a27f116,0x408624f1e10cdf3f,2
np.float64,0x7fe1d5fd5923abfa,0x40862f2175714a3a,2
np.float64,0x7fe487b145690f62,0x4086304190700183,2
np.float64,0x7fe7997feaef32ff,0x4086315eeefdddd2,2
np.float64,0x3ff8f853b671f0a8,0x3ff03c907353a8da,2
np.float64,0x7fca4c23b5349846,0x408627257ace5778,2
np.float64,0x7fe0c9bf3a21937d,0x40862ea576c3ea43,2
np.float64,0x7fc442b389288566,0x4086250f5f126ec9,2
np.float64,0x7fc6d382ed2da705,0x40862603900431b0,2
np.float64,0x7fe40b069068160c,0x4086301066468124,2
np.float64,0x3ff7f62a146fec54,0x3feeba8dfc4363fe,2
np.float64,0x3ff721e8e94e43d2,0x3fed313a6755d34f,2
np.float64,0x7fe579feaf2af3fc,0x4086309ddefb6112,2
np.float64,0x3ffe2c6bde5c58d8,0x3ff3f9665dc9a16e,2
np.float64,0x7fcf9998ed3f3331,0x4086289dab274788,2
np.float64,0x7fdb03af2236075d,0x40862ce82252e490,2
np.float64,0x7fe72799392e4f31,0x40863137f428ee71,2
np.float64,0x7f9f2190603e4320,0x408617dc5b3b3c3c,2
np.float64,0x3ff69c56d52d38ae,0x3fec2ba59fe938b2,2
np.float64,0x7fdcde27bf39bc4e,0x40862d70086cd06d,2
np.float64,0x3ff654d6b8eca9ae,0x3feb9aa0107609a6,2
np.float64,0x7fdf69d967bed3b2,0x40862e1d1c2b94c2,2
np.float64,0xffefffffffffffff,0xfff8000000000000,2
np.float64,0x7fedfd073f3bfa0d,0x40863349980c2c8b,2
np.float64,0x7f7c1856803830ac,0x40860bf312b458c7,2
np.float64,0x7fe9553f1bb2aa7d,0x408631f0173eadd5,2
np.float64,0x3ff6e92efc2dd25e,0x3fecc38f98e7e1a7,2
np.float64,0x7fe9719ac532e335,0x408631f906cd79c3,2
np.float64,0x3ff60e56ae4c1cad,0x3feb07ef8637ec7e,2
np.float64,0x3ff0d0803501a100,0x3fd455c0af195a9c,2
np.float64,0x7fe75248a3eea490,0x40863146a614aec1,2
np.float64,0x7fdff61ead3fec3c,0x40862e408643d7aa,2
np.float64,0x7fed4ac7a4fa958e,0x408633197b5cf6ea,2
np.float64,0x7fe58d44562b1a88,0x408630a5098d1bbc,2
np.float64,0x7fd89dcdb1b13b9a,0x40862c29c2979288,2
np.float64,0x3ff205deda240bbe,0x3fdfda67c84fd3a8,2
np.float64,0x7fdf84c15abf0982,0x40862e23f361923d,2
np.float64,0x3ffe012b3afc0256,0x3ff3de3dfa5f47ce,2
np.float64,0x3ffe2f3512dc5e6a,0x3ff3fb245206398e,2
np.float64,0x7fed6174c2bac2e9,0x4086331faa699617,2
np.float64,0x3ff1f30f8783e61f,0x3fdf47e06f2c40d1,2
np.float64,0x3ff590da9eab21b5,0x3fe9f8f7b4baf3c2,2
np.float64,0x3ffb3ca1eb967944,0x3ff1ff9baf66d704,2
np.float64,0x7fe50ba9a5aa1752,0x408630745ab7fd3c,2
np.float64,0x3ff43743a4a86e87,0x3fe6bf7ae80b1dda,2
np.float64,0x3ff47e1a24e8fc34,0x3fe773acca44c7d6,2
np.float64,0x3ff589ede9eb13dc,0x3fe9e99f28fab3a4,2
np.float64,0x3ff72f2cbf8e5e5a,0x3fed4a94e7edbf24,2
np.float64,0x3ffa4f9bbc549f38,0x3ff14ee60aea45d3,2
np.float64,0x3ff975dae732ebb6,0x3ff0a3a1fbd7284a,2
np.float64,0x7fbcf14ee039e29d,0x4086225e33f3793e,2
np.float64,0x3ff10e027f621c05,0x3fd71cce2452b4e0,2
np.float64,0x3ff33ea193067d43,0x3fe40cbac4daaddc,2
np.float64,0x7fbef8f2263df1e3,0x408622e905c8e1b4,2
np.float64,0x3fff7f5bfe3efeb8,0x3ff4c732e83df253,2
np.float64,0x3ff5700a6b4ae015,0x3fe9afdd7b8b82b0,2
np.float64,0x3ffd5099da5aa134,0x3ff36d1bf26e55bf,2
np.float64,0x3ffed8e0f89db1c2,0x3ff4639ff065107a,2
np.float64,0x3fff9d0c463f3a18,0x3ff4d8a9f297cf52,2
np.float64,0x3ff23db5b2e47b6b,0x3fe0bebdd48f961a,2
np.float64,0x3ff042bff1e08580,0x3fc713bf24cc60ef,2
np.float64,0x7feb4fe97a769fd2,0x4086328a26675646,2
np.float64,0x3ffeafbfeedd5f80,0x3ff44a955a553b1c,2
np.float64,0x3ff83fb524507f6a,0x3fef3d1729ae0976,2
np.float64,0x3ff1992294433245,0x3fdc5f5ce53dd197,2
np.float64,0x7fe89fe629b13fcb,0x408631b601a83867,2
np.float64,0x7fe53e4d74aa7c9a,0x40863087839b52f1,2
np.float64,0x3ff113713e6226e2,0x3fd757631ca7cd09,2
np.float64,0x7fd4a0b7a629416e,0x40862abfba27a09b,2
np.float64,0x3ff184c6e2a3098e,0x3fdbab2e3966ae57,2
np.float64,0x3ffafbbf77f5f77f,0x3ff1d02bb331d9f9,2
np.float64,0x3ffc6099a358c134,0x3ff2cd16941613d1,2
np.float64,0x3ffb7c441ef6f888,0x3ff22d7b12e31432,2
np.float64,0x3ff625ba5eec4b75,0x3feb39060e55fb79,2
np.float64,0x7fde879acbbd0f35,0x40862de2aab4d72d,2
np.float64,0x7f930aed982615da,0x408613edb6df8528,2
np.float64,0x7fa4b82dac29705a,0x40861a261c0a9aae,2
np.float64,0x7fced5c16b3dab82,0x4086286b7a73e611,2
np.float64,0x7fe133749d2266e8,0x40862ed73a41b112,2
np.float64,0x3ff2d8146ea5b029,0x3fe2ced55dbf997d,2
np.float64,0x3ff60dac77ac1b59,0x3feb0688b0e54c7b,2
np.float64,0x3ff275d9b024ebb3,0x3fe186b87258b834,2
np.float64,0x3ff533e6500a67cd,0x3fe92746c8b50ddd,2
np.float64,0x7fe370896666e112,0x40862fd1ca144736,2
np.float64,0x7fee7695357ced29,0x40863369c459420e,2
np.float64,0x7fd1e0528023c0a4,0x4086299a85caffd0,2
np.float64,0x7fd05c7b24a0b8f5,0x408628e52824386f,2
np.float64,0x3ff11dcc3b023b98,0x3fd7c56c8cef1be1,2
np.float64,0x7fc9d9fae933b3f5,0x408627027404bc5f,2
np.float64,0x7fe2359981246b32,0x40862f4be675e90d,2
np.float64,0x3ffb10a949962152,0x3ff1df88f83b8cde,2
np.float64,0x3ffa65b53654cb6a,0x3ff15fc8956ccc87,2
np.float64,0x3ff0000000000000,0x0,2
np.float64,0x7fad97ef703b2fde,0x40861d002f3d02da,2
np.float64,0x3ff57aaf93aaf55f,0x3fe9c7b01f194edb,2
np.float64,0x7fe9ecd73f33d9ad,0x4086321f69917205,2
np.float64,0x3ff0dcb79c61b96f,0x3fd4eac86a7a9c38,2
np.float64,0x7fee9c12ffbd3825,0x4086337396cd706d,2
np.float64,0x3ff52c40af4a5881,0x3fe915a8a7de8f00,2
np.float64,0x3ffbcfff59779ffe,0x3ff268e523fe8dda,2
np.float64,0x7fe014cb4b602996,0x40862e4d5de42a03,2
np.float64,0x7fae2370e83c46e1,0x40861d258dd5b3ee,2
np.float64,0x7fe9e33602f3c66b,0x4086321c704ac2bb,2
np.float64,0x3ff648acd74c915a,0x3feb8195ca53bcaa,2
np.float64,0x7fe385f507670be9,0x40862fda95ebaf44,2
np.float64,0x3ffb0e382c361c70,0x3ff1ddbea963e0a7,2
np.float64,0x3ff47d6b6ae8fad7,0x3fe771f80ad37cd2,2
np.float64,0x3ffca7d538f94faa,0x3ff2fd5f62e851ac,2
np.float64,0x3ff83e949c107d29,0x3fef3b1c5bbac99b,2
np.float64,0x7fc6fb933a2df725,0x408626118e51a286,2
np.float64,0x7fe43a1454e87428,0x4086302318512d9b,2
np.float64,0x7fe51fe32aaa3fc5,0x4086307c07271348,2
np.float64,0x3ff35e563966bcac,0x3fe46aa2856ef85f,2
np.float64,0x3ff84dd4e4909baa,0x3fef55d86d1d5c2e,2
np.float64,0x7febe3d84077c7b0,0x408632b507686f03,2
np.float64,0x3ff6aca2e32d5946,0x3fec4c32a2368ee3,2
np.float64,0x7fe7070e3e6e0e1b,0x4086312caddb0454,2
np.float64,0x7fd3657f2aa6cafd,0x40862a41acf47e70,2
np.float64,0x3ff61534456c2a68,0x3feb1663900af13b,2
np.float64,0x3ff8bc556eb178ab,0x3ff00a16b5403f88,2
np.float64,0x3ffa7782e3f4ef06,0x3ff16d529c94a438,2
np.float64,0x7fc15785ed22af0b,0x408623d0cd94fb86,2
np.float64,0x3ff2e3eeb6e5c7dd,0x3fe2f4c4876d3edf,2
np.float64,0x3ff2e4e17e85c9c3,0x3fe2f7c9e437b22e,2
np.float64,0x7feb3aaf67f6755e,0x40863283ec4a0d76,2
np.float64,0x7fe89efcf7313df9,0x408631b5b5e41263,2
np.float64,0x3ffcc6fad4f98df6,0x3ff31245778dff6d,2
np.float64,0x3ff356114466ac22,0x3fe45253d040a024,2
np.float64,0x3ff81c70d2d038e2,0x3feefed71ebac776,2
np.float64,0x7fdb75c96136eb92,0x40862d09a603f03e,2
np.float64,0x3ff340f91b8681f2,0x3fe413bb6e6d4a54,2
np.float64,0x3fff906079df20c1,0x3ff4d13869d16bc7,2
np.float64,0x3ff226a42d644d48,0x3fe0698d316f1ac0,2
np.float64,0x3ff948abc3b29158,0x3ff07eeb0b3c81ba,2
np.float64,0x3ffc25df1fb84bbe,0x3ff2a4c13ad4edad,2
np.float64,0x7fe07ea3b960fd46,0x40862e815b4cf43d,2
np.float64,0x3ff497d3dae92fa8,0x3fe7b3917bf10311,2
np.float64,0x7fea561db1f4ac3a,0x4086323fa4aef2a9,2
np.float64,0x7fd1b49051236920,0x40862986d8759ce5,2
np.float64,0x7f7ba3bd6037477a,0x40860bd19997fd90,2
np.float64,0x3ff01126dd00224e,0x3fb76b67938dfb11,2
np.float64,0x3ff29e1105053c22,0x3fe2102a4c5fa102,2
np.float64,0x3ff9de2a6553bc55,0x3ff0f6cfe4dea30e,2
np.float64,0x7fc558e7d42ab1cf,0x4086257a608fc055,2
np.float64,0x3ff79830a74f3061,0x3fee0f93db153d65,2
np.float64,0x7fe2661648e4cc2c,0x40862f6117a71eb2,2
np.float64,0x3ff140cf4262819e,0x3fd92aefedae1ab4,2
np.float64,0x3ff5f36251abe6c5,0x3feaced481ceaee3,2
np.float64,0x7fc80911d5301223,0x4086266d4757f768,2
np.float64,0x3ff9079a6c320f35,0x3ff04949d21ebe1e,2
np.float64,0x3ffde8d2e09bd1a6,0x3ff3cedca8a5db5d,2
np.float64,0x3ffadd1de375ba3c,0x3ff1b989790e8d93,2
np.float64,0x3ffdbc40ee1b7882,0x3ff3b286b1c7da57,2
np.float64,0x3ff8ff514771fea2,0x3ff04264add00971,2
np.float64,0x7fefd7d0e63fafa1,0x408633c47d9f7ae4,2
np.float64,0x3ffc47798c588ef3,0x3ff2bbe441fa783a,2
np.float64,0x7fe6ebc55b6dd78a,0x408631232d9abf31,2
np.float64,0xbff0000000000000,0xfff8000000000000,2
np.float64,0x7fd378e4afa6f1c8,0x40862a49a8f98cb4,2
np.float64,0x0,0xfff8000000000000,2
np.float64,0x3ffe88ed7efd11db,0x3ff432c7ecb95492,2
np.float64,0x3ff4f5509289eaa1,0x3fe8955a11656323,2
np.float64,0x7fda255b41344ab6,0x40862ca53676a23e,2
np.float64,0x3ffebe85b9bd7d0c,0x3ff453992cd55dea,2
np.float64,0x3ff5d6180b8bac30,0x3fea901c2160c3bc,2
np.float64,0x3ffcdfb8fcf9bf72,0x3ff322c83b3bc735,2
np.float64,0x3ff3c91c26679238,0x3fe599a652b7cf59,2
np.float64,0x7fc389f7a62713ee,0x408624c518edef93,2
np.float64,0x3ffe1245ba1c248c,0x3ff3e901b2c4a47a,2
np.float64,0x7fe1e76e95e3cedc,0x40862f29446f9eff,2
np.float64,0x3ff02ae4f92055ca,0x3fc28221abd63daa,2
np.float64,0x7fbf648a143ec913,0x40862304a0619d03,2
np.float64,0x3ff2be7ef8657cfe,0x3fe27bcc6c97522e,2
np.float64,0x3ffa7595e514eb2c,0x3ff16bdc64249ad1,2
np.float64,0x3ff4ee130049dc26,0x3fe884354cbad8c9,2
np.float64,0x3ff19211fc232424,0x3fdc2160bf3eae40,2
np.float64,0x3ffec215aedd842c,0x3ff455c4cdd50c32,2
np.float64,0x7fe7cb50ffaf96a1,0x4086316fc06a53af,2
np.float64,0x3fffa679161f4cf2,0x3ff4de30ba7ac5b8,2
np.float64,0x7fdcb459763968b2,0x40862d646a21011d,2
np.float64,0x3ff9f338d6d3e672,0x3ff1075835d8f64e,2
np.float64,0x3ff8de3319d1bc66,0x3ff026ae858c0458,2
np.float64,0x7fee0199d33c0333,0x4086334ad03ac683,2
np.float64,0x3ffc06076c380c0f,0x3ff28eaec3814faa,2
np.float64,0x3ffe9e2e235d3c5c,0x3ff43fd4d2191a7f,2
np.float64,0x3ffd93b06adb2761,0x3ff398888239cde8,2
np.float64,0x7fefe4b71cffc96d,0x408633c7ba971b92,2
np.float64,0x7fb2940352252806,0x40861ed244bcfed6,2
np.float64,0x3ffba4647e3748c9,0x3ff24a15f02e11b9,2
np.float64,0x7fd2d9543725b2a7,0x40862a0708446596,2
np.float64,0x7fc04997f120932f,0x4086235055d35251,2
np.float64,0x3ff6d14313ada286,0x3fec94b177f5d3fc,2
np.float64,0x3ff279fc8684f3f9,0x3fe19511c3e5b9a8,2
np.float64,0x3ff42f4609085e8c,0x3fe6aabe526ce2bc,2
np.float64,0x7fc1c6c62a238d8b,0x408624037de7f6ec,2
np.float64,0x7fe31ff4b8e63fe8,0x40862fb05b40fd16,2
np.float64,0x7fd2a8825fa55104,0x408629f234d460d6,2
np.float64,0x3ffe8c1d725d183b,0x3ff434bdc444143f,2
np.float64,0x3ff0e9dc3e21d3b8,0x3fd58676e2c13fc9,2
np.float64,0x3ffed03172fda063,0x3ff45e59f7aa6c8b,2
np.float64,0x7fd74621962e8c42,0x40862bb6e90d66f8,2
np.float64,0x3ff1faa29663f545,0x3fdf833a2c5efde1,2
np.float64,0x7fda02834db40506,0x40862c9a860d6747,2
np.float64,0x7f709b2fc021365f,0x408607be328eb3eb,2
np.float64,0x7fec0d58aa381ab0,0x408632c0e61a1af6,2
np.float64,0x3ff524d1720a49a3,0x3fe90479968d40fd,2
np.float64,0x7fd64cb3b32c9966,0x40862b5f53c4b0b4,2
np.float64,0x3ff9593e3ed2b27c,0x3ff08c6eea5f6e8b,2
np.float64,0x3ff7de8b1f6fbd16,0x3fee9007abcfdf7b,2
np.float64,0x7fe8d816d6b1b02d,0x408631c82e38a894,2
np.float64,0x7fd726bbe22e4d77,0x40862bac16ee8d52,2
np.float64,0x7fa70b07d42e160f,0x40861affcc4265e2,2
np.float64,0x7fe18b4091e31680,0x40862effa8bce66f,2
np.float64,0x3ff830253010604a,0x3fef21b2eaa75758,2
np.float64,0x3fffcade407f95bc,0x3ff4f3734b24c419,2
np.float64,0x3ff8c17cecb182fa,0x3ff00e75152d7bda,2
np.float64,0x7fdad9b9d035b373,0x40862cdbabb793ba,2
np.float64,0x3ff9f9e154f3f3c2,0x3ff10c8dfdbd2510,2
np.float64,0x3ff465e162e8cbc3,0x3fe736c751c75b73,2
np.float64,0x3ff9b4cd8493699b,0x3ff0d616235544b8,2
np.float64,0x7fe557c4a56aaf88,0x4086309114ed12d9,2
np.float64,0x7fe5999133eb3321,0x408630a9991a9b54,2
np.float64,0x7fe7c9009e2f9200,0x4086316ef9359a47,2
np.float64,0x3ff8545cabd0a8ba,0x3fef6141f1030c36,2
np.float64,0x3ffa1f1712943e2e,0x3ff129849d492ce3,2
np.float64,0x7fea803a14750073,0x4086324c652c276c,2
np.float64,0x3ff5b6f97fcb6df3,0x3fea4cb0b97b18e9,2
np.float64,0x7fc2efdfc425dfbf,0x40862485036a5c6e,2
np.float64,0x7fe2c78e5be58f1c,0x40862f8b0a5e7baf,2
np.float64,0x7fe80d7fff301aff,0x40863185e234060a,2
np.float64,0x3ffd895d457b12ba,0x3ff391e2cac7a3f8,2
np.float64,0x3ff44c9764a8992f,0x3fe6f6690396c232,2
np.float64,0x3ff731688b8e62d1,0x3fed4ed70fac3839,2
np.float64,0x3ff060200460c040,0x3fcbad4a07d97f0e,2
np.float64,0x3ffbd2f70a17a5ee,0x3ff26afb46ade929,2
np.float64,0x7febe9e841f7d3d0,0x408632b6c465ddd9,2
np.float64,0x3ff2532f8be4a65f,0x3fe10c6cd8d64cf4,2
np.float64,0x7fefffffffffffff,0x408633ce8fb9f87e,2
np.float64,0x3ff3a1ae3a47435c,0x3fe52c00210cc459,2
np.float64,0x7fe9c34ae6b38695,0x408632128d150149,2
np.float64,0x3fff311029fe6220,0x3ff498b852f30bff,2
np.float64,0x3ffd4485a1ba890c,0x3ff3653b6fa701cd,2
np.float64,0x7fd52718b1aa4e30,0x40862af330d9c68c,2
np.float64,0x3ff10b695a4216d3,0x3fd7009294e367b7,2
np.float64,0x3ffdf73de59bee7c,0x3ff3d7fa96d2c1ae,2
np.float64,0x3ff2f1c75965e38f,0x3fe320aaff3db882,2
np.float64,0x3ff2a56a5a854ad5,0x3fe228cc4ad7e7a5,2
np.float64,0x7fe60cd1cf6c19a3,0x408630d3d87a04b3,2
np.float64,0x3ff89fa65c113f4c,0x3fefe3543773180c,2
np.float64,0x3ffd253130ba4a62,0x3ff350b76ba692a0,2
np.float64,0x7feaad7051f55ae0,0x40863259ff932d62,2
np.float64,0x7fd9cc37cf33986f,0x40862c89c15f963b,2
np.float64,0x3ff8c08de771811c,0x3ff00daa9c17acd7,2
np.float64,0x7fea58b25d34b164,0x408632406d54cc6f,2
np.float64,0x7fe5f161fd2be2c3,0x408630c9ddf272a5,2
np.float64,0x3ff5840dbf8b081c,0x3fe9dc9117b4cbc7,2
np.float64,0x3ff3fd762307faec,0x3fe6277cd530c640,2
np.float64,0x3ff9095c98b212b9,0x3ff04abff170ac24,2
np.float64,0x7feaac66017558cb,0x40863259afb4f8ce,2
np.float64,0x7fd78f96bcaf1f2c,0x40862bd00175fdf9,2
np.float64,0x3ffaca27e0959450,0x3ff1ab72b8f8633e,2
np.float64,0x3ffb7f18cb96fe32,0x3ff22f81bcb8907b,2
np.float64,0x3ffcce48d1199c92,0x3ff317276f62c0b2,2
np.float64,0x3ffcb9a7f3797350,0x3ff30958e0d6a34d,2
np.float64,0x7fda569ef6b4ad3d,0x40862cb43b33275a,2
np.float64,0x7fde9f0893bd3e10,0x40862de8cc036283,2
np.float64,0x3ff428be3928517c,0x3fe699bb5ab58904,2
np.float64,0x7fa4d3344029a668,0x40861a3084989291,2
np.float64,0x3ff03607bd006c0f,0x3fc4c4840cf35f48,2
np.float64,0x3ff2b1335c056267,0x3fe25000846b75a2,2
np.float64,0x7fe0cb8bd8e19717,0x40862ea65237d496,2
np.float64,0x3fff4b1b7b9e9637,0x3ff4a83fb08e7b24,2
np.float64,0x7fe7526140aea4c2,0x40863146ae86069c,2
np.float64,0x7fbfcfb7c23f9f6f,0x4086231fc246ede5,2
                                                                           import itertools
import os
import shutil
import sys
from typing import List, Optional

from pip._internal.cli.main import main
from pip._internal.utils.compat import WINDOWS

_EXECUTABLE_NAMES = [
    "pip",
    f"pip{sys.version_info.major}",
    f"pip{sys.version_info.major}.{sys.version_info.minor}",
]
if WINDOWS:
    _allowed_extensions = {"", ".exe"}
    _EXECUTABLE_NAMES = [
        "".join(parts)
        for parts in itertools.product(_EXECUTABLE_NAMES, _allowed_extensions)
    ]


def _wrapper(args: Optional[List[str]] = None) -> int:
    """Central wrapper for all old entrypoints.

    Historically pip has had several entrypoints defined. Because of issues
    arising from PATH, sys.path, multiple Pythons, their interactions, and most
    of them having a pip installed, users suffer every time an entrypoint gets
    moved.

    To alleviate this pain, and provide a mechanism for warning users and
    directing them to an appropriate place for help, we now define all of
    our old entrypoints as wrappers for the current one.
    """
    sys.stderr.write(
        "WARNING: pip is being invoked by an old script wrapper. This will "
        "fail in a future version of pip.\n"
        "Please see https://github.com/pypa/pip/issues/5599 for advice on "
        "fixing the underlying issue.\n"
        "To avoid this problem you can invoke Python with '-m pip' instead of "
        "running pip directly.\n"
    )
    return main(args)


def get_best_invocation_for_this_pip() -> str:
    """Try to figure out the best way to invoke pip in the current environment."""
    binary_directory = "Scripts" if WINDOWS else "bin"
    binary_prefix = os.path.join(sys.prefix, binary_directory)

    # Try to use pip[X[.Y]] names, if those executables for this environment are
    # the first on PATH with that name.
    path_parts = os.path.normcase(os.environ.get("PATH", "")).split(os.pathsep)
    exe_are_in_PATH = os.path.normcase(binary_prefix) in path_parts
    if exe_are_in_PATH:
        for exe_name in _EXECUTABLE_NAMES:
            found_executable = shutil.which(exe_name)
            if found_executable and os.path.samefile(
                found_executable,
                os.path.join(binary_prefix, exe_name),
            ):
                return exe_name

    # Use the `-m` invocation, if there's no "nice" invocation.
    return f"{get_best_invocation_for_this_python()} -m pip"


def get_best_invocation_for_this_python() -> str:
    """Try to figure out the best way to invoke the current Python."""
    exe = sys.executable
    exe_name = os.path.basename(exe)

    # Try to use the basename, if it's the first executable.
    found_executable = shutil.which(exe_name)
    if found_executable and os.path.samefile(found_executable, exe):
        return exe_name

    # Use the full executable name, because we couldn't find something simpler.
    return exe
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            """distutils.command.install_data

Implements the Distutils 'install_data' command, for installing
platform-independent data files."""

# contributed by Bastian Kleineidam

import os
from distutils.core import Command
from distutils.util import change_root, convert_path


class install_data(Command):

    description = "install data files"

    user_options = [
        (
            'install-dir=',
            'd',
            "base directory for installing data files "
            "(default: installation base dir)",
        ),
        ('root=', None, "install everything relative to this alternate root directory"),
        ('force', 'f', "force installation (overwrite existing files)"),
    ]

    boolean_options = ['force']

    def initialize_options(self):
        self.install_dir = None
        self.outfiles = []
        self.root = None
        self.force = 0
        self.data_files = self.distribution.data_files
        self.warn_dir = 1

    def finalize_options(self):
        self.set_undefined_options(
            'install',
            ('install_data', 'install_dir'),
            ('root', 'root'),
            ('force', 'force'),
        )

    def run(self):
        self.mkpath(self.install_dir)
        for f in self.data_files:
            if isinstance(f, str):
                # it's a simple file, so copy it
                f = convert_path(f)
                if self.warn_dir:
                    self.warn(
                        "setup script did not provide a directory for "
                        "'%s' -- installing right in '%s'" % (f, self.install_dir)
                    )
                (out, _) = self.copy_file(f, self.install_dir)
                self.outfiles.append(out)
            else:
                # it's a tuple with path to install to and a list of files
                dir = convert_path(f[0])
                if not os.path.isabs(dir):
                    dir = os.path.join(self.install_dir, dir)
                elif self.root:
                    dir = change_root(self.root, dir)
                self.mkpath(dir)

                if f[1] == []:
                    # If there are no files listed, the user must be
                    # trying to create an empty directory, so add the
                    # directory to the list of output files.
                    self.outfiles.append(dir)
                else:
                    # Copy files, adding them to the list of output files.
                    for data in f[1]:
                        data = convert_path(data)
                        (out, _) = self.copy_file(data, dir)
                        self.outfiles.append(out)

    def get_inputs(self):
        return self.data_files or []

    def get_outputs(self):
        return self.outfiles
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     INDX( 	 tt           (                                  '     ` L     '      V V^^       6               a p i . h s . 5     p \     '      H H@^@^h      e               p l u g I n f o . j s o n p p ,     p `     '      V V3	^3	^ 0      .               s c h e m a C l a s s . c p p ,     p \     '      x x./^./^ P      @               s c h e m a C l a s s . h     2     h V    '      x x^^       4              
 t o k e n s . c p p   '     h R     '       y^y^                      t o k e n s . h       +.     x h     '       wX^wX^ 0      #               w r a p S c h e m a C l a s s . c p p S4     p ^     '      H H7^7^       	               w r a p T o k e n s . c p p                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  //
// Copyright 2016 Pixar
//
// Licensed under the Apache License, Version 2.0 (the "Apache License")
// with the following modification; you may not use this file except in
// compliance with the Apache License and the following modification to it:
// Section 6. Trademarks. is deleted and replaced with:
//
// 6. Trademarks. This License does not grant permission to use the trade
//    names, trademarks, service marks, or product names of the Licensor
//    and its affiliates, except as required to comply with Section 4(c) of
//    the License and to reproduce the content of the NOTICE file.
//
// You may obtain a copy of the Apache License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the Apache License with the above modification is
// distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied. See the Apache License for the specific
// language governing permissions and limitations under the Apache License.
//
// GENERATED FILE.  DO NOT EDIT.
#include <boost/python/class.hpp>
#include "{{ libraryPath }}/tokens.h"

{% if useExportAPI %}
{{ namespaceUsing }}

{% endif %}
namespace {

// Helper to return a static token as a string.  We wrap tokens as Python
// strings and for some reason simply wrapping the token using def_readonly
// bypasses to-Python conversion, leading to the error that there's no
// Python type for the C++ TfToken type.  So we wrap this functor instead.
class _WrapStaticToken {
public:
    _WrapStaticToken(const TfToken* token) : _token(token) { }

    std::string operator()() const
    {
        return _token->GetString();
    }

private:
    const TfToken* _token;
};

template <typename T>
void
_AddToken(T& cls, const char* name, const TfToken& token)
{
    cls.add_static_property(name,
                            boost::python::make_function(
                                _WrapStaticToken(&token),
                                boost::python::return_value_policy<
                                    boost::python::return_by_value>(),
                                boost::mpl::vector1<std::string>()));
}

} // anonymous

void wrap{{ tokensPrefix }}Tokens()
{
    boost::python::class_<{{ tokensPrefix }}TokensType, boost::noncopyable>
        cls("Tokens", boost::python::no_init);
{% for token in tokens %}
    _AddToken(cls, "{{ token.id }}", {{ tokensPrefix }}Tokens->{{ token.id }});
{% endfor %}
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       """distutils.command.build_scripts

Implements the Distutils 'build_scripts' command."""

import os
import re
from stat import ST_MODE
from distutils import sysconfig
from distutils.core import Command
from distutils.dep_util import newer
from distutils.util import convert_path
from distutils import log
import tokenize

shebang_pattern = re.compile('^#!.*python[0-9.]*([ \t].*)?$')
"""
Pattern matching a Python interpreter indicated in first line of a script.
"""

# for Setuptools compatibility
first_line_re = shebang_pattern


class build_scripts(Command):

    description = "\"build\" scripts (copy and fixup #! line)"

    user_options = [
        ('build-dir=', 'd', "directory to \"build\" (copy) to"),
        ('force', 'f', "forcibly build everything (ignore file timestamps"),
        ('executable=', 'e', "specify final destination interpreter path"),
    ]

    boolean_options = ['force']

    def initialize_options(self):
        self.build_dir = None
        self.scripts = None
        self.force = None
        self.executable = None

    def finalize_options(self):
        self.set_undefined_options(
            'build',
            ('build_scripts', 'build_dir'),
            ('force', 'force'),
            ('executable', 'executable'),
        )
        self.scripts = self.distribution.scripts

    def get_source_files(self):
        return self.scripts

    def run(self):
        if not self.scripts:
            return
        self.copy_scripts()

    def copy_scripts(self):
        """
        Copy each script listed in ``self.scripts``.

        If a script is marked as a Python script (first line matches
        'shebang_pattern', i.e. starts with ``#!`` and contains
        "python"), then adjust in the copy the first line to refer to
        the current Python interpreter.
        """
        self.mkpath(self.build_dir)
        outfiles = []
        updated_files = []
        for script in self.scripts:
            self._copy_script(script, outfiles, updated_files)

        self._change_modes(outfiles)

        return outfiles, updated_files

    def _copy_script(self, script, outfiles, updated_files):
        shebang_match = None
        script = convert_path(script)
        outfile = os.path.join(self.build_dir, os.path.basename(script))
        outfiles.append(outfile)

        if not self.force and not newer(script, outfile):
            log.debug("not copying %s (up-to-date)", script)
            return

        # Always open the file, but ignore failures in dry-run mode
        # in order to attempt to copy directly.
        try:
            f = tokenize.open(script)
        except OSError:
            if not self.dry_run:
                raise
            f = None
        else:
            first_line = f.readline()
            if not first_line:
                self.warn("%s is an empty file (skipping)" % script)
                return

            shebang_match = shebang_pattern.match(first_line)

        updated_files.append(outfile)
        if shebang_match:
            log.info("copying and adjusting %s -> %s", script, self.build_dir)
            if not self.dry_run:
                if not sysconfig.python_build:
                    executable = self.executable
                else:
                    executable = os.path.join(
                        sysconfig.get_config_var("BINDIR"),
                        "python%s%s"
                        % (
                            sysconfig.get_config_var("VERSION"),
                            sysconfig.get_config_var("EXE"),
                        ),
                    )
                post_interp = shebang_match.group(1) or ''
                shebang = "#!" + executable + post_interp + "\n"
                self._validate_shebang(shebang, f.encoding)
                with open(outfile, "w", encoding=f.encoding) as outf:
                    outf.write(shebang)
                    outf.writelines(f.readlines())
            if f:
                f.close()
        else:
            if f:
                f.close()
            self.copy_file(script, outfile)

    def _change_modes(self, outfiles):
        if os.name != 'posix':
            return

        for file in outfiles:
            self._change_mode(file)

    def _change_mode(self, file):
        if self.dry_run:
            log.info("changing mode of %s", file)
            return

        oldmode = os.stat(file)[ST_MODE] & 0o7777
        newmode = (oldmode | 0o555) & 0o7777
        if newmode != oldmode:
            log.info("changing mode of %s from %o to %o", file, oldmode, newmode)
            os.chmod(file, newmode)

    @staticmethod
    def _validate_shebang(shebang, encoding):
        # Python parser starts to read a script using UTF-8 until
        # it gets a #coding:xxx cookie. The shebang has to be the
        # first line of a file, the #coding:xxx cookie cannot be
        # written before. So the shebang has to be encodable to
        # UTF-8.
        try:
            shebang.encode('utf-8')
        except UnicodeEncodeError:
            raise ValueError(
                "The shebang ({!r}) is not encodable " "to utf-8".format(shebang)
            )

        # If the script is encoded to a custom encoding (use a
        # #coding:xxx cookie), the shebang has to be encodable to
        # the script encoding too.
        try:
            shebang.encode(encoding)
        except UnicodeEncodeError:
            raise ValueError(
                "The shebang ({!r}) is not encodable "
                "to the script encoding ({})".format(shebang, encoding)
            )
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      VCO   %.%)@C$@WY#Wnn##$%$.%@C$C$WY#Y#nn#n#n###$#$%+3+.%C$G*C$Y#[*Y#n#n##*##*#$*$+*3+C$G*G*Y#[*[*n#o*n#*o*#**#***+1713+G*J0G*[*]0[*o*o**0**0**0*1071G*J0J0[*]0]0o*p0o*0p0*00*00016N5J0]0_5]0p0p005005005065N5]0_5_5p0p5p05p5055055Q9N5_5a9_5p5p559559559Q9_5a9a9p5q9p59q9599599c=a9q9c=q9r=@22@222@@@V@22@@2@@222@@VV2|xyyxypyyy||hyxyxyxpp>@@><>@>A><>@CD@>@>;>;9<<9<<:<><=>AABACBABC@BiQjRiSjQiPjNhQhSgThQiPiQhSiSiTkMjMkIkQjNkMjNiOjMiTjSiVjSjQkQn^oZo]oSnRnKpYoVoSpao^p^o^pYp^n`n^oaoao]pbgOhNgPiOhNiMgPiOhQfPgOfQgNhNgOfQgPgQjMiKkIjMiOiMiMhMiKgRhQgTgQhQgRW*W+V*X*X+W*nHoEoInEoCoEoIpFpJoEpCpFmJnHnKmHnEnHmDnBnEmBn?nBnBn@oCoCo@pCpCpAqDpFqDqGpJqGqJpMqJqMoLpJpMnKoIoLa4b3c4a4a3b3`4`3a4c5d3e4b4c4c5`5a4b4_5`4`5_5_4`4_4_3`3`3`2a3a3a1b2b3b2c3c4c3d3b6a5c5a6a5b6d6c5e4c7c5d6_6a6b7_5`5a6b7b6c7987:8:786998::9876;<=8:;:;<6653023131.01/14244245346353132/1/../.-0.0202]2]3\3^1^2]2^2^3]3_1_3^2[2Z4Y4\1\3[2]0]2\1^0^1]0_0_1^1`1`2_2_3_4^3^3^5]5]3]5\4\3\4Z4fLgLfMgLgKhLeLfLeMeMfMeNiKiJkIhMhLiKhLgKiJeOgNfPeNgMeOgMhMgN[C\A\D[?\A[B^F]D]C]E]D^F[E[C\F\F\D]E[=Z<Z7\A[?[=[?ZAZ<W:Y?X?Y;Y?X:X?YBXBW7W;V7W7X:W:Y7X:X7Z7Y;Y7Z<Y?Y;ZAZBY?[CZFZBZBYEYBX?XBW@W;X?W@W,V+X,T+V+W,S*T+R+1/10.1/,,.,,3112132000.0,*,,*,,**,**/,,1//5*4+4*4,5,5-4+5+5,qSqWpRrTrXqSrXq^qWoMpRnKpNpRoMqPqSpNrQrTqPsZr]rZs^s_r]r]s_r`pRqWqXsErHrEtFsIsEsIrLrHtJsLsIqAqDpArBrEqAtBsErBuCtFtBuGtJtFuKtNtJvNuQtNtNsNsLsLrNrLrLqMqJrHqJqGrEqGqDGEGHGGEEDGEGGFGHGGHHGIIHGFFFDDEDCECDCCBDDCFEDSCRCRBTDTBUETBSCSARDRCSDRAQBP@SARBRARBRCQBD9E:D:E9F:E:C:D;C;F8F9E9F8G9F9F9G:F:E:F;E;E:E;D;8679:8676878kCjCkBjFjDkCkAj@l>kBiAj@jIjFkFiDjHjIiDjCjF976:87644754;99<:9>;:>;;;988655434324223215439659-:+;-9+:):+;-;,<.:+;*;,9/9-:/8-9+9-8+9)9+8(9)8)9(:)9):);(;*;*<(<*;,<*<+;,>-<.>1>-A0;/<.>1:/;-;/+**,+++****)001w0w1v1u1u2t2g;e9f8i>f<g;f<c:e9h?e=f<g8d6e4g8g;f8j<g;h:l>i>j<j@h?i>iAgAh?iDgCgAgAe?e=e=b;c:b7b;_6c7c:b7d6e9c7Q=Q<R<R<Q;R:P?R>P@O=Q<P>P<Q;Q<P>Q=P?S9R9S7R<R:S9R:Q:R9w2w3v3x3w3x2x2y1z2u3v4t4y1x2w2L9L:K:M8M9L9M9M:L:N8N9M9J:J;I<K9K:J:K8L9K9L7M8K8M7N8M8N7O7N8O7O9N9N9N;M:L;N;M<L:L;K;K:K;J;??AA@B>?@=>?@AB><;>@>><<DCGBBDB@CONONNMPOPNNOOPPMMLMMLz6{:z:|6{:{6{:z>z:{:|>{>z2z6y6|2{6{2}3|6|2}6|9|6|9}>|>|>}B}C|>|C{>{>zBz>z>yAy>z:y>y:y6z:y:B@@B@@@=>@>=DBBDBBECBFCCC@C@>@><>><=><;>;;@>>B@@GGIGIGEFGDFEIHIIIJIJKJKLIIJHIJGHIGHHIJKHJHHFFMMQKLMLKME/H.H0E-H,H.H0J/K1H.J-J/B.D1A0C,E/B.D+E-C,E*F,D+G+H,F,H,J+J-J-K,K-J/K-L/K1L/M2L4M2O6H2K1L4D1H0H26*5*5)6+5+6*5.6-6.6-5,6+^C^@_C^@\<]<aG_D`C_G_C`G^F^C_G]C]A^C\A\<]A\<Z7[7\<\7]<]<\7]7^;]7]6_A]<^;_D_A`CPQRPQQRRSQRRPPQOPPNOPRRSRSTSTTTTVSSTQRSLLKMMLJJFKKJNNMPNPMNN>=?<<;A@D?>@;9:><;C+A+B*A,A+B,A*A+@,D+D*E*C,C+D+C+B*D*A0A,B.?-@,A,B.B,C,@)A*@*A*?+@*i:i;h9j<i;i:i9h9g8h9h:g8l>j<j;j;i:i9686776565665676877878887Z,[,[-fDdCdAcDdCdDdAcAb>gGgCjIeGfDgGgCdAe?bDdGcIbDcAcDdGdDeGb;a<_6e?b>b;b>aAa<Z,Y+Z+X*X+W*HJJGHFHHGKKJJJHKKLKJJR>T<S>S;T9T<S>T<T@P@R>RAS9S;R<S8U7T9U7U9T9U9V7U:T<U:U>T@U>UBTBUBUESAT@TBRAS>SAW2V0X0U2S0V0X0V.Y/V0T.V.Y4W2Y2W4U2W2T4R2U2Q5P2R2R2Q/S0S0R-T.R-T,T.V.T,W-Y/W-Y.[/Y.\.Z0Y/[/Y2X0Z024424446646602102/012/10134466678676678689466144-++/.-.++/-.*)),+*.-,0/.1//1//11//.---++**+**+*)A9A:@:t5u5s6u5u4v4r6s6r7s6u6t7r5t5r6t4u4t5w5x3z2u6v4w5MMNONPNNOMNNMNMMNMOPONOONNOkTlQkUkQlNlQkUlRlWlQmOlRjSkQkTkMlJlNlNmKmOmOnKmPlRmPmSlRmVlWlWlZkZkYlWkZjUkUkYpUq[pYp^q[q^pRoSnKqXpUpRpUpYoSq^pZqXp^q`paBBCBBCCCDA@?ACAAA@FEGDDFKKJMKLGHEIIGIJHLJLLLKJJIMNPMMNB:B9C9D:C9D9B;B:C:DEEFEEDEEEDDDEEEFGFEE*+,*++,--+,-)**)**)**)***+++,,,-.-./-//./0,-.*,,ONPONONLNQPRQPQQOQPOQNMOMLMLJJLJLLJLNLNPNPACCCEFCEE?A??@A?@@@BCCDEEGHEHEEGFFGECECDDEDDEEDDDDEO-P.O/O/P/P0O,P-O-R-Q,Q+R-P/P-P-P,Q,O1P2O6O/P0O1P0Q/P2BAAA@>DBDDBBBA@BDDB@CCDD>>;@>>>@>EDCCDCEEDDCCCDDBCCCDDCCBBCBN-M.M-M/N/N0L-M.M/O,N-N,O-N/N-N,M-M,M2O1O6L/N0M2N0O/O1L,K-K,M,L-L,L-L/K-?==@>==;==<;B@?BA@A>@=<><:9;98;88987<;9?=<POOPOPl:l;k:m;l<l:m<l=l<k9k:j8l9k:k9m:l:l9n=m>m=m=m>l=l;l<k;gJfKfJjIiJhIgJiJgKfKgKfLfKeLdLeJdLdKr>q>q=s?r?r>q@q?r@p?q>q?r@r?s@q;p<p9r=q=q;q=p=p<tAs?uAs@s?tAs?r>r=34234555456612/121231332443678687677243i8i9h8f5g8e4h6h7f5j8i8i7j9i9i8i7h8h6j;k<l>i9j:j;J9I9J8I;I:J9I:H9I9K8K7L7K9J8K8J:J9K9I<I;J:I<H:I;H;G:H:G;F:G:H:G9H9H9G8I8I9I8J8[0\1[1\/\0[0]0^/^0]0]/^/Y2[2Y4Z0[1Y2[1\1[2\.\/[/].\0\/[/[0Z0FGFGGFEFDEFEFGFGGFGFEHHGTSRVUTUTSVVUQPPSRQTTSVVTWVVXXVZ[XXYVVUTTSRSRQRQPn>o=o>n<o;o=o>p=p>o=o;p=m<n;n<m;n:n;n;o:o;o;p9p<p@p?q@o?p>p@n?o>o?255255578577123122022/1224556779979:8::9:;589355A@?@??AABNONOPPNNOMNMNONPPQ3253111/21..5537577437484140.1-+..+,/,+-+,//-32/AA@ABA@AAABB@??A@?BAAX,X-V,Y.X-Z-Z-\-\.T+T,Q+W,V,T+V,W-T,\-Z-Y,=+>+>,=)>*=+@*?)@)@*>+?*?*>)?)>-?-A0>-=+>,>,?+?-=)<*<(=)<+<*<98><<<99854;88><;A>>B>>C?>?A?=?<9<99779768659;;=;:;>>6849969;8?=;?>=;:9>AA>;>>?A|L}O|O|L}J}L}O~M~O}L~J~M{P|R{S{L|O{PzJ|L{LzJ{F|I|I}G}J}J~F~J~FJ~J~JM~M~MN~O~OP~Q}O~Q}R|O}R|RnVmUnSmXnWnYnRmPnKoVnSnRnSmSmPm^oZn`m\nZm^nZoVoZlZmXl]l]nYm\v^u^v\u`u^v^t`u_tat_u^u_v[uZvUv\u\uZuau`v`u`v_v`FIFFHHHJHFFGEFEFHFHIJJKJJKJIJHFHGu3u2v2s4t4r5t4u3v3t2u2t3s3t3s4w2w1x1v3v2w2~6~9}66~9~69=~9~3}6}39===A=~=@~A}>~A}B}9~=}>4-4,5-LKJLMLNNPNMNKLLKMNKMMMPNMPPJKLIKKIKKIKIKMKMPMORPPRRPRSPRPNPN10//0.1//203/01323-,*/.-./,kFlDlGlDmAmDlJmHmJkIlGlJkFkDlDlDkAlAkAl>lAlAm?mAlGmDmH7*6+6*7+6-6+6(7*6*7(8)7)8)7+7)8+7-7+8-8/7-7-7.6-r<s<s>q;r;r<s?t?uAr=s>s?s>s<t?p9r:q;q;r<r=s:q8q7s:s<r:../,-.,-,003./0/.0*,+*,*,**,.,*,*6995899<=9<<3663552555858;<<=?<?@=@A=A=9==699;:<9:;<:;:<;<;<9:99;:::9;:::89:8::;:;:::98:88987AAD?=A=<<<;:445567456245234223234445465576687889678556fIeHgIdKeIeJcJdIeIeJfIgJdGeHdIcIdIcJhIgGjIgJgIhIgGeHeG0212231122230/.02000/4363343232/1/-//-/3133134232/20./.,..+--+--+,/,.1.0656554446757657545v1v0w0v1u1v0s2t2s3l>k=l=k:j9j8k:j;j9way`xbv`x`wax`z]y`w^x\x`wdydxfvcxbwdvbwavcuav`vbv`v_w^w^v[w[v[wWw[w[yWx\x\zWz]{\zW{Vy`{\zbxbzbydOONOPOQQPPPOPQQQQRNLLNMLLJJLJJPMQPNPPONROQOMOMJMKHJJHJJHGIGGKJIMLK+**+**,++,++,,+-,,-,,,+++***))*)))*)QCRBRCIJJHJHJLMJJLFIJFIFFHFHIJIJJMNNKMMJJK56635411201/001112012010HJHKMMEHHHJHJMJMPMMPMNQMJMKHJK1/021/0.-/-.211421632537313/-1-,,.,+-+*-**.--10.001=>@@BA;=<=><BDA@AB>?@3041/3/-0/-/5474454344111///-/-*--*--+--+*0--404*++yIxMxIyLxPxMxIwLvHxMwOwLzFyIyEzJyLyI{LzPyL{SzP{PzPySxPxPwRwOwOvQvNwLvNuKvHuKuGvDuGuCwDvHvDyExIwDW@V@V>WBVAW@W;U:V7W@V>W;V>U>U:XEWBXBWDVCWBUEVBVFUBV@VB_;a@`@a@aD`@^6^;]6^6`;_;a<a@`;bDbHaDaDaH`C_;_A^;P8P9O9O;Q:P<Q8Q:P9N;N<M<O9O;N;Q7Q8P8R6R8Q8S7R9R8N=P<O=O;N=N<t9v<u<v8x:v<u<v?u?v<x>v?t7s:q7t7v8t9u6x7v8w5y6x7x7y:x:x:y>x>x>yAxAv?xAwBu?wBvBu?uAt?u<t?s<t9s<s:uXt[tXtXs[sXt[s]s[vUuXuVuZt]uXt_t]u\s`s]t^sXsZrVsRrVrQtUsXsRuVtXtUX,Y+[-V+X+X,T*U+S*V*W+U*~[}Z~W~_}`~[}`|\}ZUSSY~WU[~[Y^~_[~a|b~_|d{f|b{fxfyd|cydzb|\zb{\|\{V|V}Z|V}U~W}US>>@>;<@>>><<@@C@>>;:9<99<9:><<>=ABAAB@AC@@iQiPjRjQjRiPjSiSjRhQiQhShQiOiPhSiQiSkMjNjMkQjQjNjNiPiOjViVjSiTiSjSn^oYoZoSoVnRpYoYoVpapbo^o^oYpYoan^o]gPhNiOfPgNgOgNhMhNfQgOgPjMiMiKiMhNhMgQgPhQW*X+W+X*Y+X+nHnEoEnEnBoCoIoEpFoEoCpCmJmHnHmHmDnEmDmBnBmBm?n?oCn@o@pCo@pApFpCqDpJpFqGpMpJqJoLoIpJnKnHoI`5`4a4a4`3a3`4_4`3c5c4d3_5^5_4`3_3`2a3`2a1b3a3b2c4b3c3a6`5a5`5b4a5c7b6c5c5a5b4_6_5a6b7a6b69:89:9:;:897;:<88:::;6766883103111/.1//42243253363332120//0.//../-.-,200]2^2]3^1_1^2^2_3^3[2\3Z4\1]2\3]0^1]2^0_0^1_0`1_2`1a1`2_2`2_3^3_4^5]3^3]5\3]3\4fLgKgLgMfMgLeMfLfMiKhLiJhMgLhLeOgMgNeNfMgMgMgLhM]D\D\A[C[B\A]E\D]D]C]D\A[CZA[B\F[C\D[=[?Z<[?[BZAW:X:Y?X?Y?YBY?ZBYBW7X7X:Y7Y;X:Z7Z<Y;Z<ZAY?ZA[CZB[C[EZFZBZFYEXBYBYEXBYEXEW;W:X?1./0../.,..,231201230.,,,**,**,,*,,*//,5*5+4+4,4+5,5*4*5)qSrXqWrXr]q^pNqSpRqPrTqSrVsZrZsZs^r]q^r]r`sEsIrHtFtJsIsIsLrLtJtNsLqArEqDrBsErEtBtFsEuCuGtFuGuKtJuKvNtNvNvQuQtNuQsNsLsNrNrLrNqMrHrLqJrErHqGGGEHGGEGEGGFHGGHIHIKIHIGFFDEFDCDCDEDFGETDSDSCSDRCSCTESDTDTBTDSCRARBQBSASCRBD9E9E:E9F9F:C:D:D;F8G8G9F9G9G:E:F:F;D:E:D;8878988968:89::8:9976677665665766v0u1u0kCjDjCkAkBj@kBjCiAkFjFkCiDjFjHiDiAjC9:7:;8674785;<9<>:>?;;;98965644534423425649969-9+:+9+9):);-:+;,:+:);*9/8-9-8-8+9+8+8)9)8(9(9)9(:(:):):(;(;*;(<(;,;*<*;,<+>->1<.>-;/;-<.:/9-;-++*,,+++*0/0w0x1w1w1v2v1u1v1u2u2v1v2g;f<e9i>h?f<f<e=c:h?gAe=g8f8d6g8h:g;j<i>g;l>j@i>j@iAh?iAiDgAiDjIgCgAgCe?e=e?b;b7c:b;c7e9c:d6f8e9R<Q<Q;P?Q=R>R>Q=R<O=P<Q<P<Q:Q;P>Q<Q=S9R:R9R:Q;Q:w2x2w3z2x3x2x3v4w3u3w3v4x1y1w2QPPL9M9L:M8N8M9M9N9M:N8O7N9J:K:J;K9L9K:K8M8L9L7M7M8M7N7N8O7P7O9N9O9N;L;M:N;L:M:L;K:L:K;?>?>@?A?@>=?=<>@?A>><>@@DBCBABB@@NONPNONMNOOPLMLMNMMNMz6{6{:|6|9{:{:{>z>{:|9|>z2{2z6{2{6z6|2|6{6}3}6|6}6}9|9|9}9}>|>}>}B|>}C|C{>|CzBz>zByAz:z>y>y6z6z:BB@BC@@@=@@>DDBDEBEFCFGCC@@@>>>;<><<>=<>>;@@>BB@GFGFGGIGIEEGGHIIHHJIKHHIGGHGFHIHJFHHHKJMLMKJLLJKE/E-H.E-F,H,H0H.J/H.H,J-B.E/D1C,E-E/D+F,E-E*G+F,G+H+H,H,H+J+J-J+K,J/J-K-K1J/L/L4K1M2H2H0K1D1E/H06-5-5,6*5+5*6+5,5+5.5-6-^C]A^@^@]A\<aG`H_D_G^C_C^F]C^C]C\A]A\A[=\<\<[=Z7\<[7\7^;]<]7_A^A]<_D^A_APPQPOQRQRQQRPOPONPNNORQRRRSSRTTSTSRSQPRLMLMNMNLMJKJKLKJKLNONMLKPNNMLN><=<=<A?@?=>9:;;<9<;:C+B,A+A,@,A+A*B*A+D+C+D*C,B,C+A0?-A,?-?+@,B.A,B,A*@,?+i9i:h9h9i;h:j;j<i:678566687887877fDdDdCcDcAdCdAdCcAgGfDgCeGdDfDgCfDdAbDcDdGbDaAcAdGcDdDb;b>a<e?dAb>b>cAaAX*Y+X+HJHKLKJKJKJKR>S;T<S;S8T9T<T9U9R<S;R>S7T6S8S8T6U7U9U7V7T<U9U:T@T<U>TBT@UBSAS>T@RAR>S>W2U2V0U2R2S0X0V0V.V0S0T.Y4W4W2W4T4U2T4Q5R2Q5O6P2R2P2Q/S0Q/R-R-Q+T,V.T.T,Y/V.W-[/Y/Y.Z0X0Y/Y2W2X02242144464460/2022/21123436667687667668446124-.+//..-+//-*+),-+./-01/11/11/121/1.-.-+-*++*++*@:@9A9A9B9A:t5u4u5r7s6t7s6u5u6r5t4t5r6t5s6w5v4x3u6u5v4LMMNMNLLMNOOMLMOPPOPPkTkQlQkQkMlNkUlQlRlQlNmOjSkTjUkMkJlJlNlJmKmOmKnKlRmOmPlRmSmVlWmVlZkYkUlWjUkTkUp^pYq[pRpUoSqXpZpUr`raq^raqaq^q`p^q^BABCBCAA@ACCABAFDEDCDDCCKLKGIHIJIIJJLKJLMLJKJMJJMLMC:B:C9D:C:C9C;B;C:B:A:B9DEEFEEEEDDDEFGFFFE**+**+,+-++,))*))*))*))***+++,,,--,.--/.-/,,-**,ONNNLLMLLQPPQOPQOOPNONMMLLJLJJNLLPNNA@C@@CCCE?>@CBDEDGEHHEHGFGGCFEACCDDEDDEEEDDEDEDEO-P-P.O/P.P/O,P,P-R-P-Q,R-Q/P/O1P0P2P0P/Q/BBAAA@DBBDDBBBABCDB@@>@@DDCDECCCDBCCCCDCDCBCCN-N/M.M/M.N/L-M-M.O,O-N-O-O/N/N,N-M-M2N0O1L/M/N0N0N/O/L,L-K-M,M-L-L-M/L/?@==;;=><AB?BC@BCAA=>=<<<<:;<9;;89;8<=;m;m<l<m<m=l=l9l:k:m:m;l:m<n=m=n=n?m>l=m>l>k:l;k;hIiJgJjIkIiJfKgJgKfKfLeLdLfJfKeJfJdLq?q>r?r>r?q>q@p?q?p?p=q>r@q?r?q;q=p<r=r>q=q=q>p=s@r?s?354565546122132343454456668567345224f5h7g8g8h7i9j8j9i8j9j;i9i7i8h8j;j:k<J9I:I9I;H:I:I:H:H9K8J8K7K9J9J8J:I;J9I<H;H:H;G;G:G;F;F:H:G:G9H9G9G8I9H9I8]0\1\0[0\0\1]0\0]/Y2[1[2Z0[0[1\.].\/].]/\0[/\/[0GHGEFFEFFFGGGHGHGGTUSVVUUVTVXVQRPSTRTVTVWVWXVXZXZ^[X[YVYUTUSSTRRSQBBAn>n<o=n<n;o;o>o=p=n=m<n<m<m;n;m;m:n:n;n:o:o;o:p9p=o;p<o?o>p>n?n>o>2252255575571121020/2/0121454676977987:98:558325A@@?@A@A??@?A@AOOPNMNMNNMNNNOOOOPONO3123411./11.5757357847444010-.-*+..+/.,-/+/2/352AAB@A?AA@Z-X-X,Y,Z-X,Y.Z-\.Y.W-X-T+V,T,V,X-W-?*>+>*=+>*>+@*?*?)@*?+>+?*>*>)>->,?->-<+=+>,>+?+>)>*=)=)=+<+<<9>><<=9885;<8>><AB>BC>CC?=??9=<997997896=>;;;>6989:99;;??=??>;=:>>A>;;>>?|L}L}O|L|I}J}O}L~M}L}J~J{P|O|R{L|L|OzJ|I|LzJzF{F|I{F}G}J}G~F~FFJ~JJM~MMN~ONP}O~O~Q|O}O}RnVnWmUmXmUnWnRnSmPoVnVnSnSmUmSm^nZoZm\nYnZnZnVoVlZmVmXl]mXnYt`t_u_t_u\u^v[v\uZv\u^u\u`tau_u`v^v_HJJHJJFEFEFFEEFDFFFGHHGIIKJJKKJKKFIHt4t3u3t3u2u3s4t3t4s3t2t3w2v2w1v3u3v269~9~9=~=~3~6}6~36~6~336=A@~==@}>~=~A}9~9~=}6~9}9LLKLMMNMMKKLLLMKKMKKMMPPMMPJIKIIKIIKIKKKMMMOPORRPPRPPRPSRNPPKNN41111/210302-.,//..0/lGlDmDlDlAmAlJlGmHkJkFlGkJjIkFlDkDkAlAl?m?7*7+6+7+7-6-5)6(6*6(7(7*7(8(8)8)8+7+8+8-7-8-9/8/7-8/7/6-7.6/r<r;s<q;r:r;r:s<r;s?s>t?r=r<s>p9q8r:s:r:q8.-.,,-,.-0/0/..*,,*,,,,.,,*,..*,,65955899<98<33632558888;<;=<<?=<@=AA99=669;::;:;9::<;<<:::;<<;;9::99;:;:::8:;:;;:887787::9A?A?>=<<:=><434324546223212112434466567678878657545dIeHeIfIeIeHdKcJeIeJeIfIcIdGdIdGeGeHhIgIgGgJfIgIgGgIeH02210121200/0220104333233221//2///--/.-31032142220/0...,,.,+-++-++/-,1/.645445565546434755665544t2t1u1k<j;k;k:k;j;l>k<l<l=k=k<l<k<k;wax`y`v`w^x`x`x\z]w^w[x\wdxbydvcwaxbvbv`waw^v_v[v[vUwWw[wWyWx\yWzW{\z]zWy`z]{\xby`zbPQPOPPQQRPPQNNLNOMLLJLMJPNMPNNPQOROOOMMMKJJHHJJHIJGKLJMNL++*,,+++*,,+,-,--,--,,,+++***)**))**QBRCQCIHJJJLFFIFHHFHHHHIJMLMMNKJMJIJ564455011101223212001011HJKKMNKJMFEHEHHHJJJMMMPPMPPMPPJNM12/2310/./1-2414626735333/1/----,.-,-.+--*.0-1100/0=<>@>B;:=ADD@?A3/01///--/--54443441344111//---**-**-*+--+00-400**+yIyLxMyLzPxPxIxMwLxMxPwOzFzJyIzJ{LyL{L{PzP{SzTzPzPzTySxPySwRwOwRvQwLwOvNvHwLuKvDvHuGwDxIvHyEyIxIW@VAV@WBVCVAW;V>U:V>V@U>XEWDWBWDVEVCXBWBW@UEUBVBUBU>V@_;`;a@`@aD`C^6_;^;^6_6`;_6a<`;aAbDaDbDcIbHaDbHaH_A`@`C_;`@_AO9P9O;P8Q8P9O;P9Q:Q8R8Q:N;O;N<P7P8O9P7Q7P8Q7R6Q8R6S7R8Q:R8R9N=O;P<t9v8v<v8x7x:u<v<v?v<x:x>t7t9s:t7u6v8u6w5x7w5z2y6x7y6y:x:y:y>x>y>yAv?x>xAu?v?wBu?vBuAu<u?t?t9u<s<uXt]t[tXt[s[t[t^s]vUuZuXuZu\t]t`s`t^sRsXrVtUtXsXuVuXtXU+U*V+U*W+V+X,X+Y+S*U+T+T*U*U+~[}`}Z~_|b}`}`|c|\U~WSY~[~W[~_~[^~a~_~a|d|b{fzgxf|c{fyd|\|czb|\{\{V}Z|\|V~W}Z}U6/7.7/7/8/818/9/819/:/81:/;/81>1A0A9A0D1B9B9D1C9;/>1816/7/815.6.6/A9@9>1@981>1D1H2F8C9D1E9B9A9A0H2L4J8L4O6L7H2I8F8I8H2J8Q5T4R6T4W4U7R6T4S7L4L7K7O6Q5P7L7O6M7F8E9D1O6N7M7W4Y4X7Y4Z4Y7Z4\4\7\4]5]7\7\4]7^5_5_6Y4Y7X7^5_6^6Z4\7[7]5^5]6]6^5^6K7J8L4P7O7O6O7N7O6Q5R6Q7P7Q5Q7U7T6T4T6S7T4U7W4V7X7W7W4W7V7W4[7Z7Z4Z7Y7Z432332333633436733633943954:44::4934566;65:6<<87<76<:9?98==8<<;?;:??=C=<AA@D@?C@CD=ABA<?<6;3567838939=>?9>:;6>???@AABB=BCCDDEEAEEADEAAAFAEFAFF~A@AFF}CF~F}CAF}B}B~AAzB|CzF|C}CzF}C}BF~F}G}C}G{F}CzFyEzByEwDzB{FzF}CxAyAzBwDvDvBvDuCvBtBrBtArBqAs@uCtBuAvBuCuAwBxAwDxAzBwDtAuAtBvBwBwDqApAq@pAo@p@o@n@o?o?n@n?m?l?m>pAp@q@l?l>m>m?m>n?o@o?p@rBs@tAq@r@qAr@s@qAGGDGGDGHEHHEHIFIIFIIGIIHIJHJJHHJHEHFIHGJJHFFDFGDDEDEEDGEDDGDEFDDDFDDFGFIGHJGJKDDGGGJJGGHGKKILIHKKJKLKNKKNHKKKKMKNNLKLNLMMLLMLNMNONMOONQNNPOQP~QPPDDENPQ|R}RS}R~QS|RS{S~QPSwRySvUySzTvUNKMzT{S{VNOPPNPuQvQwRPQRIKLuQwRtUrNsNqPsNuQrQqPsNrQpMqMpNqMrNpNoLpMoMmKlJmJlJkJjImKmJnKpNoMpMoMnKoLqPpNrNsRrQuQuVtUvUtUsRuQvUtUwRyWwWzTwWvUzTzWyWzT}U|V{S|V{V{S{VzWzTS}U{SRSPS~QSkJkIlJLLKLMKMMKMMK/0.00-0/--0-/0-0/./0//0/01/121221110-/-/,,00/+0+0/,,/-2311214525646747767878879:98975427647979979979:88:97979:9341776.-/0/1/./101113214757879879789979:8:88::9:;:::;:,,0++0                                                                                                                                                                                                                                                                                                uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuj[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[j[uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                import unittest

from Cython.Compiler import PyrexTypes as pt
from Cython.Compiler.ExprNodes import NameNode
from Cython.Compiler.PyrexTypes import CFuncTypeArg

def cfunctype(*arg_types):
    return pt.CFuncType(pt.c_int_type,
        [ CFuncTypeArg("name", arg_type, None) for arg_type in arg_types ])

def cppclasstype(name, base_classes):
    return pt.CppClassType(name, None, 'CPP_'+name, base_classes)

class SignatureMatcherTest(unittest.TestCase):
    """
    Test the signature matching algorithm for overloaded signatures.
    """
    def assertMatches(self, expected_type, arg_types, functions):
        match = pt.best_match(arg_types, functions)
        if expected_type is not None:
            self.assertNotEqual(None, match)
        self.assertEqual(expected_type, match.type)

    def test_cpp_reference_single_arg(self):
        function_types = [
            cfunctype(pt.CReferenceType(pt.c_int_type)),
            cfunctype(pt.CReferenceType(pt.c_long_type)),
            cfunctype(pt.CReferenceType(pt.c_double_type)),
            ]

        functions = [ NameNode(None, type=t) for t in function_types ]
        self.assertMatches(function_types[0], [pt.c_int_type], functions)
        self.assertMatches(function_types[1], [pt.c_long_type], functions)
        self.assertMatches(function_types[2], [pt.c_double_type], functions)

    def test_cpp_reference_two_args(self):
        function_types = [
            cfunctype(
                pt.CReferenceType(pt.c_int_type), pt.CReferenceType(pt.c_long_type)),
            cfunctype(
                pt.CReferenceType(pt.c_long_type), pt.CReferenceType(pt.c_long_type)),
            ]

        functions = [ NameNode(None, type=t) for t in function_types ]
        self.assertMatches(function_types[0], [pt.c_int_type, pt.c_long_type], functions)
        self.assertMatches(function_types[1], [pt.c_long_type, pt.c_long_type], functions)
        self.assertMatches(function_types[1], [pt.c_long_type, pt.c_int_type], functions)

    def test_cpp_reference_cpp_class(self):
        classes = [ cppclasstype("Test%d"%i, []) for i in range(2) ]
        function_types = [
            cfunctype(pt.CReferenceType(classes[0])),
            cfunctype(pt.CReferenceType(classes[1])),
            ]

        functions = [ NameNode(None, type=t) for t in function_types ]
        self.assertMatches(function_types[0], [classes[0]], functions)
        self.assertMatches(function_types[1], [classes[1]], functions)

    def test_cpp_reference_cpp_class_and_int(self):
        classes = [ cppclasstype("Test%d"%i, []) for i in range(2) ]
        function_types = [
            cfunctype(pt.CReferenceType(classes[0]), pt.c_int_type),
            cfunctype(pt.CReferenceType(classes[0]), pt.c_long_type),
            cfunctype(pt.CReferenceType(classes[1]), pt.c_int_type),
            cfunctype(pt.CReferenceType(classes[1]), pt.c_long_type),
            ]

        functions = [ NameNode(None, type=t) for t in function_types ]
        self.assertMatches(function_types[0], [classes[0], pt.c_int_type], functions)
        self.assertMatches(function_types[1], [classes[0], pt.c_long_type], functions)
        self.assertMatches(function_types[2], [classes[1], pt.c_int_type], functions)
        self.assertMatches(function_types[3], [classes[1], pt.c_long_type], functions)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ..\requests\__init__.py
..\requests\__pycache__\__init__.cpython-310.pyc
..\requests\__pycache__\__version__.cpython-310.pyc
..\requests\__pycache__\_internal_utils.cpython-310.pyc
..\requests\__pycache__\adapters.cpython-310.pyc
..\requests\__pycache__\api.cpython-310.pyc
..\requests\__pycache__\auth.cpython-310.pyc
..\requests\__pycache__\certs.cpython-310.pyc
..\requests\__pycache__\compat.cpython-310.pyc
..\requests\__pycache__\cookies.cpython-310.pyc
..\requests\__pycache__\exceptions.cpython-310.pyc
..\requests\__pycache__\help.cpython-310.pyc
..\requests\__pycache__\hooks.cpython-310.pyc
..\requests\__pycache__\models.cpython-310.pyc
..\requests\__pycache__\packages.cpython-310.pyc
..\requests\__pycache__\sessions.cpython-310.pyc
..\requests\__pycache__\status_codes.cpython-310.pyc
..\requests\__pycache__\structures.cpython-310.pyc
..\requests\__pycache__\utils.cpython-310.pyc
..\requests\__version__.py
..\requests\_internal_utils.py
..\requests\adapters.py
..\requests\api.py
..\requests\auth.py
..\requests\certs.py
..\requests\compat.py
..\requests\cookies.py
..\requests\exceptions.py
..\requests\help.py
..\requests\hooks.py
..\requests\models.py
..\requests\packages.py
..\requests\sessions.py
..\requests\status_codes.py
..\requests\structures.py
..\requests\utils.py
PKG-INFO
SOURCES.txt
dependency_links.txt
not-zip-safe
requires.txt
top_level.txt
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    # SPDX-License-Identifier: GPL-2.0-or-later
from bpy.types import Menu, Panel, UIList, WindowManager
from bl_ui.properties_grease_pencil_common import (
    GreasePencilSculptAdvancedPanel,
    GreasePencilDisplayPanel,
    GreasePencilBrushFalloff,
)
from bl_ui.properties_paint_common import (
    UnifiedPaintPanel,
    BrushSelectPanel,
    ClonePanel,
    TextureMaskPanel,
    ColorPalettePanel,
    StrokePanel,
    SmoothStrokePanel,
    FalloffPanel,
    DisplayPanel,
    brush_texture_settings,
    brush_mask_texture_settings,
    brush_settings,
    brush_settings_advanced,
    draw_color_settings,
)
from bl_ui.utils import PresetPanel


class VIEW3D_MT_brush_context_menu(Menu):
    bl_label = "Brush Specials"

    def draw(self, context):
        layout = self.layout

        settings = UnifiedPaintPanel.paint_settings(context)
        brush = getattr(settings, "brush", None)

        # skip if no active brush
        if not brush:
            layout.label(text="No Brushes currently available", icon='INFO')
            return

        # brush paint modes
        layout.menu("VIEW3D_MT_brush_paint_modes")

        # brush tool

        if context.image_paint_object:
            layout.prop_menu_enum(brush, "image_tool")
        elif context.vertex_paint_object:
            layout.prop_menu_enum(brush, "vertex_tool")
        elif context.weight_paint_object:
            layout.prop_menu_enum(brush, "weight_tool")
        elif context.sculpt_object:
            layout.prop_menu_enum(brush, "sculpt_tool")
            layout.operator("brush.reset")
        elif context.tool_settings.curves_sculpt:
            layout.prop_menu_enum(brush, "curves_sculpt_tool")


class VIEW3D_MT_brush_gpencil_context_menu(Menu):
    bl_label = "Brush Specials"

    def draw(self, context):
        layout = self.layout
        ts = context.tool_settings

        settings = None
        if context.mode == 'PAINT_GPENCIL':
            settings = ts.gpencil_paint
        if context.mode == 'SCULPT_GPENCIL':
            settings = ts.gpencil_sculpt_paint
        elif context.mode == 'WEIGHT_GPENCIL':
            settings = ts.gpencil_weight_paint
        elif context.mode == 'VERTEX_GPENCIL':
            settings = ts.gpencil_vertex_paint

        brush = getattr(settings, "brush", None)
        # skip if no active brush
        if not brush:
            layout.label(text="No Brushes currently available", icon='INFO')
            return

        layout.operator("gpencil.brush_reset")
        layout.operator("gpencil.brush_reset_all")


class View3DPanel:
    bl_space_type = 'VIEW_3D'
    bl_region_type = 'UI'


# **************** standard tool clusters ******************

# Used by vertex & weight paint
def draw_vpaint_symmetry(layout, vpaint, obj):
    col = layout.column()
    row = col.row(heading="Mirror", align=True)
    row.prop(obj, "use_mesh_mirror_x", text="X", toggle=True)
    row.prop(obj, "use_mesh_mirror_y", text="Y", toggle=True)
    row.prop(obj, "use_mesh_mirror_z", text="Z", toggle=True)

    col = layout.column()
    col.active = not obj.data.use_mirror_vertex_groups
    col.prop(vpaint, "radial_symmetry", text="Radial")


# Most of these panels should not be visible in GP edit modes
def is_not_gpencil_edit_mode(context):
    is_gpmode = (
        context.active_object and
        context.active_object.mode in {'EDIT_GPENCIL', 'PAINT_GPENCIL', 'SCULPT_GPENCIL', 'WEIGHT_GPENCIL'}
    )
    return not is_gpmode


# ********** default tools for object mode ****************


class VIEW3D_PT_tools_object_options(View3DPanel, Panel):
    bl_category = "Tool"
    bl_context = ".objectmode"  # dot on purpose (access from topbar)
    bl_label = "Options"

    def draw(self, context):
        # layout = self.layout
        pass


class VIEW3D_PT_tools_object_options_transform(View3DPanel, Panel):
    bl_category = "Tool"
    bl_context = ".objectmode"  # dot on purpose (access from topbar)
    bl_label = "Transform"
    bl_parent_id = "VIEW3D_PT_tools_object_options"

    def draw(self, context):
        layout = self.layout

        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings

        col = layout.column(heading="Affect Only", align=True)
        col.prop(tool_settings, "use_transform_data_origin", text="Origins")
        col.prop(tool_settings, "use_transform_pivot_point_align", text="Locations")
        col.prop(tool_settings, "use_transform_skip_children", text="Parents")


# ********** default tools for editmode_mesh ****************


class VIEW3D_PT_tools_meshedit_options(View3DPanel, Panel):
    bl_category = "Tool"
    bl_context = ".mesh_edit"  # dot on purpose (access from topbar)
    bl_label = "Options"
    bl_options = {'DEFAULT_CLOSED'}
    bl_ui_units_x = 12

    @classmethod
    def poll(cls, context):
        return context.active_object

    def draw(self, context):
        layout = self.layout

        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        ob = context.active_object
        mesh = ob.data

        row = layout.row(align=True, heading="Transform")
        row.prop(tool_settings, "use_transform_correct_face_attributes")

        row = layout.row(align=True)
        row.active = tool_settings.use_transform_correct_face_attributes
        row.prop(tool_settings, "use_transform_correct_keep_connected")

        row = layout.row(align=True, heading="UVs")
        row.prop(tool_settings, "use_edge_path_live_unwrap")

        row = layout.row(heading="Mirror")
        sub = row.row(align=True)
        sub.prop(mesh, "use_mirror_x", text="X", toggle=True)
        sub.prop(mesh, "use_mirror_y", text="Y", toggle=True)
        sub.prop(mesh, "use_mirror_z", text="Z", toggle=True)

        row = layout.row(align=True)
        row.active = ob.data.use_mirror_x or ob.data.use_mirror_y or ob.data.use_mirror_z
        row.prop(mesh, "use_mirror_topology")


class VIEW3D_PT_tools_meshedit_options_automerge(View3DPanel, Panel):
    bl_category = "Tool"
    bl_context = ".mesh_edit"  # dot on purpose (access from topbar)
    bl_label = "Auto Merge"
    bl_parent_id = "VIEW3D_PT_tools_meshedit_options"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        return context.active_object

    def draw_header(self, context):
        tool_settings = context.tool_settings

        self.layout.prop(tool_settings, "use_mesh_automerge", text="", toggle=False)

    def draw(self, context):
        layout = self.layout

        tool_settings = context.tool_settings

        layout.use_property_split = True
        layout.use_property_decorate = False

        col = layout.column(align=True)
        col.active = tool_settings.use_mesh_automerge
        col.prop(tool_settings, "use_mesh_automerge_and_split", toggle=False)
        col.prop(tool_settings, "double_threshold", text="Threshold")


# ********** default tools for editmode_armature ****************


class VIEW3D_PT_tools_armatureedit_options(View3DPanel, Panel):
    bl_category = "Tool"
    bl_context = ".armature_edit"  # dot on purpose (access from topbar)
    bl_label = "Options"

    def draw(self, context):
        arm = context.active_object.data

        self.layout.prop(arm, "use_mirror_x")


# ********** default tools for pose-mode ****************

class VIEW3D_PT_tools_posemode_options(View3DPanel, Panel):
    bl_category = "Tool"
    bl_context = ".posemode"  # dot on purpose (access from topbar)
    bl_label = "Pose Options"

    def draw(self, context):
        pose = context.active_object.pose
        layout = self.layout

        tool_settings = context.tool_settings

        layout.prop(pose, "use_auto_ik")
        layout.prop(pose, "use_mirror_x")
        col = layout.column()
        col.active = pose.use_mirror_x and not pose.use_auto_ik
        col.prop(pose, "use_mirror_relative")

        layout.label(text="Affect Only")
        layout.prop(tool_settings, "use_transform_pivot_point_align", text="Locations")

# ********** default tools for paint modes ****************


class TEXTURE_UL_texpaintslots(UIList):
    def draw_item(self, _context, layout, _data, item, _icon, _active_data, _active_propname, _index):
        # mat = data

        if self.layout_type in {'DEFAULT', 'COMPACT'}:
            layout.label(text=item.name, icon_value=item.icon_value)
        elif self.layout_type == 'GRID':
            layout.alignment = 'CENTER'
            layout.label(text="")


class View3DPaintPanel(View3DPanel, UnifiedPaintPanel):
    bl_category = "Tool"


class View3DPaintBrushPanel(View3DPaintPanel):
    @classmethod
    def poll(cls, context):
        mode = cls.get_brush_mode(context)
        return mode is not None


class VIEW3D_PT_tools_particlemode(Panel, View3DPaintPanel):
    bl_context = ".paint_common"  # dot on purpose (access from topbar)
    bl_label = "Particle Tool"
    bl_options = {'HIDE_HEADER'}

    @classmethod
    def poll(cls, context):
        settings = context.tool_settings.particle_edit
        return (settings and settings.brush and context.particle_edit_object)

    def draw(self, context):
        layout = self.layout

        settings = context.tool_settings.particle_edit
        brush = settings.brush
        tool = settings.tool

        layout.use_property_split = True
        layout.use_property_decorate = False  # No animation.

        from bl_ui.space_toolsystem_common import ToolSelectPanelHelper
        tool_context = ToolSelectPanelHelper.tool_active_from_context(context)

        if not tool_context:
            # If there is no active tool, then there can't be an active brush.
            tool = None

        if not tool_context.has_datablock:
            # tool.has_datablock is always true for tools that use brushes.
            tool = None

        if tool is not None:
            col = layout.column()
            col.prop(brush, "size", slider=True)
            if tool == 'ADD':
                col.prop(brush, "count")

                col = layout.column()
                col.prop(settings, "use_default_interpolate")
                col.prop(brush, "steps", slider=True)
                col.prop(settings, "default_key_count", slider=True)
            else:
                col.prop(brush, "strength", slider=True)

                if tool == 'LENGTH':
                    layout.row().prop(brush, "length_mode", expand=True)
                elif tool == 'PUFF':
                    layout.row().prop(brush, "puff_mode", expand=True)
                    layout.prop(brush, "use_puff_volume")
                elif tool == 'COMB':
                    col = layout.column(align=False, heading="Deflect Emitter")
                    row = col.row(align=True)
                    sub = row.row(align=True)
                    sub.prop(settings, "use_emitter_deflect", text="")
                    sub = sub.row(align=True)
                    sub.active = settings.use_emitter_deflect
                    sub.prop(settings, "emitter_distance", text="")


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_brush_select(Panel, View3DPaintBrushPanel, BrushSelectPanel):
    bl_context = ".paint_common"
    bl_label = "Brushes"


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_brush_settings(Panel, View3DPaintBrushPanel):
    bl_context = ".paint_common"
    bl_label = "Brush Settings"

    @classmethod
    def poll(cls, context):
        settings = cls.paint_settings(context)
        return settings and settings.brush is not None

    def draw(self, context):
        layout = self.layout

        layout.use_property_split = True
        layout.use_property_decorate = False  # No animation.

        settings = self.paint_settings(context)
        brush = settings.brush

        brush_settings(layout.column(), context, brush, popover=self.is_popover)


class VIEW3D_PT_tools_brush_settings_advanced(Panel, View3DPaintBrushPanel):
    bl_context = ".paint_common"
    bl_parent_id = "VIEW3D_PT_tools_brush_settings"
    bl_label = "Advanced"
    bl_options = {'DEFAULT_CLOSED'}
    bl_ui_units_x = 14

    @classmethod
    def poll(cls, context):
        mode = cls.get_brush_mode(context)
        return mode is not None and mode != 'SCULPT_CURVES'

    def draw(self, context):
        layout = self.layout

        layout.use_property_split = True
        layout.use_property_decorate = False  # No animation.

        settings = UnifiedPaintPanel.paint_settings(context)
        brush = settings.brush

        brush_settings_advanced(layout.column(), context, brush, self.is_popover)


class VIEW3D_PT_tools_brush_color(Panel, View3DPaintPanel):
    bl_context = ".paint_common"  # dot on purpose (access from topbar)
    bl_parent_id = "VIEW3D_PT_tools_brush_settings"
    bl_label = "Color Picker"

    @classmethod
    def poll(cls, context):
        settings = cls.paint_settings(context)
        brush = settings.brush

        if context.image_paint_object:
            capabilities = brush.image_paint_capabilities
            return capabilities.has_color
        elif context.vertex_paint_object:
            capabilities = brush.vertex_paint_capabilities
            return capabilities.has_color
        elif context.sculpt_object:
            capabilities = brush.sculpt_capabilities
            return capabilities.has_color

        return False

    def draw(self, context):
        layout = self.layout
        settings = self.paint_settings(context)
        brush = settings.brush

        draw_color_settings(context, layout, brush, color_type=not context.vertex_paint_object)


class VIEW3D_PT_tools_brush_swatches(Panel, View3DPaintPanel, ColorPalettePanel):
    bl_context = ".paint_common"
    bl_parent_id = "VIEW3D_PT_tools_brush_settings"
    bl_label = "Color Palette"
    bl_options = {'DEFAULT_CLOSED'}


class VIEW3D_PT_tools_brush_clone(Panel, View3DPaintPanel, ClonePanel):
    bl_context = ".paint_common"
    bl_parent_id = "VIEW3D_PT_tools_brush_settings"
    bl_label = "Clone from Paint Slot"
    bl_options = {'DEFAULT_CLOSED'}


class VIEW3D_MT_tools_projectpaint_uvlayer(Menu):
    bl_label = "Clone Layer"

    def draw(self, context):
        layout = self.layout

        for i, uv_layer in enumerate(context.active_object.data.uv_layers):
            props = layout.operator("wm.context_set_int", text=uv_layer.name, translate=False)
            props.data_path = "active_object.data.uv_layers.active_index"
            props.value = i


class SelectPaintSlotHelper:
    bl_category = "Tool"

    canvas_source_attr_name = "canvas_source"
    canvas_image_attr_name = "canvas_image"

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        settings = context.tool_settings.image_paint
        mode_settings = self.get_mode_settings(context)

        ob = context.active_object

        layout.prop(mode_settings, self.canvas_source_attr_name, text="Mode")
        layout.separator()

        have_image = False

        match getattr(mode_settings, self.canvas_source_attr_name):
            case 'MATERIAL':
                if len(ob.material_slots) > 1:
                    layout.template_list(
                        "MATERIAL_UL_matslots", "layers",
                        ob, "material_slots",
                        ob, "active_material_index", rows=2,
                    )
                mat = ob.active_material
                if mat and mat.texture_paint_images:
                    row = layout.row()
                    row.template_list(
                        "TEXTURE_UL_texpaintslots", "",
                        mat, "texture_paint_slots",
                        mat, "paint_active_slot", rows=2,
                    )

                    if mat.texture_paint_slots:
                        slot = mat.texture_paint_slots[mat.paint_active_slot]
                    else:
                        slot = None

                    have_image = slot is not None
                else:
                    row = layout.row()

                    box = row.box()
                    box.label(text="No Textures")

                sub = row.column(align=True)
                sub.operator_menu_enum("paint.add_texture_paint_slot", "type", icon='ADD', text="")

            case 'IMAGE':
                mesh = ob.data
                uv_text = mesh.uv_layers.active.name if mesh.uv_layers.active else ""
                layout.template_ID(mode_settings, self.canvas_image_attr_name, new="image.new", open="image.open")
                if settings.missing_uvs:
                    layout.operator("paint.add_simple_uvs", icon='ADD', text="Add UVs")
                else:
                    layout.menu("VIEW3D_MT_tools_projectpaint_uvlayer", text=uv_text, translate=False)
                have_image = getattr(settings, self.canvas_image_attr_name) is not None

                self.draw_image_interpolation(layout=layout, mode_settings=mode_settings)

            case 'COLOR_ATTRIBUTE':
                mesh = ob.data

                row = layout.row()
                col = row.column()
                col.template_list(
                    "MESH_UL_color_attributes_selector",
                    "color_attributes",
                    mesh,
                    "color_attributes",
                    mesh.color_attributes,
                    "active_color_index",
                    rows=3,
                )

                col = row.column(align=True)
                col.operator("geometry.color_attribute_add", icon='ADD', text="")
                col.operator("geometry.color_attribute_remove", icon='REMOVE', text="")

        if settings.missing_uvs:
            layout.separator()
            split = layout.split()
            split.label(text="UV Map Needed", icon='INFO')
            split.operator("paint.add_simple_uvs", icon='ADD', text="Add Simple UVs")
        elif have_image:
            layout.separator()
            layout.operator("image.save_all_modified", text="Save All Images", icon='FILE_TICK')


class VIEW3D_PT_slots_projectpaint(SelectPaintSlotHelper, View3DPanel, Panel):
    bl_category = "Tool"
    bl_context = ".imagepaint"  # dot on purpose (access from topbar)
    bl_label = "Texture Slots"

    canvas_source_attr_name = "mode"
    canvas_image_attr_name = "canvas"

    @classmethod
    def poll(cls, context):
        brush = context.tool_settings.image_paint.brush
        return (brush is not None and context.active_object is not None)

    def get_mode_settings(self, context):
        return context.tool_settings.image_paint

    def draw_image_interpolation(self, layout, mode_settings):
        layout.prop(mode_settings, "interpolation", text="")


class VIEW3D_PT_slots_paint_canvas(SelectPaintSlotHelper, View3DPanel, Panel):
    bl_category = "Tool"
    bl_context = ".sculpt_mode"  # dot on purpose (access from topbar)
    bl_label = "Canvas"

    @classmethod
    def poll(cls, context):
        if not context.preferences.experimental.use_sculpt_texture_paint:
            return False

        from bl_ui.space_toolsystem_common import ToolSelectPanelHelper
        tool = ToolSelectPanelHelper.tool_active_from_context(context)
        if tool is None:
            return False
        return tool.use_paint_canvas

    def get_mode_settings(self, context):
        return context.tool_settings.paint_mode

    def draw_image_interpolation(self, **kwargs):
        pass


class VIEW3D_PT_mask(View3DPanel, Panel):
    bl_category = "Tool"
    bl_context = ".imagepaint"  # dot on purpose (access from topbar)
    bl_label = "Masking"
    bl_options = {'DEFAULT_CLOSED'}

    def draw(self, context):
        pass


# TODO, move to space_view3d.py
class VIEW3D_PT_stencil_projectpaint(View3DPanel, Panel):
    bl_category = "Tool"
    bl_context = ".imagepaint"  # dot on purpose (access from topbar)
    bl_label = "Stencil Mask"
    bl_options = {'DEFAULT_CLOSED'}
    bl_parent_id = "VIEW3D_PT_mask"
    bl_ui_units_x = 14

    @classmethod
    def poll(cls, context):
        brush = context.tool_settings.image_paint.brush
        ob = context.active_object
        return (brush is not None and ob is not None)

    def draw_header(self, context):
        ipaint = context.tool_settings.image_paint
        self.layout.prop(ipaint, "use_stencil_layer", text="")

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        ipaint = tool_settings.image_paint
        ob = context.active_object
        mesh = ob.data

        col = layout.column()
        col.active = ipaint.use_stencil_layer

        col.label(text="Stencil Image")
        col.template_ID(ipaint, "stencil_image", new="image.new", open="image.open")

        stencil_text = mesh.uv_layer_stencil.name if mesh.uv_layer_stencil else ""

        col.separator()

        split = col.split()
        colsub = split.column()
        colsub.alignment = 'RIGHT'
        colsub.label(text="UV Layer")
        split.column().menu("VIEW3D_MT_tools_projectpaint_stencil", text=stencil_text, translate=False)

        col.separator()

        row = col.row(align=True)
        row.prop(ipaint, "stencil_color", text="Display Color")
        row.prop(ipaint, "invert_stencil", text="", icon='IMAGE_ALPHA')


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_brush_display(Panel, View3DPaintBrushPanel, DisplayPanel):
    bl_context = ".paint_common"
    bl_parent_id = "VIEW3D_PT_tools_brush_settings"
    bl_label = "Cursor"
    bl_options = {'DEFAULT_CLOSED'}
    bl_ui_units_x = 12


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_brush_texture(Panel, View3DPaintPanel):
    bl_context = ".paint_common"
    bl_parent_id = "VIEW3D_PT_tools_brush_settings"
    bl_label = "Texture"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        if (
                (settings := cls.paint_settings(context)) and
                (brush := settings.brush)
        ):
            if context.sculpt_object or context.vertex_paint_object:
                return True
            elif context.image_paint_object:
                return (brush.image_tool == 'DRAW')
        return False

    def draw(self, context):
        layout = self.layout

        settings = self.paint_settings(context)
        brush = settings.brush
        tex_slot = brush.texture_slot

        col = layout.column()
        col.template_ID_preview(tex_slot, "texture", new="texture.new", rows=3, cols=8)

        brush_texture_settings(col, brush, context.sculpt_object)


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_mask_texture(Panel, View3DPaintPanel, TextureMaskPanel):
    bl_category = "Tool"
    bl_context = ".imagepaint"  # dot on purpose (access from topbar)
    bl_parent_id = "VIEW3D_PT_tools_brush_settings"
    bl_label = "Texture Mask"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        settings = cls.paint_settings(context)
        return (settings and settings.brush and context.image_paint_object)

    def draw(self, context):
        layout = self.layout

        brush = context.tool_settings.image_paint.brush

        col = layout.column()
        mask_tex_slot = brush.mask_texture_slot

        col.template_ID_preview(mask_tex_slot, "texture", new="texture.new", rows=3, cols=8)

        brush_mask_texture_settings(col, brush)


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_brush_stroke(Panel, View3DPaintPanel, StrokePanel):
    bl_context = ".paint_common"  # dot on purpose (access from topbar)
    bl_label = "Stroke"
    bl_parent_id = "VIEW3D_PT_tools_brush_settings"
    bl_options = {'DEFAULT_CLOSED'}


class VIEW3D_PT_tools_brush_stroke_smooth_stroke(Panel, View3DPaintPanel, SmoothStrokePanel):
    bl_context = ".paint_common"  # dot on purpose (access from topbar)
    bl_label = "Stabilize Stroke"
    bl_parent_id = "VIEW3D_PT_tools_brush_stroke"
    bl_options = {'DEFAULT_CLOSED'}


class VIEW3D_PT_tools_weight_gradient(Panel, View3DPaintPanel):
    # dont give context on purpose to not show this in the generic header toolsettings
    # this is added only in the gradient tool's ToolDef
    # bl_context = ".weightpaint" # dot on purpose (access from topbar)
    bl_label = "Falloff"
    bl_options = {'DEFAULT_CLOSED'}
    # also dont draw as an extra panel in the sidebar (already included in the Brush settings)
    bl_space_type = 'TOPBAR'
    bl_region_type = 'HEADER'

    @classmethod
    def poll(cls, context):
        # since we dont give context above, check mode here (to not show in other modes like sculpt)
        if context.mode != 'PAINT_WEIGHT':
            return False
        settings = context.tool_settings.weight_paint
        if settings is None:
            return False
        brush = settings.brush
        return brush is not None

    def draw(self, context):
        layout = self.layout
        settings = context.tool_settings.weight_paint
        brush = settings.brush

        col = layout.column(align=True)
        row = col.row(align=True)
        row.prop(brush, "curve_preset", text="")

        if brush.curve_preset == 'CUSTOM':
            layout.template_curve_mapping(brush, "curve", brush=True)

            col = layout.column(align=True)
            row = col.row(align=True)
            row.operator("brush.curve_preset", icon='SMOOTHCURVE', text="").shape = 'SMOOTH'
            row.operator("brush.curve_preset", icon='SPHERECURVE', text="").shape = 'ROUND'
            row.operator("brush.curve_preset", icon='ROOTCURVE', text="").shape = 'ROOT'
            row.operator("brush.curve_preset", icon='SHARPCURVE', text="").shape = 'SHARP'
            row.operator("brush.curve_preset", icon='LINCURVE', text="").shape = 'LINE'
            row.operator("brush.curve_preset", icon='NOCURVE', text="").shape = 'MAX'


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_brush_falloff(Panel, View3DPaintPanel, FalloffPanel):
    bl_context = ".paint_common"  # dot on purpose (access from topbar)
    bl_parent_id = "VIEW3D_PT_tools_brush_settings"
    bl_label = "Falloff"
    bl_options = {'DEFAULT_CLOSED'}


class VIEW3D_PT_tools_brush_falloff_frontface(View3DPaintPanel, Panel):
    bl_context = ".imagepaint"  # dot on purpose (access from topbar)
    bl_label = "Front-Face Falloff"
    bl_parent_id = "VIEW3D_PT_tools_brush_falloff"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        return (context.weight_paint_object or context.vertex_paint_object)

    def draw_header(self, context):
        settings = self.paint_settings(context)
        brush = settings.brush

        self.layout.prop(brush, "use_frontface_falloff", text="")

    def draw(self, context):
        settings = self.paint_settings(context)
        brush = settings.brush

        layout = self.layout

        layout.use_property_split = True
        layout.use_property_decorate = False

        layout.active = brush.use_frontface_falloff
        layout.prop(brush, "falloff_angle", text="Angle")


class VIEW3D_PT_tools_brush_falloff_normal(View3DPaintPanel, Panel):
    bl_context = ".imagepaint"  # dot on purpose (access from topbar)
    bl_label = "Normal Falloff"
    bl_parent_id = "VIEW3D_PT_tools_brush_falloff"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        return context.image_paint_object

    def draw_header(self, context):
        tool_settings = context.tool_settings
        ipaint = tool_settings.image_paint

        self.layout.prop(ipaint, "use_normal_falloff", text="")

    def draw(self, context):
        tool_settings = context.tool_settings
        ipaint = tool_settings.image_paint

        layout = self.layout

        layout.use_property_split = True
        layout.use_property_decorate = False

        layout.active = ipaint.use_normal_falloff
        layout.prop(ipaint, "normal_angle", text="Angle")


# TODO, move to space_view3d.py
class VIEW3D_PT_sculpt_dyntopo(Panel, View3DPaintPanel):
    bl_context = ".sculpt_mode"  # dot on purpose (access from topbar)
    bl_label = "Dyntopo"
    bl_options = {'DEFAULT_CLOSED'}
    bl_ui_units_x = 12

    @classmethod
    def poll(cls, context):
        paint_settings = cls.paint_settings(context)
        return (context.sculpt_object and context.tool_settings.sculpt and paint_settings)

    def draw_header(self, context):
        is_popover = self.is_popover
        layout = self.layout
        layout.operator(
            "sculpt.dynamic_topology_toggle",
            icon='CHECKBOX_HLT' if context.sculpt_object.use_dynamic_topology_sculpting else 'CHECKBOX_DEHLT',
            text="",
            emboss=is_popover,
        )

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        sculpt = tool_settings.sculpt
        settings = self.paint_settings(context)
        brush = settings.brush

        col = layout.column()
        col.active = context.sculpt_object.use_dynamic_topology_sculpting

        sub = col.column()
        sub.active = (brush and brush.sculpt_tool != 'MASK')
        if sculpt.detail_type_method in {'CONSTANT', 'MANUAL'}:
            row = sub.row(align=True)
            row.prop(sculpt, "constant_detail_resolution")
            props = row.operator("sculpt.sample_detail_size", text="", icon='EYEDROPPER')
            props.mode = 'DYNTOPO'
        elif (sculpt.detail_type_method == 'BRUSH'):
            sub.prop(sculpt, "detail_percent")
        else:
            sub.prop(sculpt, "detail_size")
        sub.prop(sculpt, "detail_refine_method", text="Refine Method")
        sub.prop(sculpt, "detail_type_method", text="Detailing")

        if sculpt.detail_type_method in {'CONSTANT', 'MANUAL'}:
            col.operator("sculpt.detail_flood_fill")

        col.prop(sculpt, "use_smooth_shading")


class VIEW3D_PT_sculpt_voxel_remesh(Panel, View3DPaintPanel):
    bl_context = ".sculpt_mode"  # dot on purpose (access from topbar)
    bl_label = "Remesh"
    bl_options = {'DEFAULT_CLOSED'}
    bl_ui_units_x = 12

    @classmethod
    def poll(cls, context):
        return (context.sculpt_object and context.tool_settings.sculpt)

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        col = layout.column()
        mesh = context.active_object.data
        row = col.row(align=True)
        row.prop(mesh, "remesh_voxel_size")
        props = row.operator("sculpt.sample_detail_size", text="", icon='EYEDROPPER')
        props.mode = 'VOXEL'
        col.prop(mesh, "remesh_voxel_adaptivity")
        col.prop(mesh, "use_remesh_fix_poles")

        col = layout.column(heading="Preserve", align=True)
        col.prop(mesh, "use_remesh_preserve_volume", text="Volume")
        col.prop(mesh, "use_remesh_preserve_paint_mask", text="Paint Mask")
        col.prop(mesh, "use_remesh_preserve_sculpt_face_sets", text="Face Sets")
        col.prop(mesh, "use_remesh_preserve_vertex_colors", text="Color Attributes")

        layout.operator("object.voxel_remesh", text="Remesh")


# TODO, move to space_view3d.py
class VIEW3D_PT_sculpt_options(Panel, View3DPaintPanel):
    bl_context = ".sculpt_mode"  # dot on purpose (access from topbar)
    bl_label = "Options"
    bl_options = {'DEFAULT_CLOSED'}
    bl_ui_units_x = 12

    @classmethod
    def poll(cls, context):
        return (context.sculpt_object and context.tool_settings.sculpt)

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        sculpt = tool_settings.sculpt

        col = layout.column(heading="Display", align=True)
        col.prop(sculpt, "show_low_resolution")
        col.prop(sculpt, "use_sculpt_delay_updates")
        col.prop(sculpt, "use_deform_only")


class VIEW3D_PT_sculpt_options_gravity(Panel, View3DPaintPanel):
    bl_context = ".sculpt_mode"  # dot on purpose (access from topbar)
    bl_parent_id = "VIEW3D_PT_sculpt_options"
    bl_label = "Gravity"

    @classmethod
    def poll(cls, context):
        return (context.sculpt_object and context.tool_settings.sculpt)

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        sculpt = tool_settings.sculpt
        capabilities = sculpt.brush.sculpt_capabilities

        col = layout.column()
        col.active = capabilities.has_gravity
        col.prop(sculpt, "gravity", slider=True, text="Factor")
        col.prop(sculpt, "gravity_object")


# TODO, move to space_view3d.py
class VIEW3D_PT_sculpt_symmetry(Panel, View3DPaintPanel):
    bl_context = ".sculpt_mode"  # dot on purpose (access from topbar)
    bl_label = "Symmetry"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        return (
            (context.sculpt_object and context.tool_settings.sculpt) and
            # When used in the tool header, this is explicitly included next to the XYZ symmetry buttons.
            (context.region.type != 'TOOL_HEADER')
        )

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        sculpt = context.tool_settings.sculpt

        row = layout.row(align=True, heading="Mirror")
        mesh = context.object.data
        row.prop(mesh, "use_mirror_x", text="X", toggle=True)
        row.prop(mesh, "use_mirror_y", text="Y", toggle=True)
        row.prop(mesh, "use_mirror_z", text="Z", toggle=True)

        row = layout.row(align=True, heading="Lock")
        row.prop(sculpt, "lock_x", text="X", toggle=True)
        row.prop(sculpt, "lock_y", text="Y", toggle=True)
        row.prop(sculpt, "lock_z", text="Z", toggle=True)

        row = layout.row(align=True, heading="Tiling")
        row.prop(sculpt, "tile_x", text="X", toggle=True)
        row.prop(sculpt, "tile_y", text="Y", toggle=True)
        row.prop(sculpt, "tile_z", text="Z", toggle=True)

        layout.prop(sculpt, "use_symmetry_feather", text="Feather")
        layout.prop(sculpt, "radial_symmetry", text="Radial")
        layout.prop(sculpt, "tile_offset", text="Tile Offset")

        layout.separator()

        layout.prop(sculpt, "symmetrize_direction")
        layout.operator("sculpt.symmetrize")


class VIEW3D_PT_sculpt_symmetry_for_topbar(Panel):
    bl_space_type = 'TOPBAR'
    bl_region_type = 'HEADER'
    bl_label = "Symmetry"

    draw = VIEW3D_PT_sculpt_symmetry.draw


class VIEW3D_PT_curves_sculpt_symmetry(Panel, View3DPaintPanel):
    bl_context = ".curves_sculpt"  # dot on purpose (access from topbar)
    bl_label = "Symmetry"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        return context.object and context.object.type == 'CURVES'

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        curves = context.object.data

        row = layout.row(align=True, heading="Mirror")
        row.prop(curves, "use_mirror_x", text="X", toggle=True)
        row.prop(curves, "use_mirror_y", text="Y", toggle=True)
        row.prop(curves, "use_mirror_z", text="Z", toggle=True)


class VIEW3D_PT_curves_sculpt_symmetry_for_topbar(Panel):
    bl_space_type = 'TOPBAR'
    bl_region_type = 'HEADER'
    bl_label = "Symmetry"

    draw = VIEW3D_PT_curves_sculpt_symmetry.draw


# ********** default tools for weight-paint ****************


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_weightpaint_symmetry(Panel, View3DPaintPanel):
    bl_context = ".weightpaint"
    bl_options = {'DEFAULT_CLOSED'}
    bl_label = "Symmetry"

    @classmethod
    def poll(cls, context):
        # When used in the tool header, this is explicitly included next to the XYZ symmetry buttons.
        return (context.region.type != 'TOOL_HEADER')

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        wpaint = tool_settings.weight_paint
        mesh = context.object.data

        layout.prop(mesh, 'use_mirror_vertex_groups')

        draw_vpaint_symmetry(layout, wpaint, context.object)

        row = layout.row()
        row.active = mesh.use_mirror_vertex_groups
        row.prop(mesh, "use_mirror_topology")


class VIEW3D_PT_tools_weightpaint_symmetry_for_topbar(Panel):
    bl_space_type = 'TOPBAR'
    bl_region_type = 'HEADER'
    bl_label = "Symmetry"

    draw = VIEW3D_PT_tools_weightpaint_symmetry.draw


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_weightpaint_options(Panel, View3DPaintPanel):
    bl_context = ".weightpaint"
    bl_label = "Options"
    bl_options = {'DEFAULT_CLOSED'}

    def draw(self, context):
        layout = self.layout

        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        wpaint = tool_settings.weight_paint

        col = layout.column()

        col.prop(tool_settings, "use_auto_normalize", text="Auto Normalize")
        col.prop(tool_settings, "use_lock_relative", text="Lock-Relative")
        col.prop(tool_settings, "use_multipaint", text="Multi-Paint")

        col.prop(wpaint, "use_group_restrict")


# ********** default tools for vertex-paint ****************


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_vertexpaint_options(Panel, View3DPaintPanel):
    bl_context = ".vertexpaint"  # dot on purpose (access from topbar)
    bl_label = "Options"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, _context):
        # This is currently unused, since there aren't any Vertex Paint mode specific options.
        return False

    def draw(self, _context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_vertexpaint_symmetry(Panel, View3DPaintPanel):
    bl_context = ".vertexpaint"  # dot on purpose (access from topbar)
    bl_options = {'DEFAULT_CLOSED'}
    bl_label = "Symmetry"

    @classmethod
    def poll(cls, context):
        # When used in the tool header, this is explicitly included next to the XYZ symmetry buttons.
        return (context.region.type != 'TOOL_HEADER')

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        vpaint = tool_settings.vertex_paint

        draw_vpaint_symmetry(layout, vpaint, context.object)


class VIEW3D_PT_tools_vertexpaint_symmetry_for_topbar(Panel):
    bl_space_type = 'TOPBAR'
    bl_region_type = 'HEADER'
    bl_label = "Symmetry"

    draw = VIEW3D_PT_tools_vertexpaint_symmetry.draw


# ********** default tools for texture-paint ****************


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_imagepaint_options_external(Panel, View3DPaintPanel):
    bl_context = ".imagepaint"  # dot on purpose (access from topbar)
    bl_label = "External"
    bl_parent_id = "VIEW3D_PT_tools_imagepaint_options"
    bl_options = {'DEFAULT_CLOSED'}

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        ipaint = tool_settings.image_paint

        layout.prop(ipaint, "screen_grab_size", text="Screen Grab Size")

        layout.separator()

        flow = layout.grid_flow(row_major=True, columns=0, even_columns=True, even_rows=False, align=False)
        col = flow.column()
        col.operator("image.project_edit", text="Quick Edit")
        col = flow.column()
        col.operator("image.project_apply", text="Apply")
        col = flow.column()
        col.operator("paint.project_image", text="Apply Camera Image")


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_imagepaint_symmetry(Panel, View3DPaintPanel):
    bl_context = ".imagepaint"  # dot on purpose (access from topbar)
    bl_label = "Symmetry"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        # When used in the tool header, this is explicitly included next to the XYZ symmetry buttons.
        return (context.region.type != 'TOOL_HEADER')

    def draw(self, context):
        layout = self.layout

        split = layout.split()

        col = split.column()
        col.alignment = 'RIGHT'
        col.label(text="Mirror")

        col = split.column()

        row = col.row(align=True)
        mesh = context.object.data
        row.prop(mesh, "use_mirror_x", text="X", toggle=True)
        row.prop(mesh, "use_mirror_y", text="Y", toggle=True)
        row.prop(mesh, "use_mirror_z", text="Z", toggle=True)


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_imagepaint_options(View3DPaintPanel, Panel):
    bl_context = ".imagepaint"  # dot on purpose (access from topbar)
    bl_label = "Options"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        brush = context.tool_settings.image_paint.brush
        return (brush is not None)

    def draw(self, context):
        layout = self.layout

        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        ipaint = tool_settings.image_paint

        layout.prop(ipaint, "seam_bleed")
        layout.prop(ipaint, "dither", slider=True)

        col = layout.column()
        col.prop(ipaint, "use_occlude")
        col.prop(ipaint, "use_backface_culling", text="Backface Culling")


class VIEW3D_PT_tools_imagepaint_options_cavity(View3DPaintPanel, Panel):
    bl_context = ".imagepaint"  # dot on purpose (access from topbar)
    bl_label = "Cavity Mask"
    bl_parent_id = "VIEW3D_PT_mask"
    bl_options = {'DEFAULT_CLOSED'}

    def draw_header(self, context):
        tool_settings = context.tool_settings
        ipaint = tool_settings.image_paint

        self.layout.prop(ipaint, "use_cavity", text="")

    def draw(self, context):
        layout = self.layout

        tool_settings = context.tool_settings
        ipaint = tool_settings.image_paint

        layout.active = ipaint.use_cavity

        layout.template_curve_mapping(ipaint, "cavity_curve", brush=True,
                                      use_negative_slope=True)


# TODO, move to space_view3d.py
class VIEW3D_PT_imagepaint_options(View3DPaintPanel):
    bl_label = "Options"

    @classmethod
    def poll(cls, _context):
        # This is currently unused, since there aren't any Vertex Paint mode specific options.
        return False
        # return (context.image_paint_object and context.tool_settings.image_paint)

    def draw(self, _context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False


class VIEW3D_MT_tools_projectpaint_stencil(Menu):
    bl_label = "Mask Layer"

    def draw(self, context):
        layout = self.layout
        for i, uv_layer in enumerate(context.active_object.data.uv_layers):
            props = layout.operator("wm.context_set_int", text=uv_layer.name, translate=False)
            props.data_path = "active_object.data.uv_layer_stencil_index"
            props.value = i


# TODO, move to space_view3d.py
class VIEW3D_PT_tools_particlemode_options(View3DPanel, Panel):
    """Default tools for particle mode"""
    bl_category = "Tool"
    bl_context = ".particlemode"
    bl_label = "Options"
    bl_options = {'DEFAULT_CLOSED'}

    def draw(self, context):
        layout = self.layout

        layout.use_property_split = True
        layout.use_property_decorate = False  # No animation.

        pe = context.tool_settings.particle_edit
        ob = pe.object

        layout.prop(pe, "type", text="Editing Type")

        ptcache = None

        if pe.type == 'PARTICLES':
            if ob.particle_systems:
                if len(ob.particle_systems) > 1:
                    layout.template_list("UI_UL_list", "particle_systems", ob, "particle_systems",
                                         ob.particle_systems, "active_index", rows=2, maxrows=3)

                ptcache = ob.particle_systems.active.point_cache
        else:
            for md in ob.modifiers:
                if md.type == pe.type:
                    ptcache = md.point_cache

        if ptcache and len(ptcache.point_caches) > 1:
            layout.template_list("UI_UL_list", "particles_point_caches", ptcache, "point_caches",
                                 ptcache.point_caches, "active_index", rows=2, maxrows=3)

        if not pe.is_editable:
            layout.label(text="Point cache must be baked")
            layout.label(text="in memory to enable editing!")

        col = layout.column(align=True)
        col.active = pe.is_editable

        if not pe.is_hair:
            col.prop(pe, "use_auto_velocity", text="Auto-Velocity")
            col.separator()

        sub = col.column(align=True, heading="Mirror")
        sub.prop(ob.data, "use_mirror_x")
        if pe.tool == 'ADD':
            sub.prop(ob.data, "use_mirror_topology")
        col.separator()

        sub = col.column(align=True, heading="Preserve")
        sub.prop(pe, "use_preserve_length", text="Strand Lengths")
        sub.prop(pe, "use_preserve_root", text="Root Positions")


class VIEW3D_PT_tools_particlemode_options_shapecut(View3DPanel, Panel):
    """Default tools for particle mode"""
    bl_category = "Tool"
    bl_parent_id = "VIEW3D_PT_tools_particlemode_options"
    bl_label = "Cut Particles to Shape"
    bl_options = {'DEFAULT_CLOSED'}

    def draw(self, context):
        layout = self.layout

        layout.use_property_split = True
        layout.use_property_decorate = False  # No animation.

        pe = context.tool_settings.particle_edit

        layout.prop(pe, "shape_object")
        layout.operator("particle.shape_cut", text="Cut")


class VIEW3D_PT_tools_particlemode_options_display(View3DPanel, Panel):
    """Default tools for particle mode"""
    bl_category = "Tool"
    bl_parent_id = "VIEW3D_PT_tools_particlemode_options"
    bl_label = "Viewport Display"

    def draw(self, context):
        layout = self.layout

        layout.use_property_split = True
        layout.use_property_decorate = False  # No animation.

        pe = context.tool_settings.particle_edit

        col = layout.column()
        col.active = pe.is_editable
        col.prop(pe, "display_step", text="Path Steps")
        if pe.is_hair:
            col.prop(pe, "show_particles", text="Children")
        else:
            if pe.type == 'PARTICLES':
                col.prop(pe, "show_particles", text="Particles")
            col = layout.column(align=False, heading="Fade Time")
            row = col.row(align=True)
            sub = row.row(align=True)
            sub.prop(pe, "use_fade_time", text="")
            sub = sub.row(align=True)
            sub.active = pe.use_fade_time
            sub.prop(pe, "fade_frames", slider=True, text="")


# ********** grease pencil object tool panels ****************

# Grease Pencil drawing brushes

def tool_use_brush(context):
    from bl_ui.space_toolsystem_common import ToolSelectPanelHelper
    tool = ToolSelectPanelHelper.tool_active_from_context(context)
    if tool and tool.has_datablock is False:
        return False

    return True


class GreasePencilPaintPanel:
    bl_context = ".greasepencil_paint"
    bl_category = "Tool"

    @classmethod
    def poll(cls, context):
        if context.space_data.type in {'VIEW_3D', 'PROPERTIES'}:
            if context.gpencil_data is None:
                return False

            # Hide for tools not using bruhses
            if tool_use_brush(context) is False:
                return False

            gpd = context.gpencil_data
            return bool(gpd.is_stroke_paint_mode)
        else:
            return True


class VIEW3D_PT_tools_grease_pencil_brush_select(Panel, View3DPanel, GreasePencilPaintPanel):
    bl_label = "Brushes"

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.scene.tool_settings
        gpencil_paint = tool_settings.gpencil_paint

        row = layout.row()
        row.column().template_ID_preview(gpencil_paint, "brush", new="brush.add_gpencil", rows=3, cols=8)

        col = row.column()
        col.menu("VIEW3D_MT_brush_gpencil_context_menu", icon='DOWNARROW_HLT', text="")

        if context.mode == 'PAINT_GPENCIL':
            brush = tool_settings.gpencil_paint.brush
            if brush is not None:
                col.prop(brush, "use_custom_icon", toggle=True, icon='FILE_IMAGE', text="")

                if brush.use_custom_icon:
                    layout.row().prop(brush, "icon_filepath", text="")


class VIEW3D_PT_tools_grease_pencil_brush_settings(Panel, View3DPanel, GreasePencilPaintPanel):
    bl_label = "Brush Settings"
    bl_options = {'DEFAULT_CLOSED'}

    # What is the point of brush presets? Seems to serve the exact same purpose as brushes themselves??
    def draw_header_preset(self, _context):
        VIEW3D_PT_gpencil_brush_presets.draw_panel_header(self.layout)

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.scene.tool_settings
        gpencil_paint = tool_settings.gpencil_paint

        brush = gpencil_paint.brush

        if brush is not None:
            gp_settings = brush.gpencil_settings

            if brush.gpencil_tool in {'DRAW', 'FILL'}:
                row = layout.row(align=True)
                row_mat = row.row()
                if gp_settings.use_material_pin:
                    row_mat.template_ID(gp_settings, "material", live_icon=True)
                else:
                    row_mat.template_ID(context.active_object, "active_material", live_icon=True)
                    row_mat.enabled = False  # will otherwise allow changing material in active slot

                row.prop(gp_settings, "use_material_pin", text="")

            if not self.is_popover:
                from bl_ui.properties_paint_common import (
                    brush_basic_gpencil_paint_settings,
                )
                brush_basic_gpencil_paint_settings(layout, context, brush, compact=False)


class VIEW3D_PT_tools_grease_pencil_brush_advanced(View3DPanel, Panel):
    bl_context = ".greasepencil_paint"
    bl_label = "Advanced"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_brush_settings'
    bl_category = "Tool"
    bl_options = {'DEFAULT_CLOSED'}
    bl_ui_units_x = 13

    @classmethod
    def poll(cls, context):
        brush = context.tool_settings.gpencil_paint.brush
        return brush is not None and brush.gpencil_tool not in {'ERASE', 'TINT'}

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.scene.tool_settings
        gpencil_paint = tool_settings.gpencil_paint
        brush = gpencil_paint.brush
        gp_settings = brush.gpencil_settings

        col = layout.column(align=True)
        if brush is not None:
            if brush.gpencil_tool != 'FILL':
                col.prop(gp_settings, "input_samples")
                col.separator()

                col.prop(gp_settings, "active_smooth_factor")
                col.separator()

                col.prop(gp_settings, "angle", slider=True)
                col.prop(gp_settings, "angle_factor", text="Factor", slider=True)

                ob = context.object
                ma = None
                if ob and brush.gpencil_settings.use_material_pin is False:
                    ma = ob.active_material
                elif brush.gpencil_settings.material:
                    ma = brush.gpencil_settings.material

                col.separator()
                col.prop(gp_settings, "hardness", slider=True)
                subcol = col.column(align=True)
                if ma and ma.grease_pencil.mode == 'LINE':
                    subcol.enabled = False
                subcol.prop(gp_settings, "aspect")

            elif brush.gpencil_tool == 'FILL':
                row = col.row(align=True)
                row.prop(gp_settings, "fill_draw_mode", text="Boundary")
                row.prop(
                    gp_settings,
                    "show_fill_boundary",
                    icon='HIDE_OFF' if gp_settings.show_fill_boundary else 'HIDE_ON',
                    text="",
                )

                col.separator()
                row = col.row(align=True)
                row.prop(gp_settings, "fill_layer_mode", text="Layers")

                col.separator()
                col.prop(gp_settings, "fill_simplify_level", text="Simplify")
                if gp_settings.fill_draw_mode != 'STROKE':
                    col = layout.column(align=False, heading="Ignore Transparent")
                    col.use_property_decorate = False
                    row = col.row(align=True)
                    sub = row.row(align=True)
                    sub.prop(gp_settings, "show_fill", text="")
                    sub = sub.row(align=True)
                    sub.active = gp_settings.show_fill
                    sub.prop(gp_settings, "fill_threshold", text="")

                col.separator()
                row = col.row(align=True)
                row.prop(gp_settings, "use_fill_limit")


class VIEW3D_PT_tools_grease_pencil_brush_stroke(Panel, View3DPanel):
    bl_context = ".greasepencil_paint"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_brush_settings'
    bl_label = "Stroke"
    bl_category = "Tool"
    bl_options = {'DEFAULT_CLOSED'}
    bl_ui_units_x = 12

    @classmethod
    def poll(cls, context):
        brush = context.tool_settings.gpencil_paint.brush
        return brush is not None and brush.gpencil_tool == 'DRAW'

    def draw(self, _context):
        # layout = self.layout
        pass


class VIEW3D_PT_tools_grease_pencil_brush_stabilizer(Panel, View3DPanel):
    bl_context = ".greasepencil_paint"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_brush_stroke'
    bl_label = "Stabilize Stroke"
    bl_category = "Tool"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        brush = context.tool_settings.gpencil_paint.brush
        return brush is not None and brush.gpencil_tool == 'DRAW'

    def draw_header(self, context):
        if self.is_popover:
            return

        brush = context.tool_settings.gpencil_paint.brush
        gp_settings = brush.gpencil_settings
        self.layout.prop(gp_settings, "use_settings_stabilizer", text="")

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        brush = context.tool_settings.gpencil_paint.brush
        gp_settings = brush.gpencil_settings

        if self.is_popover:
            row = layout.row()
            row.prop(gp_settings, "use_settings_stabilizer", text="")
            row.label(text=self.bl_label)

        col = layout.column()
        col.active = gp_settings.use_settings_stabilizer

        col.prop(brush, "smooth_stroke_radius", text="Radius", slider=True)
        col.prop(brush, "smooth_stroke_factor", text="Factor", slider=True)


class VIEW3D_PT_tools_grease_pencil_brush_post_processing(View3DPanel, Panel):
    bl_context = ".greasepencil_paint"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_brush_stroke'
    bl_label = "Post-Processing"
    bl_category = "Tool"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        brush = context.tool_settings.gpencil_paint.brush
        return brush is not None and brush.gpencil_tool not in {'ERASE', 'FILL', 'TINT'}

    def draw_header(self, context):
        if self.is_popover:
            return

        brush = context.tool_settings.gpencil_paint.brush
        gp_settings = brush.gpencil_settings
        self.layout.prop(gp_settings, "use_settings_postprocess", text="")

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        brush = context.tool_settings.gpencil_paint.brush
        gp_settings = brush.gpencil_settings

        if self.is_popover:
            row = layout.row()
            row.prop(gp_settings, "use_settings_postprocess", text="")
            row.label(text=self.bl_label)

        col = layout.column()
        col.active = gp_settings.use_settings_postprocess

        col1 = col.column(align=True)
        col1.prop(gp_settings, "pen_smooth_factor")
        col1.prop(gp_settings, "pen_smooth_steps")

        col1 = col.column(align=True)
        col1.prop(gp_settings, "pen_subdivision_steps")

        col1 = col.column(align=True)
        col1.prop(gp_settings, "simplify_factor")

        col1 = col.column(align=True)
        col1.prop(gp_settings, "use_trim")

        col.separator()

        row = col.row(heading="Outline", align=True)
        row.prop(gp_settings, "use_settings_outline", text="")
        row2 = row.row(align=True)
        row2.enabled = gp_settings.use_settings_outline
        row2.prop(gp_settings, "material_alt", text="")

        row2 = col.row(align=True)
        row2.enabled = gp_settings.use_settings_outline
        row2.prop(gp_settings, "outline_thickness_factor")


class VIEW3D_PT_tools_grease_pencil_brush_random(View3DPanel, Panel):
    bl_context = ".greasepencil_paint"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_brush_stroke'
    bl_label = "Randomize"
    bl_category = "Tool"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        brush = context.tool_settings.gpencil_paint.brush
        return brush is not None and brush.gpencil_tool not in {'ERASE', 'FILL', 'TINT'}

    def draw_header(self, context):
        if self.is_popover:
            return

        brush = context.tool_settings.gpencil_paint.brush
        gp_settings = brush.gpencil_settings
        self.layout.prop(gp_settings, "use_settings_random", text="")

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        brush = tool_settings.gpencil_paint.brush
        mode = tool_settings.gpencil_paint.color_mode
        gp_settings = brush.gpencil_settings

        if self.is_popover:
            row = layout.row()
            row.prop(gp_settings, "use_settings_random", text="")
            row.label(text=self.bl_label)

        col = layout.column()
        col.enabled = gp_settings.use_settings_random

        row = col.row(align=True)
        row.prop(gp_settings, "random_pressure", text="Radius", slider=True)
        row.prop(gp_settings, "use_stroke_random_radius", text="", icon='GP_SELECT_STROKES')
        row.prop(gp_settings, "use_random_press_radius", text="", icon='STYLUS_PRESSURE')
        if gp_settings.use_random_press_radius and self.is_popover is False:
            col.template_curve_mapping(gp_settings, "curve_random_pressure", brush=True,
                                       use_negative_slope=True)

        row = col.row(align=True)
        row.prop(gp_settings, "random_strength", text="Strength", slider=True)
        row.prop(gp_settings, "use_stroke_random_strength", text="", icon='GP_SELECT_STROKES')
        row.prop(gp_settings, "use_random_press_strength", text="", icon='STYLUS_PRESSURE')
        if gp_settings.use_random_press_strength and self.is_popover is False:
            col.template_curve_mapping(gp_settings, "curve_random_strength", brush=True,
                                       use_negative_slope=True)

        row = col.row(align=True)
        row.prop(gp_settings, "uv_random", text="UV", slider=True)
        row.prop(gp_settings, "use_stroke_random_uv", text="", icon='GP_SELECT_STROKES')
        row.prop(gp_settings, "use_random_press_uv", text="", icon='STYLUS_PRESSURE')
        if gp_settings.use_random_press_uv and self.is_popover is False:
            col.template_curve_mapping(gp_settings, "curve_random_uv", brush=True,
                                       use_negative_slope=True)

        col.separator()

        col1 = col.column(align=True)
        col1.enabled = mode == 'VERTEXCOLOR' and gp_settings.use_settings_random
        row = col1.row(align=True)
        row.prop(gp_settings, "random_hue_factor", slider=True)
        row.prop(gp_settings, "use_stroke_random_hue", text="", icon='GP_SELECT_STROKES')
        row.prop(gp_settings, "use_random_press_hue", text="", icon='STYLUS_PRESSURE')
        if gp_settings.use_random_press_hue and self.is_popover is False:
            col1.template_curve_mapping(gp_settings, "curve_random_hue", brush=True,
                                        use_negative_slope=True)

        row = col1.row(align=True)
        row.prop(gp_settings, "random_saturation_factor", slider=True)
        row.prop(gp_settings, "use_stroke_random_sat", text="", icon='GP_SELECT_STROKES')
        row.prop(gp_settings, "use_random_press_sat", text="", icon='STYLUS_PRESSURE')
        if gp_settings.use_random_press_sat and self.is_popover is False:
            col1.template_curve_mapping(gp_settings, "curve_random_saturation", brush=True,
                                        use_negative_slope=True)

        row = col1.row(align=True)
        row.prop(gp_settings, "random_value_factor", slider=True)
        row.prop(gp_settings, "use_stroke_random_val", text="", icon='GP_SELECT_STROKES')
        row.prop(gp_settings, "use_random_press_val", text="", icon='STYLUS_PRESSURE')
        if gp_settings.use_random_press_val and self.is_popover is False:
            col1.template_curve_mapping(gp_settings, "curve_random_value", brush=True,
                                        use_negative_slope=True)

        col.separator()

        row = col.row(align=True)
        row.prop(gp_settings, "pen_jitter", slider=True)
        row.prop(gp_settings, "use_jitter_pressure", text="", icon='STYLUS_PRESSURE')
        if gp_settings.use_jitter_pressure and self.is_popover is False:
            col.template_curve_mapping(gp_settings, "curve_jitter", brush=True,
                                       use_negative_slope=True)


class VIEW3D_PT_tools_grease_pencil_brush_paint_falloff(GreasePencilBrushFalloff, Panel, View3DPaintPanel):
    bl_context = ".greasepencil_paint"
    bl_label = "Falloff"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        ts = context.tool_settings
        settings = ts.gpencil_paint
        brush = settings.brush
        if brush is None:
            return False

        from bl_ui.space_toolsystem_common import ToolSelectPanelHelper
        tool = ToolSelectPanelHelper.tool_active_from_context(context)
        if tool and tool.idname != 'builtin_brush.Tint':
            return False

        gptool = brush.gpencil_tool

        return (settings and settings.brush and settings.brush.curve and gptool == 'TINT')


class VIEW3D_PT_tools_grease_pencil_brush_gap_closure(View3DPanel, Panel):
    bl_context = ".greasepencil_paint"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_brush_advanced'
    bl_label = "Gap Closure"
    bl_category = "Tool"

    @classmethod
    def poll(cls, context):
        brush = context.tool_settings.gpencil_paint.brush
        return brush is not None and brush.gpencil_tool == 'FILL'

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.tool_settings
        brush = tool_settings.gpencil_paint.brush
        gp_settings = brush.gpencil_settings

        col = layout.column()

        col.prop(gp_settings, "extend_stroke_factor", text="Size")
        row = col.row(align=True)
        row.prop(gp_settings, "fill_extend_mode", text="Mode")
        row = col.row(align=True)
        row.prop(gp_settings, "show_fill_extend", text="Visual Aids")

        if gp_settings.fill_extend_mode == 'EXTEND':
            row = col.row(align=True)
            row.prop(gp_settings, "use_collide_strokes")


# Grease Pencil stroke sculpting tools
class GreasePencilSculptPanel:
    bl_context = ".greasepencil_sculpt"
    bl_category = "Tool"

    @classmethod
    def poll(cls, context):
        if context.space_data.type in {'VIEW_3D', 'PROPERTIES'}:
            if context.gpencil_data is None:
                return False

            gpd = context.gpencil_data
            return bool(gpd.is_stroke_sculpt_mode)
        else:
            return True


class VIEW3D_PT_tools_grease_pencil_sculpt_select(Panel, View3DPanel, GreasePencilSculptPanel):
    bl_label = "Brushes"

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.scene.tool_settings
        gpencil_paint = tool_settings.gpencil_sculpt_paint

        row = layout.row()
        row.column().template_ID_preview(gpencil_paint, "brush", new="brush.add_gpencil", rows=3, cols=8)

        col = row.column()
        col.menu("VIEW3D_MT_brush_gpencil_context_menu", icon='DOWNARROW_HLT', text="")

        if context.mode == 'SCULPT_GPENCIL':
            brush = tool_settings.gpencil_sculpt_paint.brush
            if brush is not None:
                col.prop(brush, "use_custom_icon", toggle=True, icon='FILE_IMAGE', text="")

                if (brush.use_custom_icon):
                    layout.row().prop(brush, "icon_filepath", text="")


class VIEW3D_PT_tools_grease_pencil_sculpt_settings(Panel, View3DPanel, GreasePencilSculptPanel):
    bl_label = "Brush Settings"

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.scene.tool_settings
        settings = tool_settings.gpencil_sculpt_paint
        brush = settings.brush

        if not self.is_popover:
            from bl_ui.properties_paint_common import (
                brush_basic_gpencil_sculpt_settings,
            )
            brush_basic_gpencil_sculpt_settings(layout, context, brush)


class VIEW3D_PT_tools_grease_pencil_brush_sculpt_falloff(GreasePencilBrushFalloff, Panel, View3DPaintPanel):
    bl_context = ".greasepencil_sculpt"
    bl_label = "Falloff"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        ts = context.tool_settings
        settings = ts.gpencil_sculpt_paint
        return (settings and settings.brush and settings.brush.curve)


class VIEW3D_PT_tools_grease_pencil_sculpt_brush_advanced(GreasePencilSculptAdvancedPanel, View3DPanel, Panel):
    bl_context = ".greasepencil_sculpt"
    bl_label = "Advanced"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_sculpt_settings'
    bl_category = "Tool"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        brush = context.tool_settings.gpencil_sculpt_paint.brush
        if brush is None:
            return False

        tool = brush.gpencil_sculpt_tool
        return tool != 'CLONE'


class VIEW3D_PT_tools_grease_pencil_sculpt_brush_popover(GreasePencilSculptAdvancedPanel, View3DPanel, Panel):
    bl_context = ".greasepencil_sculpt"
    bl_label = "Brush"
    bl_category = "Tool"

    @classmethod
    def poll(cls, context):
        if context.region.type != 'TOOL_HEADER':
            return False

        brush = context.tool_settings.gpencil_sculpt_paint.brush
        if brush is None:
            return False

        tool = brush.gpencil_sculpt_tool
        return tool != 'CLONE'


# Grease Pencil weight painting tools
class GreasePencilWeightPanel:
    bl_context = ".greasepencil_weight"
    bl_category = "Tool"

    @classmethod
    def poll(cls, context):
        if context.space_data.type in {'VIEW_3D', 'PROPERTIES'}:
            if context.gpencil_data is None:
                return False

            gpd = context.gpencil_data
            return bool(gpd.is_stroke_weight_mode)
        else:
            return True


class VIEW3D_PT_tools_grease_pencil_weight_paint_select(View3DPanel, Panel, GreasePencilWeightPanel):
    bl_label = "Brushes"

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.scene.tool_settings
        gpencil_paint = tool_settings.gpencil_weight_paint

        row = layout.row()
        row.column().template_ID_preview(gpencil_paint, "brush", new="brush.add_gpencil", rows=3, cols=8)

        col = row.column()
        col.menu("VIEW3D_MT_brush_gpencil_context_menu", icon='DOWNARROW_HLT', text="")

        if context.mode == 'WEIGHT_GPENCIL':
            brush = tool_settings.gpencil_weight_paint.brush
            if brush is not None:
                col.prop(brush, "use_custom_icon", toggle=True, icon='FILE_IMAGE', text="")

                if (brush.use_custom_icon):
                    layout.row().prop(brush, "icon_filepath", text="")


class VIEW3D_PT_tools_grease_pencil_weight_paint_settings(Panel, View3DPanel, GreasePencilWeightPanel):
    bl_label = "Brush Settings"

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.scene.tool_settings
        settings = tool_settings.gpencil_weight_paint
        brush = settings.brush

        if not self.is_popover:
            from bl_ui.properties_paint_common import (
                brush_basic_gpencil_weight_settings,
            )
            brush_basic_gpencil_weight_settings(layout, context, brush)


class VIEW3D_PT_tools_grease_pencil_brush_weight_falloff(GreasePencilBrushFalloff, Panel, View3DPaintPanel):
    bl_context = ".greasepencil_weight"
    bl_label = "Falloff"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        ts = context.tool_settings
        settings = ts.gpencil_weight_paint
        brush = settings.brush
        return (brush and brush.curve)


# Grease Pencil vertex painting tools
class GreasePencilVertexPanel:
    bl_context = ".greasepencil_vertex"
    bl_category = "Tool"

    @classmethod
    def poll(cls, context):
        if context.space_data.type in {'VIEW_3D', 'PROPERTIES'}:
            if context.gpencil_data is None:
                return False

            gpd = context.gpencil_data
            return bool(gpd.is_stroke_vertex_mode)
        else:
            return True


class VIEW3D_PT_tools_grease_pencil_vertex_paint_select(View3DPanel, Panel, GreasePencilVertexPanel):
    bl_label = "Brushes"

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.scene.tool_settings
        gpencil_paint = tool_settings.gpencil_vertex_paint

        row = layout.row()
        row.column().template_ID_preview(gpencil_paint, "brush", new="brush.add_gpencil", rows=3, cols=8)

        col = row.column()
        col.menu("VIEW3D_MT_brush_gpencil_context_menu", icon='DOWNARROW_HLT', text="")

        if context.mode == 'VERTEX_GPENCIL':
            brush = tool_settings.gpencil_vertex_paint.brush
            if brush is not None:
                col.prop(brush, "use_custom_icon", toggle=True, icon='FILE_IMAGE', text="")

                if (brush.use_custom_icon):
                    layout.row().prop(brush, "icon_filepath", text="")


class VIEW3D_PT_tools_grease_pencil_vertex_paint_settings(Panel, View3DPanel, GreasePencilVertexPanel):
    bl_label = "Brush Settings"

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False

        tool_settings = context.scene.tool_settings
        settings = tool_settings.gpencil_vertex_paint
        brush = settings.brush

        if not self.is_popover:
            from bl_ui.properties_paint_common import (
                brush_basic_gpencil_vertex_settings,
            )
            brush_basic_gpencil_vertex_settings(layout, context, brush)


class VIEW3D_PT_tools_grease_pencil_brush_vertex_color(View3DPanel, Panel):
    bl_context = ".greasepencil_vertex"
    bl_label = "Color"
    bl_category = "Tool"

    @classmethod
    def poll(cls, context):
        ob = context.object
        ts = context.tool_settings
        settings = ts.gpencil_vertex_paint
        brush = settings.brush

        if ob is None or brush is None:
            return False

        if context.region.type == 'TOOL_HEADER' or brush.gpencil_vertex_tool in {'BLUR', 'AVERAGE', 'SMEAR'}:
            return False

        return True

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False
        ts = context.tool_settings
        settings = ts.gpencil_vertex_paint
        brush = settings.brush

        col = layout.column()

        col.template_color_picker(brush, "color", value_slider=True)

        sub_row = col.row(align=True)
        sub_row.prop(brush, "color", text="")
        sub_row.prop(brush, "secondary_color", text="")

        sub_row.operator("gpencil.tint_flip", icon='FILE_REFRESH', text="")


class VIEW3D_PT_tools_grease_pencil_brush_vertex_falloff(GreasePencilBrushFalloff, Panel, View3DPaintPanel):
    bl_context = ".greasepencil_vertex"
    bl_label = "Falloff"
    bl_options = {'DEFAULT_CLOSED'}

    @classmethod
    def poll(cls, context):
        ts = context.tool_settings
        settings = ts.gpencil_vertex_paint
        return (settings and settings.brush and settings.brush.curve)


class VIEW3D_PT_tools_grease_pencil_brush_vertex_palette(View3DPanel, Panel):
    bl_context = ".greasepencil_vertex"
    bl_label = "Palette"
    bl_category = "Tool"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_brush_vertex_color'

    @classmethod
    def poll(cls, context):
        ob = context.object
        ts = context.tool_settings
        settings = ts.gpencil_vertex_paint
        brush = settings.brush

        if ob is None or brush is None:
            return False

        if brush.gpencil_vertex_tool in {'BLUR', 'AVERAGE', 'SMEAR'}:
            return False

        return True

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False
        ts = context.tool_settings
        settings = ts.gpencil_vertex_paint

        col = layout.column()

        row = col.row(align=True)
        row.template_ID(settings, "palette", new="palette.new")
        if settings.palette:
            col.template_palette(settings, "palette", color=True)


class VIEW3D_PT_tools_grease_pencil_brush_mixcolor(View3DPanel, Panel):
    bl_context = ".greasepencil_paint"
    bl_label = "Color"
    bl_category = "Tool"

    @classmethod
    def poll(cls, context):
        ob = context.object
        ts = context.tool_settings
        settings = ts.gpencil_paint
        brush = settings.brush

        if ob is None or brush is None:
            return False

        if context.region.type == 'TOOL_HEADER':
            return False

        from bl_ui.space_toolsystem_common import ToolSelectPanelHelper
        tool = ToolSelectPanelHelper.tool_active_from_context(context)
        if tool and tool.idname in {'builtin.cutter', 'builtin.eyedropper', 'builtin.interpolate'}:
            return False

        if brush.gpencil_tool == 'TINT':
            return True

        if brush.gpencil_tool not in {'DRAW', 'FILL'}:
            return False

        return True

    def draw(self, context):
        layout = self.layout
        ts = context.tool_settings
        settings = ts.gpencil_paint
        brush = settings.brush
        gp_settings = brush.gpencil_settings

        if brush.gpencil_tool != 'TINT':
            row = layout.row()
            row.prop(settings, "color_mode", expand=True)

        layout.use_property_split = True
        layout.use_property_decorate = False
        col = layout.column()
        col.enabled = settings.color_mode == 'VERTEXCOLOR' or brush.gpencil_tool == 'TINT'

        col.template_color_picker(brush, "color", value_slider=True)

        sub_row = col.row(align=True)
        sub_row.prop(brush, "color", text="")
        sub_row.prop(brush, "secondary_color", text="")

        sub_row.operator("gpencil.tint_flip", icon='FILE_REFRESH', text="")

        if brush.gpencil_tool in {'DRAW', 'FILL'}:
            col.prop(gp_settings, "vertex_mode", text="Mode")
            col.prop(gp_settings, "vertex_color_factor", slider=True, text="Mix Factor")

        if brush.gpencil_tool == 'TINT':
            col.prop(gp_settings, "vertex_mode", text="Mode")


class VIEW3D_PT_tools_grease_pencil_brush_mix_palette(View3DPanel, Panel):
    bl_context = ".greasepencil_paint"
    bl_label = "Palette"
    bl_category = "Tool"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_brush_mixcolor'

    @classmethod
    def poll(cls, context):
        ob = context.object
        ts = context.tool_settings
        settings = ts.gpencil_paint
        brush = settings.brush

        if ob is None or brush is None:
            return False

        from bl_ui.space_toolsystem_common import ToolSelectPanelHelper
        tool = ToolSelectPanelHelper.tool_active_from_context(context)
        if tool and tool.idname in {'builtin.cutter', 'builtin.eyedropper', 'builtin.interpolate'}:
            return False

        if brush.gpencil_tool == 'TINT':
            return True

        if brush.gpencil_tool not in {'DRAW', 'FILL'}:
            return False

        return True

    def draw(self, context):
        layout = self.layout
        layout.use_property_split = True
        layout.use_property_decorate = False
        ts = context.tool_settings
        settings = ts.gpencil_paint
        brush = settings.brush

        col = layout.column()
        col.enabled = settings.color_mode == 'VERTEXCOLOR' or brush.gpencil_tool == 'TINT'

        row = col.row(align=True)
        row.template_ID(settings, "palette", new="palette.new")
        if settings.palette:
            col.template_palette(settings, "palette", color=True)


# Grease Pencil Brush Appearance (one for each mode)
class VIEW3D_PT_tools_grease_pencil_paint_appearance(GreasePencilDisplayPanel, Panel, View3DPanel):
    bl_context = ".greasepencil_paint"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_brush_settings'
    bl_label = "Cursor"
    bl_category = "Tool"
    bl_ui_units_x = 15


class VIEW3D_PT_tools_grease_pencil_sculpt_appearance(GreasePencilDisplayPanel, Panel, View3DPanel):
    bl_context = ".greasepencil_sculpt"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_sculpt_settings'
    bl_label = "Cursor"
    bl_category = "Tool"


class VIEW3D_PT_tools_grease_pencil_weight_appearance(GreasePencilDisplayPanel, Panel, View3DPanel):
    bl_context = ".greasepencil_weight"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_weight_paint_settings'
    bl_category = "Tool"
    bl_label = "Cursor"


class VIEW3D_PT_tools_grease_pencil_vertex_appearance(GreasePencilDisplayPanel, Panel, View3DPanel):
    bl_context = ".greasepencil_vertex"
    bl_parent_id = 'VIEW3D_PT_tools_grease_pencil_vertex_paint_settings'
    bl_category = "Tool"
    bl_label = "Cursor"


class VIEW3D_PT_gpencil_brush_presets(Panel, PresetPanel):
    """Brush settings"""
    bl_label = "Brush Presets"
    preset_subdir = "gpencil_brush"
    preset_operator = "script.execute_preset"
    preset_add_operator = "scene.gpencil_brush_preset_add"


classes = (
    VIEW3D_MT_brush_context_menu,
    VIEW3D_MT_brush_gpencil_context_menu,
    VIEW3D_PT_tools_object_options,
    VIEW3D_PT_tools_object_options_transform,
    VIEW3D_PT_tools_meshedit_options,
    VIEW3D_PT_tools_meshedit_options_automerge,
    VIEW3D_PT_tools_armatureedit_options,
    VIEW3D_PT_tools_posemode_options,

    VIEW3D_PT_slots_projectpaint,
    VIEW3D_PT_slots_paint_canvas,
    VIEW3D_PT_tools_brush_select,
    VIEW3D_PT_tools_brush_settings,
    VIEW3D_PT_tools_brush_color,
    VIEW3D_PT_tools_brush_swatches,
    VIEW3D_PT_tools_brush_settings_advanced,
    VIEW3D_PT_tools_brush_clone,
    TEXTURE_UL_texpaintslots,
    VIEW3D_MT_tools_projectpaint_uvlayer,
    VIEW3D_PT_tools_brush_texture,
    VIEW3D_PT_tools_mask_texture,
    VIEW3D_PT_tools_brush_stroke,
    VIEW3D_PT_tools_brush_stroke_smooth_stroke,
    VIEW3D_PT_tools_brush_falloff,
    VIEW3D_PT_tools_brush_falloff_frontface,
    VIEW3D_PT_tools_brush_falloff_normal,
    VIEW3D_PT_tools_brush_display,
    VIEW3D_PT_tools_weight_gradient,

    VIEW3D_PT_sculpt_dyntopo,
    VIEW3D_PT_sculpt_voxel_remesh,
    VIEW3D_PT_sculpt_symmetry,
    VIEW3D_PT_sculpt_symmetry_for_topbar,
    VIEW3D_PT_sculpt_options,
    VIEW3D_PT_sculpt_options_gravity,

    VIEW3D_PT_curves_sculpt_symmetry,
    VIEW3D_PT_curves_sculpt_symmetry_for_topbar,

    VIEW3D_PT_tools_weightpaint_symmetry,
    VIEW3D_PT_tools_weightpaint_symmetry_for_topbar,
    VIEW3D_PT_tools_weightpaint_options,

    VIEW3D_PT_tools_vertexpaint_symmetry,
    VIEW3D_PT_tools_vertexpaint_symmetry_for_topbar,
    VIEW3D_PT_tools_vertexpaint_options,

    VIEW3D_PT_mask,
    VIEW3D_PT_stencil_projectpaint,
    VIEW3D_PT_tools_imagepaint_options_cavity,

    VIEW3D_PT_tools_imagepaint_symmetry,
    VIEW3D_PT_tools_imagepaint_options,

    VIEW3D_PT_tools_imagepaint_options_external,
    VIEW3D_MT_tools_projectpaint_stencil,

    VIEW3D_PT_tools_particlemode,
    VIEW3D_PT_tools_particlemode_options,
    VIEW3D_PT_tools_particlemode_options_shapecut,
    VIEW3D_PT_tools_particlemode_options_display,

    VIEW3D_PT_gpencil_brush_presets,
    VIEW3D_PT_tools_grease_pencil_brush_select,
    VIEW3D_PT_tools_grease_pencil_brush_settings,
    VIEW3D_PT_tools_grease_pencil_brush_advanced,
    VIEW3D_PT_tools_grease_pencil_brush_stroke,
    VIEW3D_PT_tools_grease_pencil_brush_post_processing,
    VIEW3D_PT_tools_grease_pencil_brush_random,
    VIEW3D_PT_tools_grease_pencil_brush_stabilizer,
    VIEW3D_PT_tools_grease_pencil_brush_gap_closure,
    VIEW3D_PT_tools_grease_pencil_paint_appearance,
    VIEW3D_PT_tools_grease_pencil_sculpt_select,
    VIEW3D_PT_tools_grease_pencil_sculpt_settings,
    VIEW3D_PT_tools_grease_pencil_sculpt_brush_advanced,
    VIEW3D_PT_tools_grease_pencil_sculpt_brush_popover,
    VIEW3D_PT_tools_grease_pencil_sculpt_appearance,
    VIEW3D_PT_tools_grease_pencil_weight_paint_select,
    VIEW3D_PT_tools_grease_pencil_weight_paint_settings,
    VIEW3D_PT_tools_grease_pencil_weight_appearance,
    VIEW3D_PT_tools_grease_pencil_vertex_paint_select,
    VIEW3D_PT_tools_grease_pencil_vertex_paint_settings,
    VIEW3D_PT_tools_grease_pencil_vertex_appearance,
    VIEW3D_PT_tools_grease_pencil_brush_mixcolor,
    VIEW3D_PT_tools_grease_pencil_brush_mix_palette,

    VIEW3D_PT_tools_grease_pencil_brush_paint_falloff,
    VIEW3D_PT_tools_grease_pencil_brush_sculpt_falloff,
    VIEW3D_PT_tools_grease_pencil_brush_weight_falloff,
    VIEW3D_PT_tools_grease_pencil_brush_vertex_color,
    VIEW3D_PT_tools_grease_pencil_brush_vertex_palette,
    VIEW3D_PT_tools_grease_pencil_brush_vertex_falloff,
)

if __name__ == "__main__":  # only for live edit.
    from bpy.utils import register_class
    for cls in classes:
        register_class(cls)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          # SPDX-License-Identifier: GPL-2.0-or-later

"""Declare shading properties exported to POV textures."""
import bpy
from bpy.utils import register_class, unregister_class
from bpy.types import PropertyGroup
from bpy.props import (
    FloatVectorProperty,
    StringProperty,
    BoolProperty,
    IntProperty,
    FloatProperty,
    EnumProperty,
    PointerProperty,
)


class MaterialRaytraceTransparency(PropertyGroup):
    """Declare transparency panel properties controllable in UI and translated to POV."""

    depth: IntProperty(
        name="Depth",
        description="Maximum allowed number of light inter-refractions",
        min=0,
        max=32767,
        default=2,
    )

    depth_max: FloatProperty(
        name="Depth",
        description="Maximum depth for light to travel through the "
        "transparent material before becoming fully filtered (0.0 is disabled)",
        min=0,
        max=100,
        default=0.0,
    )

    falloff: FloatProperty(
        name="Falloff",
        description="Falloff power for transmissivity filter effect (1.0 is linear)",
        min=0.1,
        max=10.0,
        default=1.0,
        precision=3,
    )

    filter: FloatProperty(
        name="Filter",
        description="Amount to blend in the materials diffuse color in raytraced "
        "transparency (simulating absorption)",
        min=0.0,
        max=1.0,
        default=0.0,
        precision=3,
    )

    fresnel: FloatProperty(
        name="Fresnel",
        description="Power of Fresnel for transparency (Ray or ZTransp)",
        min=0.0,
        max=5.0,
        soft_min=0.0,
        soft_max=5.0,
        default=0.0,
        precision=3,
    )

    fresnel_factor: FloatProperty(
        name="Blend",
        description="Blending factor for Fresnel",
        min=0.0,
        max=5.0,
        soft_min=0.0,
        soft_max=5.0,
        default=1.250,
        precision=3,
    )

    gloss_factor: FloatProperty(
        name="Amount",
        description="The clarity of the refraction. "
        "(values < 1.0 give diffuse, blurry refractions)",
        min=0.0,
        max=1.0,
        soft_min=0.0,
        soft_max=1.0,
        default=1.0,
        precision=3,
    )

    gloss_samples: IntProperty(
        name="Samples",
        description="frequency of the noise sample used for blurry refractions",
        min=0,
        max=1024,
        default=18,
    )

    gloss_threshold: FloatProperty(
        name="Threshold",
        description="Threshold for adaptive sampling (if a sample "
        "contributes less than this amount [as a percentage], "
        "sampling is stopped)",
        min=0.0,
        max=1.0,
        soft_min=0.0,
        soft_max=1.0,
        default=0.005,
        precision=3,
    )

    ior: FloatProperty(
        name="IOR",
        description="Sets angular index of refraction for raytraced refraction",
        min=-0.0,
        max=10.0,
        soft_min=0.25,
        soft_max=4.0,
        default=1.3,
    )


class MaterialRaytraceMirror(PropertyGroup):
    """Declare reflection panel properties controllable in UI and translated to POV."""

    bl_description = ("Raytraced reflection settings for the Material",)

    use: BoolProperty(name="Mirror", description="Enable raytraced reflections", default=False)

    depth: IntProperty(
        name="Depth",
        description="Maximum allowed number of light inter-reflections",
        min=0,
        max=32767,
        default=2,
    )

    distance: FloatProperty(
        name="Max Dist",
        description="Maximum distance of reflected rays "
        "(reflections further than this range "
        "fade to sky color or material color)",
        min=0.0,
        max=100000.0,
        soft_min=0.0,
        soft_max=10000.0,
        default=0.0,
        precision=3,
    )

    fade_to: EnumProperty(
        items=[
            ("FADE_TO_SKY", "Fade to sky", ""),
            ("FADE_TO_MATERIAL", "Fade to material color", ""),
        ],
        name="Fade-out Color",
        description="The color that rays with no intersection within the "
        "Max Distance take (material color can be best for "
        "indoor scenes, sky color for outdoor)",
        default="FADE_TO_SKY",
    )

    fresnel: FloatProperty(
        name="Fresnel",
        description="Power of Fresnel for mirror reflection",
        min=0.0,
        max=5.0,
        soft_min=0.0,
        soft_max=5.0,
        default=0.0,
        precision=3,
    )

    fresnel_factor: FloatProperty(
        name="Blend",
        description="Blending factor for Fresnel",
        min=0.0,
        max=5.0,
        soft_min=0.0,
        soft_max=5.0,
        default=1.250,
        precision=3,
    )

    gloss_anisotropic: FloatProperty(
        name="Anisotropic",
        description="The shape of the reflection, from 0.0 (circular) "
        "to 1.0 (fully stretched along the tangent",
        min=0.0,
        max=1.0,
        soft_min=0.0,
        soft_max=1.0,
        default=1.0,
        precision=3,
    )

    gloss_factor: FloatProperty(
        name="Amount",
        description="The shininess of the reflection  "
        "(values < 1.0 give diffuse, blurry reflections)",
        min=0.0,
        max=1.0,
        soft_min=0.0,
        soft_max=1.0,
        default=1.0,
        precision=3,
    )

    gloss_samples: IntProperty(
        name="Noise",
        description="Frequency of the noise pattern bumps averaged for blurry reflections",
        min=0,
        max=1024,
        default=18,
    )

    gloss_threshold: FloatProperty(
        name="Threshold",
        description="Threshold for adaptive sampling (if a sample "
        "contributes less than this amount [as a percentage], "
        "sampling is stopped)",
        min=0.0,
        max=1.0,
        soft_min=0.0,
        soft_max=1.0,
        default=0.005,
        precision=3,
    )

    mirror_color: FloatVectorProperty(
        name="Mirror color",
        description="Mirror color of the material",
        precision=4,
        step=0.01,
        default=(1.0, 1.0, 1.0),
        options={"ANIMATABLE"},
        subtype="COLOR",
    )

    reflect_factor: FloatProperty(
        name="Reflectivity",
        description="Amount of mirror reflection for raytrace",
        min=0.0,
        max=1.0,
        soft_min=0.0,
        soft_max=1.0,
        default=1.0,
        precision=3,
    )


class MaterialSubsurfaceScattering(PropertyGroup):
    """Declare SSS/SSTL properties controllable in UI and translated to POV."""

    bl_description = ("Subsurface scattering settings for the material",)

    use: BoolProperty(
        name="Subsurface Scattering",
        description="Enable diffuse subsurface scatting " "effects in a material",
        default=False,
    )

    back: FloatProperty(
        name="Back",
        description="Back scattering weight",
        min=0.0,
        max=10.0,
        soft_min=0.0,
        soft_max=10.0,
        default=1.0,
        precision=3,
    )

    color: FloatVectorProperty(
        name="Scattering color",
        description="Scattering color",
        precision=4,
        step=0.01,
        default=(0.604, 0.604, 0.604),
        options={"ANIMATABLE"},
        subtype="COLOR",
    )

    color_factor: FloatProperty(
        name="Color",
        description="Blend factor for SSS colors",
        min=0.0,
        max=1.0,
        soft_min=0.0,
        soft_max=1.0,
        default=1.0,
        precision=3,
    )

    error_threshold: FloatProperty(
        name="Error",
        description="Error tolerance (low values are slower and higher quality)",
        default=0.050,
        precision=3,
    )

    front: FloatProperty(
        name="Front",
        description="Front scattering weight",
        min=0.0,
        max=2.0,
        soft_min=0.0,
        soft_max=2.0,
        default=1.0,
        precision=3,
    )

    ior: FloatProperty(
        name="IOR",
        description="Index of refraction (higher values are denser)",
        min=-0.0,
        max=10.0,
        soft_min=0.1,
        soft_max=2.0,
        default=1.3,
    )

    radius: FloatVectorProperty(
        name="RGB Radius",
        description="Mean red/green/blue scattering path length",
        precision=4,
        step=0.01,
        min=0.001,
        default=(1.0, 1.0, 1.0),
        options={"ANIMATABLE"},
    )

    scale: FloatProperty(
        name="Scale", description="Object scale factor", default=0.100, precision=3
    )

    texture_factor: FloatProperty(
        name="Texture",
        description="Texture scattering blend factor",
        min=0.0,
        max=1.0,
        soft_min=0.0,
        soft_max=1.0,
        default=0.0,
        precision=3,
    )

classes = (
    MaterialRaytraceTransparency,
    MaterialRaytraceMirror,
    MaterialSubsurfaceScattering,
)

def register():
    for cls in classes:
        register_class(cls)

    bpy.types.Material.pov_raytrace_transparency = PointerProperty(
        type=MaterialRaytraceTransparency
    )
    bpy.types.Material.pov_subsurface_scattering = PointerProperty(
        type=MaterialSubsurfaceScattering
    )
    bpy.types.Material.pov_raytrace_mirror = PointerProperty(type=MaterialRaytraceMirror)


def unregister():
    del bpy.types.Material.pov_subsurface_scattering
    del bpy.types.Material.pov_raytrace_mirror
    del bpy.types.Material.pov_raytrace_transparency

    for cls in reversed(classes):
        unregister_class(cls)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         import io
import sys
import typing
import warnings
from abc import ABC, abstractmethod
from collections import deque
from collections.abc import Sized
from dataclasses import dataclass, field
from datetime import timedelta
from io import RawIOBase, UnsupportedOperation
from math import ceil
from mmap import mmap
from os import PathLike, stat
from threading import Event, RLock, Thread
from types import TracebackType
from typing import (
    Any,
    BinaryIO,
    Callable,
    ContextManager,
    Deque,
    Dict,
    Generic,
    Iterable,
    List,
    NamedTuple,
    NewType,
    Optional,
    Sequence,
    TextIO,
    Tuple,
    Type,
    TypeVar,
    Union,
)

if sys.version_info >= (3, 8):
    from typing import Literal
else:
    from pip._vendor.typing_extensions import Literal  # pragma: no cover

from . import filesize, get_console
from .console import Console, Group, JustifyMethod, RenderableType
from .highlighter import Highlighter
from .jupyter import JupyterMixin
from .live import Live
from .progress_bar import ProgressBar
from .spinner import Spinner
from .style import StyleType
from .table import Column, Table
from .text import Text, TextType

TaskID = NewType("TaskID", int)

ProgressType = TypeVar("ProgressType")

GetTimeCallable = Callable[[], float]


_I = typing.TypeVar("_I", TextIO, BinaryIO)


class _TrackThread(Thread):
    """A thread to periodically update progress."""

    def __init__(self, progress: "Progress", task_id: "TaskID", update_period: float):
        self.progress = progress
        self.task_id = task_id
        self.update_period = update_period
        self.done = Event()

        self.completed = 0
        super().__init__()

    def run(self) -> None:
        task_id = self.task_id
        advance = self.progress.advance
        update_period = self.update_period
        last_completed = 0
        wait = self.done.wait
        while not wait(update_period):
            completed = self.completed
            if last_completed != completed:
                advance(task_id, completed - last_completed)
                last_completed = completed

        self.progress.update(self.task_id, completed=self.completed, refresh=True)

    def __enter__(self) -> "_TrackThread":
        self.start()
        return self

    def __exit__(
        self,
        exc_type: Optional[Type[BaseException]],
        exc_val: Optional[BaseException],
        exc_tb: Optional[TracebackType],
    ) -> None:
        self.done.set()
        self.join()


def track(
    sequence: Union[Sequence[ProgressType], Iterable[ProgressType]],
    description: str = "Working...",
    total: Optional[float] = None,
    auto_refresh: bool = True,
    console: Optional[Console] = None,
    transient: bool = False,
    get_time: Optional[Callable[[], float]] = None,
    refresh_per_second: float = 10,
    style: StyleType = "bar.back",
    complete_style: StyleType = "bar.complete",
    finished_style: StyleType = "bar.finished",
    pulse_style: StyleType = "bar.pulse",
    update_period: float = 0.1,
    disable: bool = False,
    show_speed: bool = True,
) -> Iterable[ProgressType]:
    """Track progress by iterating over a sequence.

    Args:
        sequence (Iterable[ProgressType]): A sequence (must support "len") you wish to iterate over.
        description (str, optional): Description of task show next to progress bar. Defaults to "Working".
        total: (float, optional): Total number of steps. Default is len(sequence).
        auto_refresh (bool, optional): Automatic refresh, disable to force a refresh after each iteration. Default is True.
        transient: (bool, optional): Clear the progress on exit. Defaults to False.
        console (Console, optional): Console to write to. Default creates internal Console instance.
        refresh_per_second (float): Number of times per second to refresh the progress information. Defaults to 10.
        style (StyleType, optional): Style for the bar background. Defaults to "bar.back".
        complete_style (StyleType, optional): Style for the completed bar. Defaults to "bar.complete".
        finished_style (StyleType, optional): Style for a finished bar. Defaults to "bar.done".
        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to "bar.pulse".
        update_period (float, optional): Minimum time (in seconds) between calls to update(). Defaults to 0.1.
        disable (bool, optional): Disable display of progress.
        show_speed (bool, optional): Show speed if total isn't known. Defaults to True.
    Returns:
        Iterable[ProgressType]: An iterable of the values in the sequence.

    """

    columns: List["ProgressColumn"] = (
        [TextColumn("[progress.description]{task.description}")] if description else []
    )
    columns.extend(
        (
            BarColumn(
                style=style,
                complete_style=complete_style,
                finished_style=finished_style,
                pulse_style=pulse_style,
            ),
            TaskProgressColumn(show_speed=show_speed),
            TimeRemainingColumn(),
        )
    )
    progress = Progress(
        *columns,
        auto_refresh=auto_refresh,
        console=console,
        transient=transient,
        get_time=get_time,
        refresh_per_second=refresh_per_second or 10,
        disable=disable,
    )

    with progress:
        yield from progress.track(
            sequence, total=total, description=description, update_period=update_period
        )


class _Reader(RawIOBase, BinaryIO):
    """A reader that tracks progress while it's being read from."""

    def __init__(
        self,
        handle: BinaryIO,
        progress: "Progress",
        task: TaskID,
        close_handle: bool = True,
    ) -> None:
        self.handle = handle
        self.progress = progress
        self.task = task
        self.close_handle = close_handle
        self._closed = False

    def __enter__(self) -> "_Reader":
        self.handle.__enter__()
        return self

    def __exit__(
        self,
        exc_type: Optional[Type[BaseException]],
        exc_val: Optional[BaseException],
        exc_tb: Optional[TracebackType],
    ) -> None:
        self.close()

    def __iter__(self) -> BinaryIO:
        return self

    def __next__(self) -> bytes:
        line = next(self.handle)
        self.progress.advance(self.task, advance=len(line))
        return line

    @property
    def closed(self) -> bool:
        return self._closed

    def fileno(self) -> int:
        return self.handle.fileno()

    def isatty(self) -> bool:
        return self.handle.isatty()

    @property
    def name(self) -> str:
        return self.handle.name

    def readable(self) -> bool:
        return self.handle.readable()

    def seekable(self) -> bool:
        return self.handle.seekable()

    def writable(self) -> bool:
        return False

    def read(self, size: int = -1) -> bytes:
        block = self.handle.read(size)
        self.progress.advance(self.task, advance=len(block))
        return block

    def readinto(self, b: Union[bytearray, memoryview, mmap]):  # type: ignore[no-untyped-def, override]
        n = self.handle.readinto(b)  # type: ignore[attr-defined]
        self.progress.advance(self.task, advance=n)
        return n

    def readline(self, size: int = -1) -> bytes:  # type: ignore[override]
        line = self.handle.readline(size)
        self.progress.advance(self.task, advance=len(line))
        return line

    def readlines(self, hint: int = -1) -> List[bytes]:
        lines = self.handle.readlines(hint)
        self.progress.advance(self.task, advance=sum(map(len, lines)))
        return lines

    def close(self) -> None:
        if self.close_handle:
            self.handle.close()
        self._closed = True

    def seek(self, offset: int, whence: int = 0) -> int:
        pos = self.handle.seek(offset, whence)
        self.progress.update(self.task, completed=pos)
        return pos

    def tell(self) -> int:
        return self.handle.tell()

    def write(self, s: Any) -> int:
        raise UnsupportedOperation("write")


class _ReadContext(ContextManager[_I], Generic[_I]):
    """A utility class to handle a context for both a reader and a progress."""

    def __init__(self, progress: "Progress", reader: _I) -> None:
        self.progress = progress
        self.reader: _I = reader

    def __enter__(self) -> _I:
        self.progress.start()
        return self.reader.__enter__()

    def __exit__(
        self,
        exc_type: Optional[Type[BaseException]],
        exc_val: Optional[BaseException],
        exc_tb: Optional[TracebackType],
    ) -> None:
        self.progress.stop()
        self.reader.__exit__(exc_type, exc_val, exc_tb)


def wrap_file(
    file: BinaryIO,
    total: int,
    *,
    description: str = "Reading...",
    auto_refresh: bool = True,
    console: Optional[Console] = None,
    transient: bool = False,
    get_time: Optional[Callable[[], float]] = None,
    refresh_per_second: float = 10,
    style: StyleType = "bar.back",
    complete_style: StyleType = "bar.complete",
    finished_style: StyleType = "bar.finished",
    pulse_style: StyleType = "bar.pulse",
    disable: bool = False,
) -> ContextManager[BinaryIO]:
    """Read bytes from a file while tracking progress.

    Args:
        file (Union[str, PathLike[str], BinaryIO]): The path to the file to read, or a file-like object in binary mode.
        total (int): Total number of bytes to read.
        description (str, optional): Description of task show next to progress bar. Defaults to "Reading".
        auto_refresh (bool, optional): Automatic refresh, disable to force a refresh after each iteration. Default is True.
        transient: (bool, optional): Clear the progress on exit. Defaults to False.
        console (Console, optional): Console to write to. Default creates internal Console instance.
        refresh_per_second (float): Number of times per second to refresh the progress information. Defaults to 10.
        style (StyleType, optional): Style for the bar background. Defaults to "bar.back".
        complete_style (StyleType, optional): Style for the completed bar. Defaults to "bar.complete".
        finished_style (StyleType, optional): Style for a finished bar. Defaults to "bar.done".
        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to "bar.pulse".
        disable (bool, optional): Disable display of progress.
    Returns:
        ContextManager[BinaryIO]: A context manager yielding a progress reader.

    """

    columns: List["ProgressColumn"] = (
        [TextColumn("[progress.description]{task.description}")] if description else []
    )
    columns.extend(
        (
            BarColumn(
                style=style,
                complete_style=complete_style,
                finished_style=finished_style,
                pulse_style=pulse_style,
            ),
            DownloadColumn(),
            TimeRemainingColumn(),
        )
    )
    progress = Progress(
        *columns,
        auto_refresh=auto_refresh,
        console=console,
        transient=transient,
        get_time=get_time,
        refresh_per_second=refresh_per_second or 10,
        disable=disable,
    )

    reader = progress.wrap_file(file, total=total, description=description)
    return _ReadContext(progress, reader)


@typing.overload
def open(
    file: Union[str, "PathLike[str]", bytes],
    mode: Union[Literal["rt"], Literal["r"]],
    buffering: int = -1,
    encoding: Optional[str] = None,
    errors: Optional[str] = None,
    newline: Optional[str] = None,
    *,
    total: Optional[int] = None,
    description: str = "Reading...",
    auto_refresh: bool = True,
    console: Optional[Console] = None,
    transient: bool = False,
    get_time: Optional[Callable[[], float]] = None,
    refresh_per_second: float = 10,
    style: StyleType = "bar.back",
    complete_style: StyleType = "bar.complete",
    finished_style: StyleType = "bar.finished",
    pulse_style: StyleType = "bar.pulse",
    disable: bool = False,
) -> ContextManager[TextIO]:
    pass


@typing.overload
def open(
    file: Union[str, "PathLike[str]", bytes],
    mode: Literal["rb"],
    buffering: int = -1,
    encoding: Optional[str] = None,
    errors: Optional[str] = None,
    newline: Optional[str] = None,
    *,
    total: Optional[int] = None,
    description: str = "Reading...",
    auto_refresh: bool = True,
    console: Optional[Console] = None,
    transient: bool = False,
    get_time: Optional[Callable[[], float]] = None,
    refresh_per_second: float = 10,
    style: StyleType = "bar.back",
    complete_style: StyleType = "bar.complete",
    finished_style: StyleType = "bar.finished",
    pulse_style: StyleType = "bar.pulse",
    disable: bool = False,
) -> ContextManager[BinaryIO]:
    pass


def open(
    file: Union[str, "PathLike[str]", bytes],
    mode: Union[Literal["rb"], Literal["rt"], Literal["r"]] = "r",
    buffering: int = -1,
    encoding: Optional[str] = None,
    errors: Optional[str] = None,
    newline: Optional[str] = None,
    *,
    total: Optional[int] = None,
    description: str = "Reading...",
    auto_refresh: bool = True,
    console: Optional[Console] = None,
    transient: bool = False,
    get_time: Optional[Callable[[], float]] = None,
    refresh_per_second: float = 10,
    style: StyleType = "bar.back",
    complete_style: StyleType = "bar.complete",
    finished_style: StyleType = "bar.finished",
    pulse_style: StyleType = "bar.pulse",
    disable: bool = False,
) -> Union[ContextManager[BinaryIO], ContextManager[TextIO]]:
    """Read bytes from a file while tracking progress.

    Args:
        path (Union[str, PathLike[str], BinaryIO]): The path to the file to read, or a file-like object in binary mode.
        mode (str): The mode to use to open the file. Only supports "r", "rb" or "rt".
        buffering (int): The buffering strategy to use, see :func:`io.open`.
        encoding (str, optional): The encoding to use when reading in text mode, see :func:`io.open`.
        errors (str, optional): The error handling strategy for decoding errors, see :func:`io.open`.
        newline (str, optional): The strategy for handling newlines in text mode, see :func:`io.open`
        total: (int, optional): Total number of bytes to read. Must be provided if reading from a file handle. Default for a path is os.stat(file).st_size.
        description (str, optional): Description of task show next to progress bar. Defaults to "Reading".
        auto_refresh (bool, optional): Automatic refresh, disable to force a refresh after each iteration. Default is True.
        transient: (bool, optional): Clear the progress on exit. Defaults to False.
        console (Console, optional): Console to write to. Default creates internal Console instance.
        refresh_per_second (float): Number of times per second to refresh the progress information. Defaults to 10.
        style (StyleType, optional): Style for the bar background. Defaults to "bar.back".
        complete_style (StyleType, optional): Style for the completed bar. Defaults to "bar.complete".
        finished_style (StyleType, optional): Style for a finished bar. Defaults to "bar.done".
        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to "bar.pulse".
        disable (bool, optional): Disable display of progress.
        encoding (str, optional): The encoding to use when reading in text mode.

    Returns:
        ContextManager[BinaryIO]: A context manager yielding a progress reader.

    """

    columns: List["ProgressColumn"] = (
        [TextColumn("[progress.description]{task.description}")] if description else []
    )
    columns.extend(
        (
            BarColumn(
                style=style,
                complete_style=complete_style,
                finished_style=finished_style,
                pulse_style=pulse_style,
            ),
            DownloadColumn(),
            TimeRemainingColumn(),
        )
    )
    progress = Progress(
        *columns,
        auto_refresh=auto_refresh,
        console=console,
        transient=transient,
        get_time=get_time,
        refresh_per_second=refresh_per_second or 10,
        disable=disable,
    )

    reader = progress.open(
        file,
        mode=mode,
        buffering=buffering,
        encoding=encoding,
        errors=errors,
        newline=newline,
        total=total,
        description=description,
    )
    return _ReadContext(progress, reader)  # type: ignore[return-value, type-var]


class ProgressColumn(ABC):
    """Base class for a widget to use in progress display."""

    max_refresh: Optional[float] = None

    def __init__(self, table_column: Optional[Column] = None) -> None:
        self._table_column = table_column
        self._renderable_cache: Dict[TaskID, Tuple[float, RenderableType]] = {}
        self._update_time: Optional[float] = None

    def get_table_column(self) -> Column:
        """Get a table column, used to build tasks table."""
        return self._table_column or Column()

    def __call__(self, task: "Task") -> RenderableType:
        """Called by the Progress object to return a renderable for the given task.

        Args:
            task (Task): An object containing information regarding the task.

        Returns:
            RenderableType: Anything renderable (including str).
        """
        current_time = task.get_time()
        if self.max_refresh is not None and not task.completed:
            try:
                timestamp, renderable = self._renderable_cache[task.id]
            except KeyError:
                pass
            else:
                if timestamp + self.max_refresh > current_time:
                    return renderable

        renderable = self.render(task)
        self._renderable_cache[task.id] = (current_time, renderable)
        return renderable

    @abstractmethod
    def render(self, task: "Task") -> RenderableType:
        """Should return a renderable object."""


class RenderableColumn(ProgressColumn):
    """A column to insert an arbitrary column.

    Args:
        renderable (RenderableType, optional): Any renderable. Defaults to empty string.
    """

    def __init__(
        self, renderable: RenderableType = "", *, table_column: Optional[Column] = None
    ):
        self.renderable = renderable
        super().__init__(table_column=table_column)

    def render(self, task: "Task") -> RenderableType:
        return self.renderable


class SpinnerColumn(ProgressColumn):
    """A column with a 'spinner' animation.

    Args:
        spinner_name (str, optional): Name of spinner animation. Defaults to "dots".
        style (StyleType, optional): Style of spinner. Defaults to "progress.spinner".
        speed (float, optional): Speed factor of spinner. Defaults to 1.0.
        finished_text (TextType, optional): Text used when task is finished. Defaults to " ".
    """

    def __init__(
        self,
        spinner_name: str = "dots",
        style: Optional[StyleType] = "progress.spinner",
        speed: float = 1.0,
        finished_text: TextType = " ",
        table_column: Optional[Column] = None,
    ):
        self.spinner = Spinner(spinner_name, style=style, speed=speed)
        self.finished_text = (
            Text.from_markup(finished_text)
            if isinstance(finished_text, str)
            else finished_text
        )
        super().__init__(table_column=table_column)

    def set_spinner(
        self,
        spinner_name: str,
        spinner_style: Optional[StyleType] = "progress.spinner",
        speed: float = 1.0,
    ) -> None:
        """Set a new spinner.

        Args:
            spinner_name (str): Spinner name, see python -m rich.spinner.
            spinner_style (Optional[StyleType], optional): Spinner style. Defaults to "progress.spinner".
            speed (float, optional): Speed factor of spinner. Defaults to 1.0.
        """
        self.spinner = Spinner(spinner_name, style=spinner_style, speed=speed)

    def render(self, task: "Task") -> RenderableType:
        text = (
            self.finished_text
            if task.finished
            else self.spinner.render(task.get_time())
        )
        return text


class TextColumn(ProgressColumn):
    """A column containing text."""

    def __init__(
        self,
        text_format: str,
        style: StyleType = "none",
        justify: JustifyMethod = "left",
        markup: bool = True,
        highlighter: Optional[Highlighter] = None,
        table_column: Optional[Column] = None,
    ) -> None:
        self.text_format = text_format
        self.justify: JustifyMethod = justify
        self.style = style
        self.markup = markup
        self.highlighter = highlighter
        super().__init__(table_column=table_column or Column(no_wrap=True))

    def render(self, task: "Task") -> Text:
        _text = self.text_format.format(task=task)
        if self.markup:
            text = Text.from_markup(_text, style=self.style, justify=self.justify)
        else:
            text = Text(_text, style=self.style, justify=self.justify)
        if self.highlighter:
            self.highlighter.highlight(text)
        return text


class BarColumn(ProgressColumn):
    """Renders a visual progress bar.

    Args:
        bar_width (Optional[int], optional): Width of bar or None for full width. Defaults to 40.
        style (StyleType, optional): Style for the bar background. Defaults to "bar.back".
        complete_style (StyleType, optional): Style for the completed bar. Defaults to "bar.complete".
        finished_style (StyleType, optional): Style for a finished bar. Defaults to "bar.done".
        pulse_style (StyleType, optional): Style for pulsing bars. Defaults to "bar.pulse".
    """

    def __init__(
        self,
        bar_width: Optional[int] = 40,
        style: StyleType = "bar.back",
        complete_style: StyleType = "bar.complete",
        finished_style: StyleType = "bar.finished",
        pulse_style: StyleType = "bar.pulse",
        table_column: Optional[Column] = None,
    ) -> None:
        self.bar_width = bar_width
        self.style = style
        self.complete_style = complete_style
        self.finished_style = finished_style
        self.pulse_style = pulse_style
        super().__init__(table_column=table_column)

    def render(self, task: "Task") -> ProgressBar:
        """Gets a progress bar widget for a task."""
        return ProgressBar(
            total=max(0, task.total) if task.total is not None else None,
            completed=max(0, task.completed),
            width=None if self.bar_width is None else max(1, self.bar_width),
            pulse=not task.started,
            animation_time=task.get_time(),
            style=self.style,
            complete_style=self.complete_style,
            finished_style=self.finished_style,
            pulse_style=self.pulse_style,
        )


class TimeElapsedColumn(ProgressColumn):
    """Renders time elapsed."""

    def render(self, task: "Task") -> Text:
        """Show time remaining."""
        elapsed = task.finished_time if task.finished else task.elapsed
        if elapsed is None:
            return Text("-:--:--", style="progress.elapsed")
        delta = timedelta(seconds=int(elapsed))
        return Text(str(delta), style="progress.elapsed")


class TaskProgressColumn(TextColumn):
    """Show task progress as a percentage.

    Args:
        text_format (str, optional): Format for percentage display. Defaults to "[progress.percentage]{task.percentage:>3.0f}%".
        text_format_no_percentage (str, optional): Format if percentage is unknown. Defaults to "".
        style (StyleType, optional): Style of output. Defaults to "none".
        justify (JustifyMethod, optional): Text justification. Defaults to "left".
        markup (bool, optional): Enable markup. Defaults to True.
        highlighter (Optional[Highlighter], optional): Highlighter to apply to output. Defaults to None.
        table_column (Optional[Column], optional): Table Column to use. Defaults to None.
        show_speed (bool, optional): Show speed if total is unknown. Defaults to False.
    """

    def __init__(
        self,
        text_format: str = "[progress.percentage]{task.percentage:>3.0f}%",
        text_format_no_percentage: str = "",
        style: StyleType = "none",
        justify: JustifyMethod = "left",
        markup: bool = True,
        highlighter: Optional[Highlighter] = None,
        table_column: Optional[Column] = None,
        show_speed: bool = False,
    ) -> None:

        self.text_format_no_percentage = text_format_no_percentage
        self.show_speed = show_speed
        super().__init__(
            text_format=text_format,
            style=style,
            justify=justify,
            markup=markup,
            highlighter=highlighter,
            table_column=table_column,
        )

    @classmethod
    def render_speed(cls, speed: Optional[float]) -> Text:
        """Render the speed in iterations per second.

        Args:
            task (Task): A Task object.

        Returns:
            Text: Text object containing the task speed.
        """
        if speed is None:
            return Text("", style="progress.percentage")
        unit, suffix = filesize.pick_unit_and_suffix(
            int(speed),
            ["", "10", "10", "10", "10"],
            1000,
        )
        data_speed = speed / unit
        return Text(f"{data_speed:.1f}{suffix} it/s", style="progress.percentage")

    def render(self, task: "Task") -> Text:
        if task.total is None and self.show_speed:
            return self.render_speed(task.finished_speed or task.speed)
        text_format = (
            self.text_format_no_percentage if task.total is None else self.text_format
        )
        _text = text_format.format(task=task)
        if self.markup:
            text = Text.from_markup(_text, style=self.style, justify=self.justify)
        else:
            text = Text(_text, style=self.style, justify=self.justify)
        if self.highlighter:
            self.highlighter.highlight(text)
        return text


class TimeRemainingColumn(ProgressColumn):
    """Renders estimated time remaining.

    Args:
        compact (bool, optional): Render MM:SS when time remaining is less than an hour. Defaults to False.
        elapsed_when_finished (bool, optional): Render time elapsed when the task is finished. Defaults to False.
    """

    # Only refresh twice a second to prevent jitter
    max_refresh = 0.5

    def __init__(
        self,
        compact: bool = False,
        elapsed_when_finished: bool = False,
        table_column: Optional[Column] = None,
    ):
        self.compact = compact
        self.elapsed_when_finished = elapsed_when_finished
        super().__init__(table_column=table_column)

    def render(self, task: "Task") -> Text:
        """Show time remaining."""
        if self.elapsed_when_finished and task.finished:
            task_time = task.finished_time
            style = "progress.elapsed"
        else:
            task_time = task.time_remaining
            style = "progress.remaining"

        if task.total is None:
            return Text("", style=style)

        if task_time is None:
            return Text("--:--" if self.compact else "-:--:--", style=style)

        # Based on https://github.com/tqdm/tqdm/blob/master/tqdm/std.py
        minutes, seconds = divmod(int(task_time), 60)
        hours, minutes = divmod(minutes, 60)

        if self.compact and not hours:
            formatted = f"{minutes:02d}:{seconds:02d}"
        else:
            formatted = f"{hours:d}:{minutes:02d}:{seconds:02d}"

        return Text(formatted, style=style)


class FileSizeColumn(ProgressColumn):
    """Renders completed filesize."""

    def render(self, task: "Task") -> Text:
        """Show data completed."""
        data_size = filesize.decimal(int(task.completed))
        return Text(data_size, style="progress.filesize")


class TotalFileSizeColumn(ProgressColumn):
    """Renders total filesize."""

    def render(self, task: "Task") -> Text:
        """Show data completed."""
        data_size = filesize.decimal(int(task.total)) if task.total is not None else ""
        return Text(data_size, style="progress.filesize.total")


class MofNCompleteColumn(ProgressColumn):
    """Renders completed count/total, e.g. '  10/1000'.

    Best for bounded tasks with int quantities.

    Space pads the completed count so that progress length does not change as task progresses
    past powers of 10.

    Args:
        separator (str, optional): Text to separate completed and total values. Defaults to "/".
    """

    def __init__(self, separator: str = "/", table_column: Optional[Column] = None):
        self.separator = separator
        super().__init__(table_column=table_column)

    def render(self, task: "Task") -> Text:
        """Show completed/total."""
        completed = int(task.completed)
        total = int(task.total) if task.total is not None else "?"
        total_width = len(str(total))
        return Text(
            f"{completed:{total_width}d}{self.separator}{total}",
            style="progress.download",
        )


class DownloadColumn(ProgressColumn):
    """Renders file size downloaded and total, e.g. '0.5/2.3 GB'.

    Args:
        binary_units (bool, optional): Use binary units, KiB, MiB etc. Defaults to False.
    """

    def __init__(
        self, binary_units: bool = False, table_column: Optional[Column] = None
    ) -> None:
        self.binary_units = binary_units
        super().__init__(table_column=table_column)

    def render(self, task: "Task") -> Text:
        """Calculate common unit for completed and total."""
        completed = int(task.completed)

        unit_and_suffix_calculation_base = (
            int(task.total) if task.total is not None else completed
        )
        if self.binary_units:
            unit, suffix = filesize.pick_unit_and_suffix(
                unit_and_suffix_calculation_base,
                ["bytes", "KiB", "MiB", "GiB", "TiB", "PiB", "EiB", "ZiB", "YiB"],
                1024,
            )
        else:
            unit, suffix = filesize.pick_unit_and_suffix(
                unit_and_suffix_calculation_base,
                ["bytes", "kB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"],
                1000,
            )
        precision = 0 if unit == 1 else 1

        completed_ratio = completed / unit
        completed_str = f"{completed_ratio:,.{precision}f}"

        if task.total is not None:
            total = int(task.total)
            total_ratio = total / unit
            total_str = f"{total_ratio:,.{precision}f}"
        else:
            total_str = "?"

        download_status = f"{completed_str}/{total_str} {suffix}"
        download_text = Text(download_status, style="progress.download")
        return download_text


class TransferSpeedColumn(ProgressColumn):
    """Renders human readable transfer speed."""

    def render(self, task: "Task") -> Text:
        """Show data transfer speed."""
        speed = task.finished_speed or task.speed
        if speed is None:
            return Text("?", style="progress.data.speed")
        data_speed = filesize.decimal(int(speed))
        return Text(f"{data_speed}/s", style="progress.data.speed")


class ProgressSample(NamedTuple):
    """Sample of progress for a given time."""

    timestamp: float
    """Timestamp of sample."""
    completed: float
    """Number of steps completed."""


@dataclass
class Task:
    """Information regarding a progress task.

    This object should be considered read-only outside of the :class:`~Progress` class.

    """

    id: TaskID
    """Task ID associated with this task (used in Progress methods)."""

    description: str
    """str: Description of the task."""

    total: Optional[float]
    """Optional[float]: Total number of steps in this task."""

    completed: float
    """float: Number of steps completed"""

    _get_time: GetTimeCallable
    """Callable to get the current time."""

    finished_time: Optional[float] = None
    """float: Time task was finished."""

    visible: bool = True
    """bool: Indicates if this task is visible in the progress display."""

    fields: Dict[str, Any] = field(default_factory=dict)
    """dict: Arbitrary fields passed in via Progress.update."""

    start_time: Optional[float] = field(default=None, init=False, repr=False)
    """Optional[float]: Time this task was started, or None if not started."""

    stop_time: Optional[float] = field(default=None, init=False, repr=False)
    """Optional[float]: Time this task was stopped, or None if not stopped."""

    finished_speed: Optional[float] = None
    """Optional[float]: The last speed for a finished task."""

    _progress: Deque[ProgressSample] = field(
        default_factory=lambda: deque(maxlen=1000), init=False, repr=False
    )

    _lock: RLock = field(repr=False, default_factory=RLock)
    """Thread lock."""

    def get_time(self) -> float:
        """float: Get the current time, in seconds."""
        return self._get_time()

    @property
    def started(self) -> bool:
        """bool: Check if the task as started."""
        return self.start_time is not None

    @property
    def remaining(self) -> Optional[float]:
        """Optional[float]: Get the number of steps remaining, if a non-None total was set."""
        if self.total is None:
            return None
        return self.total - self.completed

    @property
    def elapsed(self) -> Optional[float]:
        """Optional[float]: Time elapsed since task was started, or ``None`` if the task hasn't started."""
        if self.start_time is None:
            return None
        if self.stop_time is not None:
            return self.stop_time - self.start_time
        return self.get_time() - self.start_time

    @property
    def finished(self) -> bool:
        """Check if the task has finished."""
        return self.finished_time is not None

    @property
    def percentage(self) -> float:
        """float: Get progress of task as a percentage. If a None total was set, returns 0"""
        if not self.total:
            return 0.0
        completed = (self.completed / self.total) * 100.0
        completed = min(100.0, max(0.0, completed))
        return completed

    @property
    def speed(self) -> Optional[float]:
        """Optional[float]: Get the estimated speed in steps per second."""
        if self.start_time is None:
            return None
        with self._lock:
            progress = self._progress
            if not progress:
                return None
            total_time = progress[-1].timestamp - progress[0].timestamp
            if total_time == 0:
                return None
            iter_progress = iter(progress)
            next(iter_progress)
            total_completed = sum(sample.completed for sample in iter_progress)
            speed = total_completed / total_time
            return speed

    @property
    def time_remaining(self) -> Optional[float]:
        """Optional[float]: Get estimated time to completion, or ``None`` if no data."""
        if self.finished:
            return 0.0
        speed = self.speed
        if not speed:
            return None
        remaining = self.remaining
        if remaining is None:
            return None
        estimate = ceil(remaining / speed)
        return estimate

    def _reset(self) -> None:
        """Reset progress."""
        self._progress.clear()
        self.finished_time = None
        self.finished_speed = None


class Progress(JupyterMixin):
    """Renders an auto-updating progress bar(s).

    Args:
        console (Console, optional): Optional Console instance. Default will an internal Console instance writing to stdout.
        auto_refresh (bool, optional): Enable auto refresh. If disabled, you will need to call `refresh()`.
        refresh_per_second (Optional[float], optional): Number of times per second to refresh the progress information or None to use default (10). Defaults to None.
        speed_estimate_period: (float, optional): Period (in seconds) used to calculate the speed estimate. Defaults to 30.
        transient: (bool, optional): Clear the progress on exit. Defaults to False.
        redirect_stdout: (bool, optional): Enable redirection of stdout, so ``print`` may be used. Defaults to True.
        redirect_stderr: (bool, optional): Enable redirection of stderr. Defaults to True.
        get_time: (Callable, optional): A callable that gets the current time, or None to use Console.get_time. Defaults to None.
        disable (bool, optional): Disable progress display. Defaults to False
        expand (bool, optional): Expand tasks table to fit width. Defaults to False.
    """

    def __init__(
        self,
        *columns: Union[str, ProgressColumn],
        console: Optional[Console] = None,
        auto_refresh: bool = True,
        refresh_per_second: float = 10,
        speed_estimate_period: float = 30.0,
        transient: bool = False,
        redirect_stdout: bool = True,
        redirect_stderr: bool = True,
        get_time: Optional[GetTimeCallable] = None,
        disable: bool = False,
        expand: bool = False,
    ) -> None:
        assert refresh_per_second > 0, "refresh_per_second must be > 0"
        self._lock = RLock()
        self.columns = columns or self.get_default_columns()
        self.speed_estimate_period = speed_estimate_period

        self.disable = disable
        self.expand = expand
        self._tasks: Dict[TaskID, Task] = {}
        self._task_index: TaskID = TaskID(0)
        self.live = Live(
            console=console or get_console(),
            auto_refresh=auto_refresh,
            refresh_per_second=refresh_per_second,
            transient=transient,
            redirect_stdout=redirect_stdout,
            redirect_stderr=redirect_stderr,
            get_renderable=self.get_renderable,
        )
        self.get_time = get_time or self.console.get_time
        self.print = self.console.print
        self.log = self.console.log

    @classmethod
    def get_default_columns(cls) -> Tuple[ProgressColumn, ...]:
        """Get the default columns used for a new Progress instance:
           - a text column for the description (TextColumn)
           - the bar itself (BarColumn)
           - a text column showing completion percentage (TextColumn)
           - an estimated-time-remaining column (TimeRemainingColumn)
        If the Progress instance is created without passing a columns argument,
        the default columns defined here will be used.

        You can also create a Progress instance using custom columns before
        and/or after the defaults, as in this example:

            progress = Progress(
                SpinnerColumn(),
                *Progress.default_columns(),
                "Elapsed:",
                TimeElapsedColumn(),
            )

        This code shows the creation of a Progress display, containing
        a spinner to the left, the default columns, and a labeled elapsed
        time column.
        """
        return (
            TextColumn("[progress.description]{task.description}"),
            BarColumn(),
            TaskProgressColumn(),
            TimeRemainingColumn(),
        )

    @property
    def console(self) -> Console:
        return self.live.console

    @property
    def tasks(self) -> List[Task]:
        """Get a list of Task instances."""
        with self._lock:
            return list(self._tasks.values())

    @property
    def task_ids(self) -> List[TaskID]:
        """A list of task IDs."""
        with self._lock:
            return list(self._tasks.keys())

    @property
    def finished(self) -> bool:
        """Check if all tasks have been completed."""
        with self._lock:
            if not self._tasks:
                return True
            return all(task.finished for task in self._tasks.values())

    def start(self) -> None:
        """Start the progress display."""
        if not self.disable:
            self.live.start(refresh=True)

    def stop(self) -> None:
        """Stop the progress display."""
        self.live.stop()
        if not self.console.is_interactive:
            self.console.print()

    def __enter__(self) -> "Progress":
        self.start()
        return self

    def __exit__(
        self,
        exc_type: Optional[Type[BaseException]],
        exc_val: Optional[BaseException],
        exc_tb: Optional[TracebackType],
    ) -> None:
        self.stop()

    def track(
        self,
        sequence: Union[Iterable[ProgressType], Sequence[ProgressType]],
        total: Optional[float] = None,
        task_id: Optional[TaskID] = None,
        description: str = "Working...",
        update_period: float = 0.1,
    ) -> Iterable[ProgressType]:
        """Track progress by iterating over a sequence.

        Args:
            sequence (Sequence[ProgressType]): A sequence of values you want to iterate over and track progress.
            total: (float, optional): Total number of steps. Default is len(sequence).
            task_id: (TaskID): Task to track. Default is new task.
            description: (str, optional): Description of task, if new task is created.
            update_period (float, optional): Minimum time (in seconds) between calls to update(). Defaults to 0.1.

        Returns:
            Iterable[ProgressType]: An iterable of values taken from the provided sequence.
        """

        task_total: Optional[float] = None
        if total is None:
            if isinstance(sequence, Sized):
                task_total = float(len(sequence))
        else:
            task_total = total

        if task_id is None:
            task_id = self.add_task(description, total=task_total)
        else:
            self.update(task_id, total=task_total)

        if self.live.auto_refresh:
            with _TrackThread(self, task_id, update_period) as track_thread:
                for value in sequence:
                    yield value
                    track_thread.completed += 1
        else:
            advance = self.advance
            refresh = self.refresh
            for value in sequence:
                yield value
                advance(task_id, 1)
                refresh()

    def wrap_file(
        self,
        file: BinaryIO,
        total: Optional[int] = None,
        *,
        task_id: Optional[TaskID] = None,
        description: str = "Reading...",
    ) -> BinaryIO:
        """Track progress file reading from a binary file.

        Args:
            file (BinaryIO): A file-like object opened in binary mode.
            total (int, optional): Total number of bytes to read. This must be provided unless a task with a total is also given.
            task_id (TaskID): Task to track. Default is new task.
            description (str, optional): Description of task, if new task is created.

        Returns:
            BinaryIO: A readable file-like object in binary mode.

        Raises:
            ValueError: When no total value can be extracted from the arguments or the task.
        """
        # attempt to recover the total from the task
        total_bytes: Optional[float] = None
        if total is not None:
            total_bytes = total
        elif task_id is not None:
            with self._lock:
                total_bytes = self._tasks[task_id].total
        if total_bytes is None:
            raise ValueError(
                f"unable to get the total number of bytes, please specify 'total'"
            )

        # update total of task or create new task
        if task_id is None:
            task_id = self.add_task(description, total=total_bytes)
        else:
            self.update(task_id, total=total_bytes)

        return _Reader(file, self, task_id, close_handle=False)

    @typing.overload
    def open(
        self,
        file: Union[str, "PathLike[str]", bytes],
        mode: Literal["rb"],
        buffering: int = -1,
        encoding: Optional[str] = None,
        errors: Optional[str] = None,
        newline: Optional[str] = None,
        *,
        total: Optional[int] = None,
        task_id: Optional[TaskID] = None,
        description: str = "Reading...",
    ) -> BinaryIO:
        pass

    @typing.overload
    def open(
        self,
        file: Union[str, "PathLike[str]", bytes],
        mode: Union[Literal["r"], Literal["rt"]],
        buffering: int = -1,
        encoding: Optional[str] = None,
        errors: Optional[str] = None,
        newline: Optional[str] = None,
        *,
        total: Optional[int] = None,
        task_id: Optional[TaskID] = None,
        description: str = "Reading...",
    ) -> TextIO:
        pass

    def open(
        self,
        file: Union[str, "PathLike[str]", bytes],
        mode: Union[Literal["rb"], Literal["rt"], Literal["r"]] = "r",
        buffering: int = -1,
        encoding: Optional[str] = None,
        errors: Optional[str] = None,
        newline: Optional[str] = None,
        *,
        total: Optional[int] = None,
        task_id: Optional[TaskID] = None,
        description: str = "Reading...",
    ) -> Union[BinaryIO, TextIO]:
        """Track progress while reading from a binary file.

        Args:
            path (Union[str, PathLike[str]]): The path to the file to read.
            mode (str): The mode to use to open the file. Only supports "r", "rb" or "rt".
            buffering (int): The buffering strategy to use, see :func:`io.open`.
            encoding (str, optional): The encoding to use when reading in text mode, see :func:`io.open`.
            errors (str, optional): The error handling strategy for decoding errors, see :func:`io.open`.
            newline (str, optional): The strategy for handling newlines in text mode, see :func:`io.open`.
            total (int, optional): Total number of bytes to read. If none given, os.stat(path).st_size is used.
            task_id (TaskID): Task to track. Default is new task.
            description (str, optional): Description of task, if new task is created.

        Returns:
            BinaryIO: A readable file-like object in binary mode.

        Raises:
            ValueError: When an invalid mode is given.
        """
        # normalize the mode (always rb, rt)
        _mode = "".join(sorted(mode, reverse=False))
        if _mode not in ("br", "rt", "r"):
            raise ValueError("invalid mode {!r}".format(mode))

        # patch buffering to provide the same behaviour as the builtin `open`
        line_buffering = buffering == 1
        if _mode == "br" and buffering == 1:
            warnings.warn(
                "line buffering (buffering=1) isn't supported in binary mode, the default buffer size will be used",
                RuntimeWarning,
            )
            buffering = -1
        elif _mode == "rt" or _mode == "r":
            if buffering == 0:
                raise ValueError("can't have unbuffered text I/O")
            elif buffering == 1:
                buffering = -1

        # attempt to get the total with `os.stat`
        if total is None:
            total = stat(file).st_size

        # update total of task or create new task
        if task_id is None:
            task_id = self.add_task(description, total=total)
        else:
            self.update(task_id, total=total)

        # open the file in binary mode,
        handle = io.open(file, "rb", buffering=buffering)
        reader = _Reader(handle, self, task_id, close_handle=True)

        # wrap the reader in a `TextIOWrapper` if text mode
        if mode == "r" or mode == "rt":
            return io.TextIOWrapper(
                reader,
                encoding=encoding,
                errors=errors,
                newline=newline,
                line_buffering=line_buffering,
            )

        return reader

    def start_task(self, task_id: TaskID) -> None:
        """Start a task.

        Starts a task (used when calculating elapsed time). You may need to call this manually,
        if you called ``add_task`` with ``start=False``.

        Args:
            task_id (TaskID): ID of task.
        """
        with self._lock:
            task = self._tasks[task_id]
            if task.start_time is None:
                task.start_time = self.get_time()

    def stop_task(self, task_id: TaskID) -> None:
        """Stop a task.

        This will freeze the elapsed time on the task.

        Args:
            task_id (TaskID): ID of task.
        """
        with self._lock:
            task = self._tasks[task_id]
            current_time = self.get_time()
            if task.start_time is None:
                task.start_time = current_time
            task.stop_time = current_time

    def update(
        self,
        task_id: TaskID,
        *,
        total: Optional[float] = None,
        completed: Optional[float] = None,
        advance: Optional[float] = None,
        description: Optional[str] = None,
        visible: Optional[bool] = None,
        refresh: bool = False,
        **fields: Any,
    ) -> None:
        """Update information associated with a task.

        Args:
            task_id (TaskID): Task id (returned by add_task).
            total (float, optional): Updates task.total if not None.
            completed (float, optional): Updates task.completed if not None.
            advance (float, optional): Add a value to task.completed if not None.
            description (str, optional): Change task description if not None.
            visible (bool, optional): Set visible flag if not None.
            refresh (bool): Force a refresh of progress information. Default is False.
            **fields (Any): Additional data fields required for rendering.
        """
        with self._lock:
            task = self._tasks[task_id]
            completed_start = task.completed

            if total is not None and total != task.total:
                task.total = total
                task._reset()
            if advance is not None:
                task.completed += advance
            if completed is not None:
                task.completed = completed
            if description is not None:
                task.description = description
            if visible is not None:
                task.visible = visible
            task.fields.update(fields)
            update_completed = task.completed - completed_start

            current_time = self.get_time()
            old_sample_time = current_time - self.speed_estimate_period
            _progress = task._progress

            popleft = _progress.popleft
            while _progress and _progress[0].timestamp < old_sample_time:
                popleft()
            if update_completed > 0:
                _progress.append(ProgressSample(current_time, update_completed))
            if (
                task.total is not None
                and task.completed >= task.total
                and task.finished_time is None
            ):
                task.finished_time = task.elapsed

        if refresh:
            self.refresh()

    def reset(
        self,
        task_id: TaskID,
        *,
        start: bool = True,
        total: Optional[float] = None,
        completed: int = 0,
        visible: Optional[bool] = None,
        description: Optional[str] = None,
        **fields: Any,
    ) -> None:
        """Reset a task so completed is 0 and the clock is reset.

        Args:
            task_id (TaskID): ID of task.
            start (bool, optional): Start the task after reset. Defaults to True.
            total (float, optional): New total steps in task, or None to use current total. Defaults to None.
            completed (int, optional): Number of steps completed. Defaults to 0.
            visible (bool, optional): Enable display of the task. Defaults to True.
            description (str, optional): Change task description if not None. Defaults to None.
            **fields (str): Additional data fields required for rendering.
        """
        current_time = self.get_time()
        with self._lock:
            task = self._tasks[task_id]
            task._reset()
            task.start_time = current_time if start else None
            if total is not None:
                task.total = total
            task.completed = completed
            if visible is not None:
                task.visible = visible
            if fields:
                task.fields = fields
            if description is not None:
                task.description = description
            task.finished_time = None
        self.refresh()

    def advance(self, task_id: TaskID, advance: float = 1) -> None:
        """Advance task by a number of steps.

        Args:
            task_id (TaskID): ID of task.
            advance (float): Number of steps to advance. Default is 1.
        """
        current_time = self.get_time()
        with self._lock:
            task = self._tasks[task_id]
            completed_start = task.completed
            task.completed += advance
            update_completed = task.completed - completed_start
            old_sample_time = current_time - self.speed_estimate_period
            _progress = task._progress

            popleft = _progress.popleft
            while _progress and _progress[0].timestamp < old_sample_time:
                popleft()
            while len(_progress) > 1000:
                popleft()
            _progress.append(ProgressSample(current_time, update_completed))
            if (
                task.total is not None
                and task.completed >= task.total
                and task.finished_time is None
            ):
                task.finished_time = task.elapsed
                task.finished_speed = task.speed

    def refresh(self) -> None:
        """Refresh (render) the progress information."""
        if not self.disable and self.live.is_started:
            self.live.refresh()

    def get_renderable(self) -> RenderableType:
        """Get a renderable for the progress display."""
        renderable = Group(*self.get_renderables())
        return renderable

    def get_renderables(self) -> Iterable[RenderableType]:
        """Get a number of renderables for the progress display."""
        table = self.make_tasks_table(self.tasks)
        yield table

    def make_tasks_table(self, tasks: Iterable[Task]) -> Table:
        """Get a table to render the Progress display.

        Args:
            tasks (Iterable[Task]): An iterable of Task instances, one per row of the table.

        Returns:
            Table: A table instance.
        """
        table_columns = (
            (
                Column(no_wrap=True)
                if isinstance(_column, str)
                else _column.get_table_column().copy()
            )
            for _column in self.columns
        )
        table = Table.grid(*table_columns, padding=(0, 1), expand=self.expand)

        for task in tasks:
            if task.visible:
                table.add_row(
                    *(
                        (
                            column.format(task=task)
                            if isinstance(column, str)
                            else column(task)
                        )
                        for column in self.columns
                    )
                )
        return table

    def __rich__(self) -> RenderableType:
        """Makes the Progress class itself renderable."""
        with self._lock:
            return self.get_renderable()

    def add_task(
        self,
        description: str,
        start: bool = True,
        total: Optional[float] = 100.0,
        completed: int = 0,
        visible: bool = True,
        **fields: Any,
    ) -> TaskID:
        """Add a new 'task' to the Progress display.

        Args:
            description (str): A description of the task.
            start (bool, optional): Start the task immediately (to calculate elapsed time). If set to False,
                you will need to call `start` manually. Defaults to True.
            total (float, optional): Number of total steps in the progress if known.
                Set to None to render a pulsing animation. Defaults to 100.
            completed (int, optional): Number of steps completed so far. Defaults to 0.
            visible (bool, optional): Enable display of the task. Defaults to True.
            **fields (str): Additional data fields required for rendering.

        Returns:
            TaskID: An ID you can use when calling `update`.
        """
        with self._lock:
            task = Task(
                self._task_index,
                description,
                total,
                completed,
                visible=visible,
                fields=fields,
                _get_time=self.get_time,
                _lock=self._lock,
            )
            self._tasks[self._task_index] = task
            if start:
                self.start_task(self._task_index)
            new_task_index = self._task_index
            self._task_index = TaskID(int(self._task_index) + 1)
        self.refresh()
        return new_task_index

    def remove_task(self, task_id: TaskID) -> None:
        """Delete a task if it exists.

        Args:
            task_id (TaskID): A task ID.

        """
        with self._lock:
            del self._tasks[task_id]


if __name__ == "__main__":  # pragma: no coverage

    import random
    import time

    from .panel import Panel
    from .rule import Rule
    from .syntax import Syntax
    from .table import Table

    syntax = Syntax(
        '''def loop_last(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:
    """Iterate and generate a tuple with a flag for last value."""
    iter_values = iter(values)
    try:
        previous_value = next(iter_values)
    except StopIteration:
        return
    for value in iter_values:
        yield False, previous_value
        previous_value = value
    yield True, previous_value''',
        "python",
        line_numbers=True,
    )

    table = Table("foo", "bar", "baz")
    table.add_row("1", "2", "3")

    progress_renderables = [
        "Text may be printed while the progress bars are rendering.",
        Panel("In fact, [i]any[/i] renderable will work"),
        "Such as [magenta]tables[/]...",
        table,
        "Pretty printed structures...",
        {"type": "example", "text": "Pretty printed"},
        "Syntax...",
        syntax,
        Rule("Give it a try!"),
    ]

    from itertools import cycle

    examples = cycle(progress_renderables)

    console = Console(record=True)

    with Progress(
        SpinnerColumn(),
        *Progress.get_default_columns(),
        TimeElapsedColumn(),
        console=console,
        transient=False,
    ) as progress:

        task1 = progress.add_task("[red]Downloading", total=1000)
        task2 = progress.add_task("[green]Processing", total=1000)
        task3 = progress.add_task("[yellow]Thinking", total=None)

        while not progress.finished:
            progress.update(task1, advance=0.5)
            progress.update(task2, advance=0.3)
            time.sleep(0.01)
            if random.randint(0, 100) < 1:
                progress.log(next(examples))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
#if defined(_MULTIARRAYMODULE) || defined(WITH_CPYCHECKER_STEALS_REFERENCE_TO_ARG_ATTRIBUTE)

typedef struct {
        PyObject_HEAD
        npy_bool obval;
} PyBoolScalarObject;

extern NPY_NO_EXPORT PyTypeObject PyArrayMapIter_Type;
extern NPY_NO_EXPORT PyTypeObject PyArrayNeighborhoodIter_Type;
extern NPY_NO_EXPORT PyBoolScalarObject _PyArrayScalar_BoolValues[2];

NPY_NO_EXPORT  unsigned int PyArray_GetNDArrayCVersion \
       (void);
extern NPY_NO_EXPORT PyTypeObject PyBigArray_Type;

extern NPY_NO_EXPORT PyTypeObject PyArray_Type;

extern NPY_NO_EXPORT PyArray_DTypeMeta PyArrayDescr_TypeFull;
#define PyArrayDescr_Type (*(PyTypeObject *)(&PyArrayDescr_TypeFull))

extern NPY_NO_EXPORT PyTypeObject PyArrayFlags_Type;

extern NPY_NO_EXPORT PyTypeObject PyArrayIter_Type;

extern NPY_NO_EXPORT PyTypeObject PyArrayMultiIter_Type;

extern NPY_NO_EXPORT int NPY_NUMUSERTYPES;

extern NPY_NO_EXPORT PyTypeObject PyBoolArrType_Type;

extern NPY_NO_EXPORT PyBoolScalarObject _PyArrayScalar_BoolValues[2];

extern NPY_NO_EXPORT PyTypeObject PyGenericArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyNumberArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyIntegerArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PySignedIntegerArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyUnsignedIntegerArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyInexactArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyFloatingArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyComplexFloatingArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyFlexibleArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyCharacterArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyByteArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyShortArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyIntArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyLongArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyLongLongArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyUByteArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyUShortArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyUIntArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyULongArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyULongLongArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyFloatArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyDoubleArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyLongDoubleArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyCFloatArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyCDoubleArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyCLongDoubleArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyObjectArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyStringArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyUnicodeArrType_Type;

extern NPY_NO_EXPORT PyTypeObject PyVoidArrType_Type;

NPY_NO_EXPORT  int PyArray_SetNumericOps \
       (PyObject *);
NPY_NO_EXPORT  PyObject * PyArray_GetNumericOps \
       (void);
NPY_NO_EXPORT  int PyArray_INCREF \
       (PyArrayObject *);
NPY_NO_EXPORT  int PyArray_XDECREF \
       (PyArrayObject *);
NPY_NO_EXPORT  void PyArray_SetStringFunction \
       (PyObject *, int);
NPY_NO_EXPORT  PyArray_Descr * PyArray_DescrFromType \
       (int);
NPY_NO_EXPORT  PyObject * PyArray_TypeObjectFromType \
       (int);
NPY_NO_EXPORT  char * PyArray_Zero \
       (PyArrayObject *);
NPY_NO_EXPORT  char * PyArray_One \
       (PyArrayObject *);
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(2) NPY_GCC_NONNULL(2) PyObject * PyArray_CastToType \
       (PyArrayObject *, PyArray_Descr *, int);
NPY_NO_EXPORT  int PyArray_CastTo \
       (PyArrayObject *, PyArrayObject *);
NPY_NO_EXPORT  int PyArray_CastAnyTo \
       (PyArrayObject *, PyArrayObject *);
NPY_NO_EXPORT  int PyArray_CanCastSafely \
       (int, int);
NPY_NO_EXPORT  npy_bool PyArray_CanCastTo \
       (PyArray_Descr *, PyArray_Descr *);
NPY_NO_EXPORT  int PyArray_ObjectType \
       (PyObject *, int);
NPY_NO_EXPORT  PyArray_Descr * PyArray_DescrFromObject \
       (PyObject *, PyArray_Descr *);
NPY_NO_EXPORT  PyArrayObject ** PyArray_ConvertToCommonType \
       (PyObject *, int *);
NPY_NO_EXPORT  PyArray_Descr * PyArray_DescrFromScalar \
       (PyObject *);
NPY_NO_EXPORT  PyArray_Descr * PyArray_DescrFromTypeObject \
       (PyObject *);
NPY_NO_EXPORT  npy_intp PyArray_Size \
       (PyObject *);
NPY_NO_EXPORT  PyObject * PyArray_Scalar \
       (void *, PyArray_Descr *, PyObject *);
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(2) PyObject * PyArray_FromScalar \
       (PyObject *, PyArray_Descr *);
NPY_NO_EXPORT  void PyArray_ScalarAsCtype \
       (PyObject *, void *);
NPY_NO_EXPORT  int PyArray_CastScalarToCtype \
       (PyObject *, void *, PyArray_Descr *);
NPY_NO_EXPORT  int PyArray_CastScalarDirect \
       (PyObject *, PyArray_Descr *, void *, int);
NPY_NO_EXPORT  PyObject * PyArray_ScalarFromObject \
       (PyObject *);
NPY_NO_EXPORT  PyArray_VectorUnaryFunc * PyArray_GetCastFunc \
       (PyArray_Descr *, int);
NPY_NO_EXPORT  PyObject * PyArray_FromDims \
       (int NPY_UNUSED(nd), int *NPY_UNUSED(d), int NPY_UNUSED(type));
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(3) PyObject * PyArray_FromDimsAndDataAndDescr \
       (int NPY_UNUSED(nd), int *NPY_UNUSED(d), PyArray_Descr *, char *NPY_UNUSED(data));
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(2) PyObject * PyArray_FromAny \
       (PyObject *, PyArray_Descr *, int, int, int, PyObject *);
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(1) PyObject * PyArray_EnsureArray \
       (PyObject *);
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(1) PyObject * PyArray_EnsureAnyArray \
       (PyObject *);
NPY_NO_EXPORT  PyObject * PyArray_FromFile \
       (FILE *, PyArray_Descr *, npy_intp, char *);
NPY_NO_EXPORT  PyObject * PyArray_FromString \
       (char *, npy_intp, PyArray_Descr *, npy_intp, char *);
NPY_NO_EXPORT  PyObject * PyArray_FromBuffer \
       (PyObject *, PyArray_Descr *, npy_intp, npy_intp);
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(2) PyObject * PyArray_FromIter \
       (PyObject *, PyArray_Descr *, npy_intp);
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(1) PyObject * PyArray_Return \
       (PyArrayObject *);
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(2) NPY_GCC_NONNULL(2) PyObject * PyArray_GetField \
       (PyArrayObject *, PyArray_Descr *, int);
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(2) NPY_GCC_NONNULL(2) int PyArray_SetField \
       (PyArrayObject *, PyArray_Descr *, int, PyObject *);
NPY_NO_EXPORT  PyObject * PyArray_Byteswap \
       (PyArrayObject *, npy_bool);
NPY_NO_EXPORT  PyObject * PyArray_Resize \
       (PyArrayObject *, PyArray_Dims *, int, NPY_ORDER NPY_UNUSED(order));
NPY_NO_EXPORT  int PyArray_MoveInto \
       (PyArrayObject *, PyArrayObject *);
NPY_NO_EXPORT  int PyArray_CopyInto \
       (PyArrayObject *, PyArrayObject *);
NPY_NO_EXPORT  int PyArray_CopyAnyInto \
       (PyArrayObject *, PyArrayObject *);
NPY_NO_EXPORT  int PyArray_CopyObject \
       (PyArrayObject *, PyObject *);
NPY_NO_EXPORT NPY_GCC_NONNULL(1) PyObject * PyArray_NewCopy \
       (PyArrayObject *, NPY_ORDER);
NPY_NO_EXPORT  PyObject * PyArray_ToList \
       (PyArrayObject *);
NPY_NO_EXPORT  PyObject * PyArray_ToString \
       (PyArrayObject *, NPY_ORDER);
NPY_NO_EXPORT  int PyArray_ToFile \
       (PyArrayObject *, FILE *, char *, char *);
NPY_NO_EXPORT  int PyArray_Dump \
       (PyObject *, PyObject *, int);
NPY_NO_EXPORT  PyObject * PyArray_Dumps \
       (PyObject *, int);
NPY_NO_EXPORT  int PyArray_ValidType \
       (int);
NPY_NO_EXPORT  void PyArray_UpdateFlags \
       (PyArrayObject *, int);
NPY_NO_EXPORT NPY_GCC_NONNULL(1) PyObject * PyArray_New \
       (PyTypeObject *, int, npy_intp const *, int, npy_intp const *, void *, int, int, PyObject *);
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(2) NPY_GCC_NONNULL(1) NPY_GCC_NONNULL(2) PyObject * PyArray_NewFromDescr \
       (PyTypeObject *, PyArray_Descr *, int, npy_intp const *, npy_intp const *, void *, int, PyObject *);
NPY_NO_EXPORT  PyArray_Descr * PyArray_DescrNew \
       (PyArray_Descr *);
NPY_NO_EXPORT  PyArray_Descr * PyArray_DescrNewFromType \
       (int);
NPY_NO_EXPORT  double PyArray_GetPriority \
       (PyObject *, double);
NPY_NO_EXPORT  PyObject * PyArray_IterNew \
       (PyObject *);
NPY_NO_EXPORT  PyObject* PyArray_MultiIterNew \
       (int, ...);
NPY_NO_EXPORT  int PyArray_PyIntAsInt \
       (PyObject *);
NPY_NO_EXPORT  npy_intp PyArray_PyIntAsIntp \
       (PyObject *);
NPY_NO_EXPORT  int PyArray_Broadcast \
       (PyArrayMultiIterObject *);
NPY_NO_EXPORT  void PyArray_FillObjectArray \
       (PyArrayObject *, PyObject *);
NPY_NO_EXPORT  int PyArray_FillWithScalar \
       (PyArrayObject *, PyObject *);
NPY_NO_EXPORT  npy_bool PyArray_CheckStrides \
       (int, int, npy_intp, npy_intp, npy_intp const *, npy_intp const *);
NPY_NO_EXPORT  PyArray_Descr * PyArray_DescrNewByteorder \
       (PyArray_Descr *, char);
NPY_NO_EXPORT  PyObject * PyArray_IterAllButAxis \
       (PyObject *, int *);
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(2) PyObject * PyArray_CheckFromAny \
       (PyObject *, PyArray_Descr *, int, int, int, PyObject *);
NPY_NO_EXPORT NPY_STEALS_REF_TO_ARG(2) PyObject * PyArray_FromArray \
       (PyArrayObject *, PyArray_Descr *, int);
NPY_NO_EXPORT  PyObject * PyArray_FromInterface \
       (PyObject *);
NPY_NO_EXPORT  PyObject * P